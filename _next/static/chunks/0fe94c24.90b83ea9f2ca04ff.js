"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{1418:function(h,d,y){y.r(d),y.d(d,{QrScanner:function(){return Xi},useMediaDevices:function(){return N}});var w,_,v,A=y(7294),s=function(){return(s=Object.assign||function(h){for(var d,y=1,w=arguments.length;y<w;y++)for(var _ in d=arguments[y])Object.prototype.hasOwnProperty.call(d,_)&&(h[_]=d[_]);return h}).apply(this,arguments)};function u(h,d,y,w){return new(y||(y=Promise))(function(_,v){function a(h){try{u(w.next(h))}catch(h){v(h)}}function s(h){try{u(w.throw(h))}catch(h){v(h)}}function u(h){var d;h.done?_(h.value):((d=h.value)instanceof y?d:new y(function(h){h(d)})).then(a,s)}u((w=w.apply(h,d||[])).next())})}function c(h,d){var y,w,_,v,A={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function s(C){return function(m){return function(C){if(y)throw TypeError("Generator is already executing.");for(;v&&(v=0,C[0]&&(A=0)),A;)try{if(y=1,w&&(_=2&C[0]?w.return:C[0]?w.throw||((_=w.return)&&_.call(w),0):w.next)&&!(_=_.call(w,C[1])).done)return _;switch(w=0,_&&(C=[2&C[0],_.value]),C[0]){case 0:case 1:_=C;break;case 4:return A.label++,{value:C[1],done:!1};case 5:A.label++,w=C[1],C=[0];continue;case 7:C=A.ops.pop(),A.trys.pop();continue;default:if(!(_=(_=A.trys).length>0&&_[_.length-1])&&(6===C[0]||2===C[0])){A=0;continue}if(3===C[0]&&(!_||C[1]>_[0]&&C[1]<_[3])){A.label=C[1];break}if(6===C[0]&&A.label<_[1]){A.label=_[1],_=C;break}if(_&&A.label<_[2]){A.label=_[2],A.ops.push(C);break}_[2]&&A.ops.pop(),A.trys.pop();continue}C=d.call(h,A)}catch(h){C=[6,h],w=0}finally{y=_=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,m])}}}"function"==typeof SuppressedError&&SuppressedError;var C,m,E,I,S,T,O,b,R={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},N="undefined"!=typeof navigator&&navigator.mediaDevices?function(h){var d=(0,A.useState)([]),y=d[0],w=d[1];return(0,A.useEffect)(function(){var d,y={audio:!1,video:null!=h?h:R},n=function(){navigator.mediaDevices.getUserMedia(y).then(function(h){var y=[];d=h,h.getVideoTracks().forEach(function(h){y.push(h.getSettings())}),w(y)}).catch(function(h){return console.log(h)})};return function(h){for(var d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];h&&h.addEventListener&&h.addEventListener.apply(h,d)}(navigator.mediaDevices,"devicechange",n),n(),function(){(function(h){for(var d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];h&&h.removeEventListener&&h.removeEventListener.apply(h,d)})(navigator.mediaDevices,"devicechange",n),d.getVideoTracks().forEach(function(h){h.stop()})}},[]),y}:function(){return[]},l=function(h){var d,y,w=h.result,_=h.video,v=h.constraints,C=h.deviceId,m=h.scanDelay,E=(0,A.useRef)(null),I=N(v);return(0,A.useEffect)(function(){if(void 0!==w&&null!==E.current&&null!==_&&11===w.getBarcodeFormat()){var h=I[0];if(void 0!==C&&I.length>1){var d=I.find(function(h){return h.deviceId===C});void 0!==d&&(h=d)}if(void 0!==h&&void 0!==h.width){var y=h.width/_.clientWidth,v=E.current,A=v.getContext("2d");if(null!==A){var S=setTimeout(function(){A.clearRect(0,0,v.width,v.height)},m);A.strokeStyle="rgba(0, 255, 0, 0.5)",A.lineWidth=4;var T=w.getResultPoints()[0];A.beginPath(),A.arc(T.getX()/y,T.getY()/y,T.estimatedModuleSize,0,2*Math.PI),A.stroke(),A.closePath();var O=w.getResultPoints()[1];A.beginPath(),A.arc(O.getX()/y,O.getY()/y,O.estimatedModuleSize,0,2*Math.PI),A.stroke(),A.closePath();var b=w.getResultPoints()[2];if(A.beginPath(),A.arc(b.getX()/y,b.getY()/y,b.estimatedModuleSize,0,2*Math.PI),A.stroke(),A.closePath(),w.getResultPoints().length>=4){var R=w.getResultPoints()[3];A.beginPath(),A.arc(R.getX()/y,R.getY()/y,R.estimatedModuleSize,0,2*Math.PI),A.stroke(),A.closePath()}return function(){return clearTimeout(S)}}}}}),A.createElement("canvas",{ref:E,width:null!==(d=null==_?void 0:_.clientWidth)&&void 0!==d?d:0,height:null!==(y=null==_?void 0:_.clientHeight)&&void 0!==y?y:0,style:{position:"absolute",top:0,zIndex:2}})},D={count:{bottom:0,right:5,fontSize:30,color:"#fff",position:"absolute",zIndex:1}},p=function(h){var d=h.scanCount;return A.createElement("div",{style:D.count},d)},g=function(h){var d=h.scanCount,y=h.hideCount,w=h.tracker,_=h.border,v=h.result,C=h.video,m=h.constraints,E=h.deviceId,I=h.scanDelay,S=(0,A.useState)("rgba(255, 0, 0, 0.5)"),T=S[0],O=S[1];return(0,A.useEffect)(function(){if(11!=(null==v?void 0:v.getBarcodeFormat())||!w){O("rgba(0, 255, 0, 0.5)");var h=setTimeout(function(){O("rgba(255, 0, 0, 0.5)")},I);return function(){clearTimeout(h)}}O("rgba(255, 0, 0, 0.5)")},[d]),A.createElement(A.Fragment,null,!y&&A.createElement(p,{scanCount:d}),w&&A.createElement(l,{video:C,result:v,constraints:m,deviceId:E,scanDelay:I}),A.createElement("svg",{viewBox:"0 0 100 100",style:{top:0,left:0,zIndex:1,boxSizing:"border-box",border:"".concat(void 0===_?80:_,"px solid rgba(0, 0, 0, 0.1)"),position:"absolute",width:"100%",height:"100%"}},A.createElement("path",{fill:"none",d:"M23,0 L0,0 L0,23",stroke:T,strokeWidth:"5"}),A.createElement("path",{fill:"none",d:"M0,77 L0,100 L23,100",stroke:T,strokeWidth:"5"}),A.createElement("path",{fill:"none",d:"M77,100 L100,100 L100,77",stroke:T,strokeWidth:"5"}),A.createElement("path",{fill:"none",d:"M100,23 L100,0 77,0",stroke:T,strokeWidth:"5"})))},M=(T=function(h,d){return(T=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(h[y]=d[y])})(h,d)},function(h,d){if("function"!=typeof d&&null!==d)throw TypeError("Class extends value "+String(d)+" is not a constructor or null");function r(){this.constructor=h}T(h,d),h.prototype=null===d?Object.create(d):(r.prototype=d.prototype,new r)}),P=function(h){function e(d,y){var w,_,v,A,C=this.constructor,m=h.call(this,d,y)||this;return Object.defineProperty(m,"name",{value:C.name,enumerable:!1,configurable:!0}),v=C.prototype,(A=Object.setPrototypeOf)?A(m,v):m.__proto__=v,void 0===w&&(w=m.constructor),(_=Error.captureStackTrace)&&_(m,w),m}return M(e,h),e}(Error),B=(O=function(h,d){return(O=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function r(){this.constructor=h}O(h,d),h.prototype=null===d?Object.create(d):(r.prototype=d.prototype,new r)}),L=function(h){function e(d){void 0===d&&(d=void 0);var y=h.call(this,d)||this;return y.message=d,y}return B(e,h),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(P),x=(C=function(h,d){return(C=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}C(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),k=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return x(e,h),e.kind="ArgumentException",e}(L),V=(m=function(h,d){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}m(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),H=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return V(e,h),e.kind="IllegalArgumentException",e}(L),U=function(){function t(h){if(this.binarizer=h,null===h)throw new H("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(h,d){return this.binarizer.getBlackRow(h,d)},t.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(h,d,y,w){var _=this.binarizer.getLuminanceSource().crop(h,d,y,w);return new t(this.binarizer.createBinarizer(_))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var h=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(h))},t.prototype.rotateCounterClockwise45=function(){var h=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(h))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(h){return""}},t}(),X=(E=function(h,d){return(E=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}E(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),G=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return X(e,h),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(L),z=function(){function t(h){this.source=h}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),j=function(){function t(){}return t.arraycopy=function(h,d,y,w,_){for(;_--;)y[w++]=h[d++]},t.currentTimeMillis=function(){return Date.now()},t}(),Y=(I=function(h,d){return(I=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}I(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Z=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return Y(e,h),e.kind="IndexOutOfBoundsException",e}(L),K=(S=function(h,d){return(S=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}S(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),q=function(h){function e(d,y){void 0===d&&(d=void 0),void 0===y&&(y=void 0);var w=h.call(this,y)||this;return w.index=d,w.message=y,w}return K(e,h),e.kind="ArrayIndexOutOfBoundsException",e}(Z),F=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=function(){function t(){}return t.fill=function(h,d){for(var y=0,w=h.length;y<w;y++)h[y]=d},t.fillWithin=function(h,d,y,w){t.rangeCheck(h.length,d,y);for(var _=d;_<y;_++)h[_]=w},t.rangeCheck=function(h,d,y){if(d>y)throw new H("fromIndex("+d+") > toIndex("+y+")");if(d<0)throw new q(d);if(y>h)throw new q(y)},t.asList=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];return h},t.create=function(h,d,y){return Array.from({length:h}).map(function(h){return Array.from({length:d}).fill(y)})},t.createInt32Array=function(h,d,y){return Array.from({length:h}).map(function(h){return Int32Array.from({length:d}).fill(y)})},t.equals=function(h,d){if(!h||!d||!h.length||!d.length||h.length!==d.length)return!1;for(var y=0,w=h.length;y<w;y++)if(h[y]!==d[y])return!1;return!0},t.hashCode=function(h){if(null===h)return 0;var d,y,w=1;try{for(var _=F(h),v=_.next();!v.done;v=_.next())w=31*w+v.value}catch(h){d={error:h}}finally{try{v&&!v.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}return w},t.fillUint8Array=function(h,d){for(var y=0;y!==h.length;y++)h[y]=d},t.copyOf=function(h,d){return h.slice(0,d)},t.copyOfUint8Array=function(h,d){if(h.length<=d){var y=new Uint8Array(d);return y.set(h),y}return h.slice(0,d)},t.copyOfRange=function(h,d,y){var w=y-d,_=new Int32Array(w);return j.arraycopy(h,d,_,0,w),_},t.binarySearch=function(h,d,y){void 0===y&&(y=t.numberComparator);for(var w=0,_=h.length-1;w<=_;){var v=_+w>>1,A=y(d,h[v]);if(A>0)w=v+1;else{if(!(A<0))return v;_=v-1}}return-w-1},t.numberComparator=function(h,d){return h-d},t}(),J=function(){function t(){}return t.numberOfTrailingZeros=function(h){if(0===h)return 32;var d,y=31;return 0!=(d=h<<16)&&(y-=16,h=d),0!=(d=h<<8)&&(y-=8,h=d),0!=(d=h<<4)&&(y-=4,h=d),0!=(d=h<<2)&&(y-=2,h=d),y-(h<<1>>>31)},t.numberOfLeadingZeros=function(h){if(0===h)return 32;var d=1;return h>>>16==0&&(d+=16,h<<=16),h>>>24==0&&(d+=8,h<<=8),h>>>28==0&&(d+=4,h<<=4),h>>>30==0&&(d+=2,h<<=2),d-=h>>>31},t.toHexString=function(h){return h.toString(16)},t.toBinaryString=function(h){return String(parseInt(String(h),2))},t.bitCount=function(h){return h=(h=(858993459&(h-=h>>>1&1431655765))+(h>>>2&858993459))+(h>>>4)&252645135,h+=h>>>8,63&(h+=h>>>16)},t.truncDivision=function(h,d){return Math.trunc(h/d)},t.parseInt=function(h,d){return void 0===d&&(d=void 0),parseInt(h,d)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),$=function(){function t(h,d){void 0===h?(this.size=0,this.bits=new Int32Array(1)):(this.size=h,this.bits=null==d?t.makeArray(h):d)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(h){if(h>32*this.bits.length){var d=t.makeArray(h);j.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}},t.prototype.get=function(h){return 0!=(this.bits[Math.floor(h/32)]&1<<(31&h))},t.prototype.set=function(h){this.bits[Math.floor(h/32)]|=1<<(31&h)},t.prototype.flip=function(h){this.bits[Math.floor(h/32)]^=1<<(31&h)},t.prototype.getNextSet=function(h){var d=this.size;if(h>=d)return d;var y=this.bits,w=Math.floor(h/32),_=y[w];_&=~((1<<(31&h))-1);for(var v=y.length;0===_;){if(++w===v)return d;_=y[w]}var A=32*w+J.numberOfTrailingZeros(_);return A>d?d:A},t.prototype.getNextUnset=function(h){var d=this.size;if(h>=d)return d;var y=this.bits,w=Math.floor(h/32),_=~y[w];_&=~((1<<(31&h))-1);for(var v=y.length;0===_;){if(++w===v)return d;_=~y[w]}var A=32*w+J.numberOfTrailingZeros(_);return A>d?d:A},t.prototype.setBulk=function(h,d){this.bits[Math.floor(h/32)]=d},t.prototype.setRange=function(h,d){if(d<h||h<0||d>this.size)throw new H;if(d!==h){d--;for(var y=Math.floor(h/32),w=Math.floor(d/32),_=this.bits,v=y;v<=w;v++){var A=(2<<(v<w?31:31&d))-(1<<(v>y?0:31&h));_[v]|=A}}},t.prototype.clear=function(){for(var h=this.bits.length,d=this.bits,y=0;y<h;y++)d[y]=0},t.prototype.isRange=function(h,d,y){if(d<h||h<0||d>this.size)throw new H;if(d===h)return!0;d--;for(var w=Math.floor(h/32),_=Math.floor(d/32),v=this.bits,A=w;A<=_;A++){var C=(2<<(A<_?31:31&d))-(1<<(A>w?0:31&h))&4294967295;if((v[A]&C)!==(y?C:0))return!1}return!0},t.prototype.appendBit=function(h){this.ensureCapacity(this.size+1),h&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(h,d){if(d<0||d>32)throw new H("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(var y=d;y>0;y--)this.appendBit(1==(h>>y-1&1))},t.prototype.appendBitArray=function(h){var d=h.size;this.ensureCapacity(this.size+d);for(var y=0;y<d;y++)this.appendBit(h.get(y))},t.prototype.xor=function(h){if(this.size!==h.size)throw new H("Sizes don't match");for(var d=this.bits,y=0,w=d.length;y<w;y++)d[y]^=h.bits[y]},t.prototype.toBytes=function(h,d,y,w){for(var _=0;_<w;_++){for(var v=0,A=0;A<8;A++)this.get(h)&&(v|=1<<7-A),h++;d[y+_]=v}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var h=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),y=d+1,w=this.bits,_=0;_<y;_++){var v=w[_];v=(v=(v=(v=(v=v>>1&1431655765|(1431655765&v)<<1)>>2&858993459|(858993459&v)<<2)>>4&252645135|(252645135&v)<<4)>>8&16711935|(16711935&v)<<8)>>16&65535|(65535&v)<<16,h[d-_]=v}if(this.size!==32*y){var A=32*y-this.size,C=h[0]>>>A;for(_=1;_<y;_++){var m=h[_];C|=m<<32-A,h[_-1]=C,C=m>>>A}h[y-1]=C}this.bits=h},t.makeArray=function(h){return new Int32Array(Math.floor((h+31)/32))},t.prototype.equals=function(h){return h instanceof t&&this.size===h.size&&Q.equals(this.bits,h.bits)},t.prototype.hashCode=function(){return 31*this.size+Q.hashCode(this.bits)},t.prototype.toString=function(){for(var h="",d=0,y=this.size;d<y;d++)0==(7&d)&&(h+=" "),h+=this.get(d)?"X":".";return h},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var h=[],d=0,y=this.size;d<y;d++)h.push(this.get(d));return h},t}();(tt=b||(b={}))[tt.OTHER=0]="OTHER",tt[tt.PURE_BARCODE=1]="PURE_BARCODE",tt[tt.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",tt[tt.TRY_HARDER=3]="TRY_HARDER",tt[tt.CHARACTER_SET=4]="CHARACTER_SET",tt[tt.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",tt[tt.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",tt[tt.ASSUME_GS1=7]="ASSUME_GS1",tt[tt.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",tt[tt.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",tt[tt.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS";var tt,te,tr,to=b,ti=(te=function(h,d){return(te=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}te(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ta=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return ti(e,h),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(L),W=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};(ts=tr||(tr={}))[ts.Cp437=0]="Cp437",ts[ts.ISO8859_1=1]="ISO8859_1",ts[ts.ISO8859_2=2]="ISO8859_2",ts[ts.ISO8859_3=3]="ISO8859_3",ts[ts.ISO8859_4=4]="ISO8859_4",ts[ts.ISO8859_5=5]="ISO8859_5",ts[ts.ISO8859_6=6]="ISO8859_6",ts[ts.ISO8859_7=7]="ISO8859_7",ts[ts.ISO8859_8=8]="ISO8859_8",ts[ts.ISO8859_9=9]="ISO8859_9",ts[ts.ISO8859_10=10]="ISO8859_10",ts[ts.ISO8859_11=11]="ISO8859_11",ts[ts.ISO8859_13=12]="ISO8859_13",ts[ts.ISO8859_14=13]="ISO8859_14",ts[ts.ISO8859_15=14]="ISO8859_15",ts[ts.ISO8859_16=15]="ISO8859_16",ts[ts.SJIS=16]="SJIS",ts[ts.Cp1250=17]="Cp1250",ts[ts.Cp1251=18]="Cp1251",ts[ts.Cp1252=19]="Cp1252",ts[ts.Cp1256=20]="Cp1256",ts[ts.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ts[ts.UTF8=22]="UTF8",ts[ts.ASCII=23]="ASCII",ts[ts.Big5=24]="Big5",ts[ts.GB18030=25]="GB18030",ts[ts.EUC_KR=26]="EUC_KR";var ts,tu,tc,tf,th,tl,td,tp,tg=function(){function t(h,d,y){for(var w,_,v=[],A=3;A<arguments.length;A++)v[A-3]=arguments[A];this.valueIdentifier=h,this.name=y,this.values="number"==typeof d?Int32Array.from([d]):d,this.otherEncodingNames=v,t.VALUE_IDENTIFIER_TO_ECI.set(h,this),t.NAME_TO_ECI.set(y,this);for(var C=this.values,m=0,E=C.length;m!==E;m++){var I=C[m];t.VALUES_TO_ECI.set(I,this)}try{for(var S=W(v),T=S.next();!T.done;T=S.next()){var O=T.value;t.NAME_TO_ECI.set(O,this)}}catch(h){w={error:h}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(h){if(h<0||h>=900)throw new ta("incorect value");var d=t.VALUES_TO_ECI.get(h);if(void 0===d)throw new ta("incorect value");return d},t.getCharacterSetECIByName=function(h){var d=t.NAME_TO_ECI.get(h);if(void 0===d)throw new ta("incorect value");return d},t.prototype.equals=function(h){return h instanceof t&&this.getName()===h.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(tr.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(tr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(tr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(tr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(tr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(tr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(tr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(tr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(tr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(tr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(tr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(tr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(tr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(tr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(tr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(tr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(tr.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(tr.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(tr.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(tr.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(tr.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(tr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(tr.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(tr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(tr.Big5,28,"Big5"),t.GB18030=new t(tr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(tr.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),ty=(tu=function(h,d){return(tu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tu(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tw=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return ty(e,h),e.kind="UnsupportedOperationException",e}(L),t_=function(){function t(){}return t.decode=function(h,d){var y=this.encodingName(d);return this.customDecoder?this.customDecoder(h,y):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(y)?this.decodeFallback(h,y):new TextDecoder(y).decode(h)},t.shouldDecodeOnFallback=function(h){return!t.isBrowser()&&"ISO-8859-1"===h},t.encode=function(h,d){var y=this.encodingName(d);return this.customEncoder?this.customEncoder(h,y):"undefined"==typeof TextEncoder?this.encodeFallback(h):(new TextEncoder).encode(h)},t.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"===({}).toString.call(window)},t.encodingName=function(h){return"string"==typeof h?h:h.getName()},t.encodingCharacterSet=function(h){return h instanceof tg?h:tg.getCharacterSetECIByName(h)},t.decodeFallback=function(h,d){var y=this.encodingCharacterSet(d);if(t.isDecodeFallbackSupported(y)){for(var w="",_=0,v=h.length;_<v;_++){var A=h[_].toString(16);A.length<2&&(A="0"+A),w+="%"+A}return decodeURIComponent(w)}if(y.equals(tg.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(h.buffer));throw new tw("Encoding "+this.encodingName(d)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(h){return h.equals(tg.UTF8)||h.equals(tg.ISO8859_1)||h.equals(tg.ASCII)},t.encodeFallback=function(h){for(var d=btoa(unescape(encodeURIComponent(h))).split(""),y=[],w=0;w<d.length;w++)y.push(d[w].charCodeAt(0));return new Uint8Array(y)},t}(),tv=function(){function t(){}return t.castAsNonUtf8Char=function(h,d){void 0===d&&(d=null);var y=d?d.getName():this.ISO88591;return t_.decode(new Uint8Array([h]),y)},t.guessEncoding=function(h,d){if(null!=d&&void 0!==d.get(to.CHARACTER_SET))return d.get(to.CHARACTER_SET).toString();for(var y=h.length,w=!0,_=!0,v=!0,A=0,C=0,m=0,E=0,I=0,S=0,T=0,O=0,b=0,R=0,N=0,D=h.length>3&&239===h[0]&&187===h[1]&&191===h[2],M=0;M<y&&(w||_||v);M++){var P=255&h[M];v&&(A>0?0==(128&P)?v=!1:A--:0!=(128&P)&&(0==(64&P)?v=!1:(A++,0==(32&P)?C++:(A++,0==(16&P)?m++:(A++,0==(8&P)?E++:v=!1))))),w&&(P>127&&P<160?w=!1:P>159&&(P<192||215===P||247===P)&&N++),_&&(I>0?P<64||127===P||P>252?_=!1:I--:128===P||160===P||P>239?_=!1:P>160&&P<224?(S++,O=0,++T>b&&(b=T)):P>127?(I++,T=0,++O>R&&(R=O)):(T=0,O=0))}return v&&A>0&&(v=!1),_&&I>0&&(_=!1),v&&(D||C+m+E>0)?t.UTF8:_&&(t.ASSUME_SHIFT_JIS||b>=3||R>=3)?t.SHIFT_JIS:w&&_?2===b&&2===S||10*N>=y?t.SHIFT_JIS:t.ISO88591:w?t.ISO88591:_?t.SHIFT_JIS:v?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(h){for(var d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];var w=-1;return h.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(h,y,_,v,A,C){if("%%"===h)return"%";if(void 0!==d[++w]){h=v?parseInt(v.substr(1)):void 0;var m,E=A?parseInt(A.substr(1)):void 0;switch(C){case"s":m=d[w];break;case"c":m=d[w][0];break;case"f":m=parseFloat(d[w]).toFixed(h);break;case"p":m=parseFloat(d[w]).toPrecision(h);break;case"e":m=parseFloat(d[w]).toExponential(h);break;case"x":m=parseInt(d[w]).toString(E||16);break;case"d":m=parseFloat(parseInt(d[w],E||10).toPrecision(h)).toFixed(0)}m="object"==typeof m?JSON.stringify(m):(+m).toString(E);for(var I=parseInt(_),S=_&&_[0]+""=="0"?"0":" ";m.length<I;)m=void 0!==y?m+S:S+m;return m}})},t.getBytes=function(h,d){return t_.encode(h,d)},t.getCharCode=function(h,d){return void 0===d&&(d=0),h.charCodeAt(d)},t.getCharAt=function(h){return String.fromCharCode(h)},t.SHIFT_JIS=tg.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=tg.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=tg.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),tA=function(){function t(h){void 0===h&&(h=""),this.value=h}return t.prototype.enableDecoding=function(h){return this.encoding=h,this},t.prototype.append=function(h){return"string"==typeof h?this.value+=h.toString():this.encoding?this.value+=tv.castAsNonUtf8Char(h,this.encoding):this.value+=String.fromCharCode(h),this},t.prototype.appendChars=function(h,d,y){for(var w=d;d<d+y;w++)this.append(h[w]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(h){return this.value.charAt(h)},t.prototype.deleteCharAt=function(h){this.value=this.value.substr(0,h)+this.value.substring(h+1)},t.prototype.setCharAt=function(h,d){this.value=this.value.substr(0,h)+d+this.value.substr(h+1)},t.prototype.substring=function(h,d){return this.value.substring(h,d)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(h,d){this.value=this.value.substring(0,h)+d+this.value.substring(h)},t}(),tC=function(){function t(h,d,y,w){if(this.width=h,this.height=d,this.rowSize=y,this.bits=w,null==d&&(d=h),this.height=d,h<1||d<1)throw new H("Both dimensions must be greater than 0");null==y&&(y=Math.floor((h+31)/32)),this.rowSize=y,null==w&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(h){for(var d=h.length,y=h[0].length,w=new t(y,d),_=0;_<d;_++)for(var v=h[_],A=0;A<y;A++)v[A]&&w.set(A,_);return w},t.parseFromString=function(h,d,y){if(null===h)throw new H("stringRepresentation cannot be null");for(var w=Array(h.length),_=0,v=0,A=-1,C=0,m=0;m<h.length;)if("\n"===h.charAt(m)||"\r"===h.charAt(m)){if(_>v){if(-1===A)A=_-v;else if(_-v!==A)throw new H("row lengths do not match");v=_,C++}m++}else if(h.substring(m,m+d.length)===d)m+=d.length,w[_]=!0,_++;else{if(h.substring(m,m+y.length)!==y)throw new H("illegal character encountered: "+h.substring(m));m+=y.length,w[_]=!1,_++}if(_>v){if(-1===A)A=_-v;else if(_-v!==A)throw new H("row lengths do not match");C++}for(var E=new t(A,C),I=0;I<_;I++)w[I]&&E.set(Math.floor(I%A),Math.floor(I/A));return E},t.prototype.get=function(h,d){var y=d*this.rowSize+Math.floor(h/32);return 0!=(this.bits[y]>>>(31&h)&1)},t.prototype.set=function(h,d){var y=d*this.rowSize+Math.floor(h/32);this.bits[y]|=1<<(31&h)&4294967295},t.prototype.unset=function(h,d){var y=d*this.rowSize+Math.floor(h/32);this.bits[y]&=~(1<<(31&h)&4294967295)},t.prototype.flip=function(h,d){var y=d*this.rowSize+Math.floor(h/32);this.bits[y]^=1<<(31&h)&4294967295},t.prototype.xor=function(h){if(this.width!==h.getWidth()||this.height!==h.getHeight()||this.rowSize!==h.getRowSize())throw new H("input matrix dimensions do not match");for(var d=new $(Math.floor(this.width/32)+1),y=this.rowSize,w=this.bits,_=0,v=this.height;_<v;_++)for(var A=_*y,C=h.getRow(_,d).getBitArray(),m=0;m<y;m++)w[A+m]^=C[m]},t.prototype.clear=function(){for(var h=this.bits,d=h.length,y=0;y<d;y++)h[y]=0},t.prototype.setRegion=function(h,d,y,w){if(d<0||h<0)throw new H("Left and top must be nonnegative");if(w<1||y<1)throw new H("Height and width must be at least 1");var _=h+y,v=d+w;if(v>this.height||_>this.width)throw new H("The region must fit inside the matrix");for(var A=this.rowSize,C=this.bits,m=d;m<v;m++)for(var E=m*A,I=h;I<_;I++)C[E+Math.floor(I/32)]|=1<<(31&I)&4294967295},t.prototype.getRow=function(h,d){null==d||d.getSize()<this.width?d=new $(this.width):d.clear();for(var y=this.rowSize,w=this.bits,_=h*y,v=0;v<y;v++)d.setBulk(32*v,w[_+v]);return d},t.prototype.setRow=function(h,d){j.arraycopy(d.getBitArray(),0,this.bits,h*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var h=this.getWidth(),d=this.getHeight(),y=new $(h),w=new $(h),_=0,v=Math.floor((d+1)/2);_<v;_++)y=this.getRow(_,y),w=this.getRow(d-1-_,w),y.reverse(),w.reverse(),this.setRow(_,w),this.setRow(d-1-_,y)},t.prototype.getEnclosingRectangle=function(){for(var h=this.width,d=this.height,y=this.rowSize,w=this.bits,_=h,v=d,A=-1,C=-1,m=0;m<d;m++)for(var E=0;E<y;E++){var I=w[m*y+E];if(0!==I){if(m<v&&(v=m),m>C&&(C=m),32*E<_){for(var S=0;0==(I<<31-S&4294967295);)S++;32*E+S<_&&(_=32*E+S)}if(32*E+31>A){for(S=31;I>>>S==0;)S--;32*E+S>A&&(A=32*E+S)}}}return A<_||C<v?null:Int32Array.from([_,v,A-_+1,C-v+1])},t.prototype.getTopLeftOnBit=function(){for(var h=this.rowSize,d=this.bits,y=0;y<d.length&&0===d[y];)y++;if(y===d.length)return null;for(var w=y/h,_=y%h*32,v=d[y],A=0;0==(v<<31-A&4294967295);)A++;return _+=A,Int32Array.from([_,w])},t.prototype.getBottomRightOnBit=function(){for(var h=this.rowSize,d=this.bits,y=d.length-1;y>=0&&0===d[y];)y--;if(y<0)return null;for(var w=Math.floor(y/h),_=32*Math.floor(y%h),v=d[y],A=31;v>>>A==0;)A--;return _+=A,Int32Array.from([_,w])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(h){return h instanceof t&&this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&Q.equals(this.bits,h.bits)},t.prototype.hashCode=function(){var h=this.width;return 31*(h=31*(h=31*(h=31*h+this.width)+this.height)+this.rowSize)+Q.hashCode(this.bits)},t.prototype.toString=function(h,d,y){return void 0===h&&(h="X "),void 0===d&&(d="  "),void 0===y&&(y="\n"),this.buildToString(h,d,y)},t.prototype.buildToString=function(h,d,y){for(var w=new tA,_=0,v=this.height;_<v;_++){for(var A=0,C=this.width;A<C;A++)w.append(this.get(A,_)?h:d);w.append(y)}return w.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),tm=(tc=function(h,d){return(tc=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tc(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tE=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return tm(e,h),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(L),tI=(tf=function(h,d){return(tf=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tf(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tS=function(h){function e(d){var y=h.call(this,d)||this;return y.luminances=e.EMPTY,y.buckets=new Int32Array(e.LUMINANCE_BUCKETS),y}return tI(e,h),e.prototype.getBlackRow=function(h,d){var y=this.getLuminanceSource(),w=y.getWidth();null==d||d.getSize()<w?d=new $(w):d.clear(),this.initArrays(w);for(var _=y.getRow(h,this.luminances),v=this.buckets,A=0;A<w;A++)v[(255&_[A])>>e.LUMINANCE_SHIFT]++;var C=e.estimateBlackPoint(v);if(w<3)for(A=0;A<w;A++)(255&_[A])<C&&d.set(A);else{var m=255&_[0],E=255&_[1];for(A=1;A<w-1;A++){var I=255&_[A+1];(4*E-m-I)/2<C&&d.set(A),m=E,E=I}}return d},e.prototype.getBlackMatrix=function(){var h=this.getLuminanceSource(),d=h.getWidth(),y=h.getHeight(),w=new tC(d,y);this.initArrays(d);for(var _=this.buckets,v=1;v<5;v++)for(var A=Math.floor(y*v/5),C=h.getRow(A,this.luminances),m=Math.floor(4*d/5),E=Math.floor(d/5);E<m;E++)_[(255&C[E])>>e.LUMINANCE_SHIFT]++;var I=e.estimateBlackPoint(_),S=h.getMatrix();for(v=0;v<y;v++){var T=v*d;for(E=0;E<d;E++)(255&S[T+E])<I&&w.set(E,v)}return w},e.prototype.createBinarizer=function(h){return new e(h)},e.prototype.initArrays=function(h){this.luminances.length<h&&(this.luminances=new Uint8ClampedArray(h));for(var d=this.buckets,y=0;y<e.LUMINANCE_BUCKETS;y++)d[y]=0},e.estimateBlackPoint=function(h){for(var d=h.length,y=0,w=0,_=0,v=0;v<d;v++)h[v]>_&&(w=v,_=h[v]),h[v]>y&&(y=h[v]);var A=0,C=0;for(v=0;v<d;v++){var m=v-w;(T=h[v]*m*m)>C&&(A=v,C=T)}if(w>A){var E=w;w=A,A=E}if(A-w<=d/16)throw new tE;var I=A-1,S=-1;for(v=A-1;v>w;v--){var T,O=v-w;(T=O*O*(A-v)*(y-h[v]))>S&&(I=v,S=T)}return I<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(z),tT=(th=function(h,d){return(th=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}th(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tO=function(h){function e(d){var y=h.call(this,d)||this;return y.matrix=null,y}return tT(e,h),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var d=this.getLuminanceSource(),y=d.getWidth(),w=d.getHeight();if(y>=e.MINIMUM_DIMENSION&&w>=e.MINIMUM_DIMENSION){var _=d.getMatrix(),v=y>>e.BLOCK_SIZE_POWER;0!=(y&e.BLOCK_SIZE_MASK)&&v++;var A=w>>e.BLOCK_SIZE_POWER;0!=(w&e.BLOCK_SIZE_MASK)&&A++;var C=e.calculateBlackPoints(_,v,A,y,w),m=new tC(y,w);e.calculateThresholdForBlock(_,v,A,y,w,C,m),this.matrix=m}else this.matrix=h.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(h){return new e(h)},e.calculateThresholdForBlock=function(h,d,y,w,_,v,A){for(var C=_-e.BLOCK_SIZE,m=w-e.BLOCK_SIZE,E=0;E<y;E++){var I=E<<e.BLOCK_SIZE_POWER;I>C&&(I=C);for(var S=e.cap(E,2,y-3),T=0;T<d;T++){var O=T<<e.BLOCK_SIZE_POWER;O>m&&(O=m);for(var b=e.cap(T,2,d-3),R=0,N=-2;N<=2;N++){var D=v[S+N];R+=D[b-2]+D[b-1]+D[b]+D[b+1]+D[b+2]}var M=R/25;e.thresholdBlock(h,O,I,M,w,A)}}},e.cap=function(h,d,y){return h<d?d:h>y?y:h},e.thresholdBlock=function(h,d,y,w,_,v){for(var A=0,C=y*_+d;A<e.BLOCK_SIZE;A++,C+=_)for(var m=0;m<e.BLOCK_SIZE;m++)(255&h[C+m])<=w&&v.set(d+m,y+A)},e.calculateBlackPoints=function(h,d,y,w,_){for(var v=_-e.BLOCK_SIZE,A=w-e.BLOCK_SIZE,C=Array(y),m=0;m<y;m++){C[m]=new Int32Array(d);var E=m<<e.BLOCK_SIZE_POWER;E>v&&(E=v);for(var I=0;I<d;I++){var S=I<<e.BLOCK_SIZE_POWER;S>A&&(S=A);for(var T=0,O=255,b=0,R=0,N=E*w+S;R<e.BLOCK_SIZE;R++,N+=w){for(var D=0;D<e.BLOCK_SIZE;D++){var M=255&h[N+D];T+=M,M<O&&(O=M),M>b&&(b=M)}if(b-O>e.MIN_DYNAMIC_RANGE)for(R++,N+=w;R<e.BLOCK_SIZE;R++,N+=w)for(D=0;D<e.BLOCK_SIZE;D++)T+=255&h[N+D]}var P=T>>2*e.BLOCK_SIZE_POWER;if(b-O<=e.MIN_DYNAMIC_RANGE&&(P=O/2,m>0&&I>0)){var B=(C[m-1][I]+2*C[m][I-1]+C[m-1][I-1])/4;O<B&&(P=B)}C[m][I]=P}}return C},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(tS),tb=function(){function t(h,d){this.width=h,this.height=d}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(h,d,y,w){throw new tw("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new tw("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new tw("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var h=new Uint8ClampedArray(this.width),d=new tA,y=0;y<this.height;y++){for(var w=this.getRow(y,h),_=0;_<this.width;_++){var v=255&w[_],A=void 0;A=v<64?"#":v<128?"+":v<192?".":" ",d.append(A)}d.append("\n")}return d.toString()},t}(),tR=(tl=function(h,d){return(tl=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tl(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tN=function(h){function e(d){var y=h.call(this,d.getWidth(),d.getHeight())||this;return y.delegate=d,y}return tR(e,h),e.prototype.getRow=function(h,d){for(var y=this.delegate.getRow(h,d),w=this.getWidth(),_=0;_<w;_++)y[_]=255-(255&y[_]);return y},e.prototype.getMatrix=function(){for(var h=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),y=new Uint8ClampedArray(d),w=0;w<d;w++)y[w]=255-(255&h[w]);return y},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(h,d,y,w){return new e(this.delegate.crop(h,d,y,w))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(tb),tD=(td=function(h,d){return(td=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}td(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tM=function(h){function e(d){var y=h.call(this,d.width,d.height)||this;return y.canvas=d,y.tempCanvasElement=null,y.buffer=e.makeBufferFromCanvasImageData(d),y}return tD(e,h),e.makeBufferFromCanvasImageData=function(h){var d=h.getContext("2d").getImageData(0,0,h.width,h.height);return e.toGrayscaleBuffer(d.data,h.width,h.height)},e.toGrayscaleBuffer=function(h,d,y){var w=new Uint8ClampedArray(d*y);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX)for(var _=0,v=0,A=h.length;_<A;_+=4,v++){var C=void 0;C=0===h[_+3]?255:306*h[_]+601*h[_+1]+117*h[_+2]+512>>10,w[v]=C}else{_=0,v=0;for(var m=h.length;_<m;_+=4,v++)C=void 0,C=0===h[_+3]?255:306*h[_]+601*h[_+1]+117*h[_+2]+512>>10,w[v]=255-C}return w},e.prototype.getRow=function(h,d){if(h<0||h>=this.getHeight())throw new H("Requested row is outside the image: "+h);var y=this.getWidth(),w=h*y;return null===d?d=this.buffer.slice(w,w+y):(d.length<y&&(d=new Uint8ClampedArray(y)),d.set(this.buffer.slice(w,w+y))),d},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(d,y,w,_){return h.prototype.crop.call(this,d,y,w,_),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var h=this.canvas.ownerDocument.createElement("canvas");h.width=this.canvas.width,h.height=this.canvas.height,this.tempCanvasElement=h}return this.tempCanvasElement},e.prototype.rotate=function(h){var d=this.getTempCanvasElement(),y=d.getContext("2d"),w=h*e.DEGREE_TO_RADIANS,_=this.canvas.width,v=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(w))*_+Math.abs(Math.sin(w))*v),C=Math.ceil(Math.abs(Math.sin(w))*_+Math.abs(Math.cos(w))*v);return d.width=A,d.height=C,y.translate(A/2,C/2),y.rotate(w),y.drawImage(this.canvas,-(_/2),-(v/2)),this.buffer=e.makeBufferFromCanvasImageData(d),this},e.prototype.invert=function(){return new tN(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(tb),tP=function(){function t(h,d,y){this.deviceId=h,this.label=d,this.kind="videoinput",this.groupId=y||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ht=function(h,d,y,w){return new(y||(y=Promise))(function(_,v){function a(h){try{u(w.next(h))}catch(h){v(h)}}function s(h){try{u(w.throw(h))}catch(h){v(h)}}function u(h){var d;h.done?_(h.value):((d=h.value)instanceof y?d:new y(function(h){h(d)})).then(a,s)}u((w=w.apply(h,d||[])).next())})},lt=function(h,d){var y,w,_,v,A={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function s(v){return function(C){return function(v){if(y)throw TypeError("Generator is already executing.");for(;A;)try{if(y=1,w&&(_=2&v[0]?w.return:v[0]?w.throw||((_=w.return)&&_.call(w),0):w.next)&&!(_=_.call(w,v[1])).done)return _;switch(w=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return A.label++,{value:v[1],done:!1};case 5:A.label++,w=v[1],v=[0];continue;case 7:v=A.ops.pop(),A.trys.pop();continue;default:if(!(_=(_=A.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){A=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){A.label=v[1];break}if(6===v[0]&&A.label<_[1]){A.label=_[1],_=v;break}if(_&&A.label<_[2]){A.label=_[2],A.ops.push(v);break}_[2]&&A.ops.pop(),A.trys.pop();continue}v=d.call(h,A)}catch(h){v=[6,h],w=0}finally{y=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,C])}}},dt=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},tB=function(){function t(h,d,y){void 0===d&&(d=500),this.reader=h,this.timeBetweenScansMillis=d,this._hints=y,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(h){this._timeBetweenDecodingAttempts=h<0?0:h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(h){this._hints=h||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ht(this,void 0,void 0,function(){var h,d,y,w,_,v,A,C,m,E,I,S;return lt(this,function(T){switch(T.label){case 0:if(!this.hasNavigator)throw Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:h=T.sent(),d=[];try{for(w=(y=dt(h)).next();!w.done;w=y.next())_=w.value,"videoinput"===(v="video"===_.kind?"videoinput":_.kind)&&(A=_.deviceId||_.id,C=_.label||"Video device "+(d.length+1),m=_.groupId,E={deviceId:A,label:C,kind:v,groupId:m},d.push(E))}catch(h){I={error:h}}finally{try{w&&!w.done&&(S=y.return)&&S.call(y)}finally{if(I)throw I.error}}return[2,d]}})})},t.prototype.getVideoInputDevices=function(){return ht(this,void 0,void 0,function(){return lt(this,function(h){switch(h.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,h.sent().map(function(h){return new tP(h.deviceId,h.label)})]}})})},t.prototype.findDeviceById=function(h){return ht(this,void 0,void 0,function(){var d;return lt(this,function(y){switch(y.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(d=y.sent())?[2,d.find(function(d){return d.deviceId===h})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(h,d){return ht(this,void 0,void 0,function(){return lt(this,function(y){switch(y.label){case 0:return[4,this.decodeOnceFromVideoDevice(h,d)];case 1:return[2,y.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(h,d){return ht(this,void 0,void 0,function(){var y;return lt(this,function(w){switch(w.label){case 0:return this.reset(),y={video:h?{deviceId:{exact:h}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(y,d)];case 1:return[2,w.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(h,d){return ht(this,void 0,void 0,function(){var y;return lt(this,function(w){switch(w.label){case 0:return[4,navigator.mediaDevices.getUserMedia(h)];case 1:return y=w.sent(),[4,this.decodeOnceFromStream(y,d)];case 2:return[2,w.sent()]}})})},t.prototype.decodeOnceFromStream=function(h,d){return ht(this,void 0,void 0,function(){var y;return lt(this,function(w){switch(w.label){case 0:return this.reset(),[4,this.attachStreamToVideo(h,d)];case 1:return y=w.sent(),[4,this.decodeOnce(y)];case 2:return[2,w.sent()]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(h,d,y){return ht(this,void 0,void 0,function(){return lt(this,function(w){switch(w.label){case 0:return[4,this.decodeFromVideoDevice(h,d,y)];case 1:return[2,w.sent()]}})})},t.prototype.decodeFromVideoDevice=function(h,d,y){return ht(this,void 0,void 0,function(){var w;return lt(this,function(_){switch(_.label){case 0:return w={video:h?{deviceId:{exact:h}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(w,d,y)];case 1:return[2,_.sent()]}})})},t.prototype.decodeFromConstraints=function(h,d,y){return ht(this,void 0,void 0,function(){var w;return lt(this,function(_){switch(_.label){case 0:return[4,navigator.mediaDevices.getUserMedia(h)];case 1:return w=_.sent(),[4,this.decodeFromStream(w,d,y)];case 2:return[2,_.sent()]}})})},t.prototype.decodeFromStream=function(h,d,y){return ht(this,void 0,void 0,function(){var w;return lt(this,function(_){switch(_.label){case 0:return this.reset(),[4,this.attachStreamToVideo(h,d)];case 1:return w=_.sent(),[4,this.decodeContinuously(w,y)];case 2:return[2,_.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(h,d){return ht(this,void 0,void 0,function(){var y;return lt(this,function(w){switch(w.label){case 0:return y=this.prepareVideoElement(d),this.addVideoSource(y,h),this.videoElement=y,this.stream=h,[4,this.playVideoOnLoadAsync(y)];case 1:return w.sent(),[2,y]}})})},t.prototype.playVideoOnLoadAsync=function(h){var d=this;return new Promise(function(y,w){return d.playVideoOnLoad(h,function(){return y()})})},t.prototype.playVideoOnLoad=function(h,d){var y=this;this.videoEndedListener=function(){return y.stopStreams()},this.videoCanPlayListener=function(){return y.tryPlayVideo(h)},h.addEventListener("ended",this.videoEndedListener),h.addEventListener("canplay",this.videoCanPlayListener),h.addEventListener("playing",d),this.tryPlayVideo(h)},t.prototype.isVideoPlaying=function(h){return h.currentTime>0&&!h.paused&&!h.ended&&h.readyState>2},t.prototype.tryPlayVideo=function(h){return ht(this,void 0,void 0,function(){return lt(this,function(d){switch(d.label){case 0:if(this.isVideoPlaying(h))return console.warn("Trying to play video that is already playing."),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,h.play()];case 2:return d.sent(),[3,4];case 3:return d.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(h,d){var y=document.getElementById(h);if(!y)throw new k("element with id '"+h+"' not found");if(y.nodeName.toLowerCase()!==d.toLowerCase())throw new k("element with id '"+h+"' must be an "+d+" element");return y},t.prototype.decodeFromImage=function(h,d){if(!h&&!d)throw new k("either imageElement with a src set or an url must be provided");return d&&!h?this.decodeFromImageUrl(d):this.decodeFromImageElement(h)},t.prototype.decodeFromVideo=function(h,d){if(!h&&!d)throw new k("Either an element with a src set or an URL must be provided");return d&&!h?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(h)},t.prototype.decodeFromVideoContinuously=function(h,d,y){if(void 0===h&&void 0===d)throw new k("Either an element with a src set or an URL must be provided");return d&&!h?this.decodeFromVideoUrlContinuously(d,y):this.decodeFromVideoElementContinuously(h,y)},t.prototype.decodeFromImageElement=function(h){if(!h)throw new k("An image element must be provided.");this.reset();var d=this.prepareImageElement(h);return this.imageElement=d,this.isImageLoaded(d)?this.decodeOnce(d,!1,!0):this._decodeOnLoadImage(d)},t.prototype.decodeFromVideoElement=function(h){var d=this._decodeFromVideoElementSetup(h);return this._decodeOnLoadVideo(d)},t.prototype.decodeFromVideoElementContinuously=function(h,d){var y=this._decodeFromVideoElementSetup(h);return this._decodeOnLoadVideoContinuously(y,d)},t.prototype._decodeFromVideoElementSetup=function(h){if(!h)throw new k("A video element must be provided.");this.reset();var d=this.prepareVideoElement(h);return this.videoElement=d,d},t.prototype.decodeFromImageUrl=function(h){if(!h)throw new k("An URL must be provided.");this.reset();var d=this.prepareImageElement();this.imageElement=d;var y=this._decodeOnLoadImage(d);return d.src=h,y},t.prototype.decodeFromVideoUrl=function(h){if(!h)throw new k("An URL must be provided.");this.reset();var d=this.prepareVideoElement(),y=this.decodeFromVideoElement(d);return d.src=h,y},t.prototype.decodeFromVideoUrlContinuously=function(h,d){if(!h)throw new k("An URL must be provided.");this.reset();var y=this.prepareVideoElement(),w=this.decodeFromVideoElementContinuously(y,d);return y.src=h,w},t.prototype._decodeOnLoadImage=function(h){var d=this;return new Promise(function(y,w){d.imageLoadedListener=function(){return d.decodeOnce(h,!1,!0).then(y,w)},h.addEventListener("load",d.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(h){return ht(this,void 0,void 0,function(){return lt(this,function(d){switch(d.label){case 0:return[4,this.playVideoOnLoadAsync(h)];case 1:return d.sent(),[4,this.decodeOnce(h)];case 2:return[2,d.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(h,d){return ht(this,void 0,void 0,function(){return lt(this,function(y){switch(y.label){case 0:return[4,this.playVideoOnLoadAsync(h)];case 1:return y.sent(),this.decodeContinuously(h,d),[2]}})})},t.prototype.isImageLoaded=function(h){return!!h.complete&&0!==h.naturalWidth},t.prototype.prepareImageElement=function(h){var d;return void 0===h&&((d=document.createElement("img")).width=200,d.height=200),"string"==typeof h&&(d=this.getMediaElement(h,"img")),h instanceof HTMLImageElement&&(d=h),d},t.prototype.prepareVideoElement=function(h){var d;return h||"undefined"==typeof document||((d=document.createElement("video")).width=200,d.height=200),"string"==typeof h&&(d=this.getMediaElement(h,"video")),h instanceof HTMLVideoElement&&(d=h),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d},t.prototype.decodeOnce=function(h,d,y){var w=this;void 0===d&&(d=!0),void 0===y&&(y=!0),this._stopAsyncDecode=!1;var o=function(_,v){if(w._stopAsyncDecode)return v(new tE("Video stream has ended before any code could be detected.")),void(w._stopAsyncDecode=void 0);try{_(w.decode(h))}catch(h){if(d&&h instanceof tE||(h instanceof G||h instanceof ta)&&y)return setTimeout(o,w._timeBetweenDecodingAttempts,_,v);v(h)}};return new Promise(function(h,d){return o(h,d)})},t.prototype.decodeContinuously=function(h,d){var y=this;this._stopContinuousDecode=!1;var n=function(){if(y._stopContinuousDecode)y._stopContinuousDecode=void 0;else try{var w=y.decode(h);d(w,null),setTimeout(n,y.timeBetweenScansMillis)}catch(h){d(null,h),(h instanceof G||h instanceof ta||h instanceof tE)&&setTimeout(n,y._timeBetweenDecodingAttempts)}};n()},t.prototype.decode=function(h){var d=this.createBinaryBitmap(h);return this.decodeBitmap(d)},t.prototype.createBinaryBitmap=function(h){this.getCaptureCanvasContext(h),h instanceof HTMLVideoElement?this.drawFrameOnCanvas(h):this.drawImageOnCanvas(h);var d=this.getCaptureCanvas(h),y=new tM(d),w=new tO(y);return new U(w)},t.prototype.getCaptureCanvasContext=function(h){if(!this.captureCanvasContext){var d=this.getCaptureCanvas(h),y=void 0;try{y=d.getContext("2d",{willReadFrequently:!0})}catch(h){y=d.getContext("2d")}this.captureCanvasContext=y}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(h){if(!this.captureCanvas){var d=this.createCaptureCanvas(h);this.captureCanvas=d}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(h,d,y){void 0===d&&(d={sx:0,sy:0,sWidth:h.videoWidth,sHeight:h.videoHeight,dx:0,dy:0,dWidth:h.videoWidth,dHeight:h.videoHeight}),void 0===y&&(y=this.captureCanvasContext),y.drawImage(h,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)},t.prototype.drawImageOnCanvas=function(h,d,y){void 0===d&&(d={sx:0,sy:0,sWidth:h.naturalWidth,sHeight:h.naturalHeight,dx:0,dy:0,dWidth:h.naturalWidth,dHeight:h.naturalHeight}),void 0===y&&(y=this.captureCanvasContext),y.drawImage(h,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)},t.prototype.decodeBitmap=function(h){return this.reader.decode(h,this._hints)},t.prototype.createCaptureCanvas=function(h){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var d,y,w=document.createElement("canvas");return void 0!==h&&(h instanceof HTMLVideoElement?(d=h.videoWidth,y=h.videoHeight):h instanceof HTMLImageElement&&(d=h.naturalWidth||h.width,y=h.naturalHeight||h.height)),w.style.width=d+"px",w.style.height=y+"px",w.width=d,w.height=y,w},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(h){return h.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(h,d){try{h.srcObject=d}catch(y){h.src=URL.createObjectURL(d)}},t.prototype.cleanVideoSource=function(h){try{h.srcObject=null}catch(d){h.src=""}this.videoElement.removeAttribute("src")},t}(),tL=function(){function t(h,d,y,w,_,v){void 0===y&&(y=null==d?0:8*d.length),void 0===v&&(v=j.currentTimeMillis()),this.text=h,this.rawBytes=d,this.numBits=y,this.resultPoints=w,this.format=_,this.timestamp=v,this.text=h,this.rawBytes=d,this.numBits=null==y?null==d?0:8*d.length:y,this.resultPoints=w,this.format=_,this.resultMetadata=null,this.timestamp=null==v?j.currentTimeMillis():v}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(h,d){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(h,d)},t.prototype.putAllMetadata=function(h){null!==h&&(null===this.resultMetadata?this.resultMetadata=h:this.resultMetadata=new Map(h))},t.prototype.addResultPoints=function(h){var d=this.resultPoints;if(null===d)this.resultPoints=h;else if(null!==h&&h.length>0){var y=Array(d.length+h.length);j.arraycopy(d,0,y,0,d.length),j.arraycopy(h,0,y,d.length,h.length),this.resultPoints=y}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();(tx=tp||(tp={}))[tx.AZTEC=0]="AZTEC",tx[tx.CODABAR=1]="CODABAR",tx[tx.CODE_39=2]="CODE_39",tx[tx.CODE_93=3]="CODE_93",tx[tx.CODE_128=4]="CODE_128",tx[tx.DATA_MATRIX=5]="DATA_MATRIX",tx[tx.EAN_8=6]="EAN_8",tx[tx.EAN_13=7]="EAN_13",tx[tx.ITF=8]="ITF",tx[tx.MAXICODE=9]="MAXICODE",tx[tx.PDF_417=10]="PDF_417",tx[tx.QR_CODE=11]="QR_CODE",tx[tx.RSS_14=12]="RSS_14",tx[tx.RSS_EXPANDED=13]="RSS_EXPANDED",tx[tx.UPC_A=14]="UPC_A",tx[tx.UPC_E=15]="UPC_E",tx[tx.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var tx,tF,tk=tp;(tV=tF||(tF={}))[tV.OTHER=0]="OTHER",tV[tV.ORIENTATION=1]="ORIENTATION",tV[tV.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",tV[tV.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",tV[tV.ISSUE_NUMBER=4]="ISSUE_NUMBER",tV[tV.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",tV[tV.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",tV[tV.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",tV[tV.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",tV[tV.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",tV[tV.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY";var tV,tH,tU,tX,tG,tW,tz=tF,tj=function(){function t(h,d,y,w,_,v){void 0===_&&(_=-1),void 0===v&&(v=-1),this.rawBytes=h,this.text=d,this.byteSegments=y,this.ecLevel=w,this.structuredAppendSequenceNumber=_,this.structuredAppendParity=v,this.numBits=null==h?0:8*h.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(h){this.numBits=h},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(h){this.errorsCorrected=h},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(h){this.erasures=h},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(h){this.other=h},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),tY=function(){function t(){}return t.prototype.exp=function(h){return this.expTable[h]},t.prototype.log=function(h){if(0===h)throw new H;return this.logTable[h]},t.addOrSubtract=function(h,d){return h^d},t}(),tZ=function(){function t(h,d){if(0===d.length)throw new H;this.field=h;var y=d.length;if(y>1&&0===d[0]){for(var w=1;w<y&&0===d[w];)w++;w===y?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(y-w),j.arraycopy(d,w,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(h){return this.coefficients[this.coefficients.length-1-h]},t.prototype.evaluateAt=function(h){if(0===h)return this.getCoefficient(0);var d,y=this.coefficients;if(1===h){d=0;for(var w=0,_=y.length;w!==_;w++){var v=y[w];d=tY.addOrSubtract(d,v)}return d}d=y[0];var A=y.length,C=this.field;for(w=1;w<A;w++)d=tY.addOrSubtract(C.multiply(h,d),y[w]);return d},t.prototype.addOrSubtract=function(h){if(!this.field.equals(h.field))throw new H("GenericGFPolys do not have same GenericGF field");if(this.isZero())return h;if(h.isZero())return this;var d=this.coefficients,y=h.coefficients;if(d.length>y.length){var w=d;d=y,y=w}var _=new Int32Array(y.length),v=y.length-d.length;j.arraycopy(y,0,_,0,v);for(var A=v;A<y.length;A++)_[A]=tY.addOrSubtract(d[A-v],y[A]);return new t(this.field,_)},t.prototype.multiply=function(h){if(!this.field.equals(h.field))throw new H("GenericGFPolys do not have same GenericGF field");if(this.isZero()||h.isZero())return this.field.getZero();for(var d=this.coefficients,y=d.length,w=h.coefficients,_=w.length,v=new Int32Array(y+_-1),A=this.field,C=0;C<y;C++)for(var m=d[C],E=0;E<_;E++)v[C+E]=tY.addOrSubtract(v[C+E],A.multiply(m,w[E]));return new t(A,v)},t.prototype.multiplyScalar=function(h){if(0===h)return this.field.getZero();if(1===h)return this;for(var d=this.coefficients.length,y=this.field,w=new Int32Array(d),_=this.coefficients,v=0;v<d;v++)w[v]=y.multiply(_[v],h);return new t(y,w)},t.prototype.multiplyByMonomial=function(h,d){if(h<0)throw new H;if(0===d)return this.field.getZero();for(var y=this.coefficients,w=y.length,_=new Int32Array(w+h),v=this.field,A=0;A<w;A++)_[A]=v.multiply(y[A],d);return new t(v,_)},t.prototype.divide=function(h){if(!this.field.equals(h.field))throw new H("GenericGFPolys do not have same GenericGF field");if(h.isZero())throw new H("Divide by 0");for(var d=this.field,y=d.getZero(),w=this,_=h.getCoefficient(h.getDegree()),v=d.inverse(_);w.getDegree()>=h.getDegree()&&!w.isZero();){var A=w.getDegree()-h.getDegree(),C=d.multiply(w.getCoefficient(w.getDegree()),v),m=h.multiplyByMonomial(A,C),E=d.buildMonomial(A,C);y=y.addOrSubtract(E),w=w.addOrSubtract(m)}return[y,w]},t.prototype.toString=function(){for(var h="",d=this.getDegree();d>=0;d--){var y=this.getCoefficient(d);if(0!==y){if(y<0?(h+=" - ",y=-y):h.length>0&&(h+=" + "),0===d||1!==y){var w=this.field.log(y);0===w?h+="1":1===w?h+="a":h+="a^"+w}0!==d&&(1===d?h+="x":h+="x^"+d)}}return h},t}(),tK=(tH=function(h,d){return(tH=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tH(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tq=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return tK(e,h),e.kind="ArithmeticException",e}(L),tQ=(tU=function(h,d){return(tU=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tU(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),tJ=function(h){function e(d,y,w){var _=h.call(this)||this;_.primitive=d,_.size=y,_.generatorBase=w;for(var v=new Int32Array(y),A=1,C=0;C<y;C++)v[C]=A,(A*=2)>=y&&(A^=d,A&=y-1);_.expTable=v;var m=new Int32Array(y);for(C=0;C<y-1;C++)m[v[C]]=C;return _.logTable=m,_.zero=new tZ(_,Int32Array.from([0])),_.one=new tZ(_,Int32Array.from([1])),_}return tQ(e,h),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(h,d){if(h<0)throw new H;if(0===d)return this.zero;var y=new Int32Array(h+1);return y[0]=d,new tZ(this,y)},e.prototype.inverse=function(h){if(0===h)throw new tq;return this.expTable[this.size-this.logTable[h]-1]},e.prototype.multiply=function(h,d){return 0===h||0===d?0:this.expTable[(this.logTable[h]+this.logTable[d])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+J.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(h){return h===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(tY),t$=(tX=function(h,d){return(tX=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tX(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),t1=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return t$(e,h),e.kind="ReedSolomonException",e}(L),t2=(tG=function(h,d){return(tG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}tG(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),t0=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return t2(e,h),e.kind="IllegalStateException",e}(L),t3=function(){function t(h){this.field=h}return t.prototype.decode=function(h,d){for(var y=this.field,w=new tZ(y,h),_=new Int32Array(d),v=!0,A=0;A<d;A++){var C=w.evaluateAt(y.exp(A+y.getGeneratorBase()));_[_.length-1-A]=C,0!==C&&(v=!1)}if(!v){var m=new tZ(y,_),E=this.runEuclideanAlgorithm(y.buildMonomial(d,1),m,d),I=E[0],S=E[1],T=this.findErrorLocations(I),O=this.findErrorMagnitudes(S,T);for(A=0;A<T.length;A++){var b=h.length-1-y.log(T[A]);if(b<0)throw new t1("Bad error location");h[b]=tJ.addOrSubtract(h[b],O[A])}}},t.prototype.runEuclideanAlgorithm=function(h,d,y){if(h.getDegree()<d.getDegree()){var w=h;h=d,d=w}for(var _=this.field,v=h,A=d,C=_.getZero(),m=_.getOne();A.getDegree()>=(y/2|0);){var E=v,I=C;if(C=m,(v=A).isZero())throw new t1("r_{i-1} was zero");A=E;for(var S=_.getZero(),T=v.getCoefficient(v.getDegree()),O=_.inverse(T);A.getDegree()>=v.getDegree()&&!A.isZero();){var b=A.getDegree()-v.getDegree(),R=_.multiply(A.getCoefficient(A.getDegree()),O);S=S.addOrSubtract(_.buildMonomial(b,R)),A=A.addOrSubtract(v.multiplyByMonomial(b,R))}if(m=S.multiply(C).addOrSubtract(I),A.getDegree()>=v.getDegree())throw new t0("Division algorithm failed to reduce polynomial?")}var N=m.getCoefficient(0);if(0===N)throw new t1("sigmaTilde(0) was zero");var D=_.inverse(N);return[m.multiplyScalar(D),A.multiplyScalar(D)]},t.prototype.findErrorLocations=function(h){var d=h.getDegree();if(1===d)return Int32Array.from([h.getCoefficient(1)]);for(var y=new Int32Array(d),w=0,_=this.field,v=1;v<_.getSize()&&w<d;v++)0===h.evaluateAt(v)&&(y[w]=_.inverse(v),w++);if(w!==d)throw new t1("Error locator degree does not match number of roots");return y},t.prototype.findErrorMagnitudes=function(h,d){for(var y=d.length,w=new Int32Array(y),_=this.field,v=0;v<y;v++){for(var A=_.inverse(d[v]),C=1,m=0;m<y;m++)if(v!==m){var E=_.multiply(d[m],A),I=0==(1&E)?1|E:-2&E;C=_.multiply(C,I)}w[v]=_.multiply(h.evaluateAt(A),_.inverse(C)),0!==_.getGeneratorBase()&&(w[v]=_.multiply(w[v],A))}return w},t}();(rm=tW||(tW={}))[rm.UPPER=0]="UPPER",rm[rm.LOWER=1]="LOWER",rm[rm.MIXED=2]="MIXED",rm[rm.DIGIT=3]="DIGIT",rm[rm.PUNCT=4]="PUNCT",rm[rm.BINARY=5]="BINARY";var t8=function(){function t(){}return t.prototype.decode=function(h){this.ddata=h;var d=h.getBits(),y=this.extractBits(d),w=this.correctBits(y),_=t.convertBoolArrayToByteArray(w),v=t.getEncodedData(w),A=new tj(_,v,null,null);return A.setNumBits(w.length),A},t.highLevelDecode=function(h){return this.getEncodedData(h)},t.getEncodedData=function(h){for(var d=h.length,y=tW.UPPER,w=tW.UPPER,_="",v=0;v<d;)if(w===tW.BINARY){if(d-v<5)break;var A=t.readCode(h,v,5);if(v+=5,0===A){if(d-v<11)break;A=t.readCode(h,v,11)+31,v+=11}for(var C=0;C<A;C++){if(d-v<8){v=d;break}var m=t.readCode(h,v,8);_+=tv.castAsNonUtf8Char(m),v+=8}w=y}else{var E=w===tW.DIGIT?4:5;if(d-v<E)break;m=t.readCode(h,v,E),v+=E;var I=t.getCharacter(w,m);I.startsWith("CTRL_")?(y=w,w=t.getTable(I.charAt(5)),"L"===I.charAt(6)&&(y=w)):(_+=I,w=y)}return _},t.getTable=function(h){switch(h){case"L":return tW.LOWER;case"P":return tW.PUNCT;case"M":return tW.MIXED;case"D":return tW.DIGIT;case"B":return tW.BINARY;default:return tW.UPPER}},t.getCharacter=function(h,d){switch(h){case tW.UPPER:return t.UPPER_TABLE[d];case tW.LOWER:return t.LOWER_TABLE[d];case tW.MIXED:return t.MIXED_TABLE[d];case tW.PUNCT:return t.PUNCT_TABLE[d];case tW.DIGIT:return t.DIGIT_TABLE[d];default:throw new t0("Bad table")}},t.prototype.correctBits=function(h){2>=this.ddata.getNbLayers()?(y=6,d=tJ.AZTEC_DATA_6):8>=this.ddata.getNbLayers()?(y=8,d=tJ.AZTEC_DATA_8):22>=this.ddata.getNbLayers()?(y=10,d=tJ.AZTEC_DATA_10):(y=12,d=tJ.AZTEC_DATA_12);var d,y,w,_=this.ddata.getNbDatablocks(),v=h.length/y;if(v<_)throw new ta;for(var A=h.length%y,C=new Int32Array(v),m=0;m<v;m++,A+=y)C[m]=t.readCode(h,A,y);try{new t3(d).decode(C,v-_)}catch(h){throw new ta(h)}var E=(1<<y)-1,I=0;for(m=0;m<_;m++){if(0===(w=C[m])||w===E)throw new ta;1!==w&&w!==E-1||I++}var S=Array(_*y-I),T=0;for(m=0;m<_;m++)if(1===(w=C[m])||w===E-1)S.fill(w>1,T,T+y-1),T+=y-1;else for(var O=y-1;O>=0;--O)S[T++]=0!=(w&1<<O);return S},t.prototype.extractBits=function(h){var d=this.ddata.isCompact(),y=this.ddata.getNbLayers(),w=(d?11:14)+4*y,_=new Int32Array(w),v=Array(this.totalBitsInLayer(y,d));if(d)for(var A=0;A<_.length;A++)_[A]=A;else{var C=w+1+2*J.truncDivision(J.truncDivision(w,2)-1,15),m=w/2,E=J.truncDivision(C,2);for(A=0;A<m;A++){var I=A+J.truncDivision(A,15);_[m-A-1]=E-I-1,_[m+A]=E+I+1}}A=0;for(var S=0;A<y;A++){for(var T=4*(y-A)+(d?9:12),O=2*A,b=w-1-O,R=0;R<T;R++)for(var N=2*R,D=0;D<2;D++)v[S+N+D]=h.get(_[O+D],_[O+R]),v[S+2*T+N+D]=h.get(_[O+R],_[b-D]),v[S+4*T+N+D]=h.get(_[b-D],_[b-R]),v[S+6*T+N+D]=h.get(_[b-R],_[O+D]);S+=8*T}return v},t.readCode=function(h,d,y){for(var w=0,_=d;_<d+y;_++)w<<=1,h[_]&&(w|=1);return w},t.readByte=function(h,d){var y=h.length-d;return y>=8?t.readCode(h,d,8):t.readCode(h,d,y)<<8-y},t.convertBoolArrayToByteArray=function(h){for(var d=new Uint8Array((h.length+7)/8),y=0;y<d.length;y++)d[y]=t.readByte(h,8*y);return d},t.prototype.totalBitsInLayer=function(h,d){return((d?88:112)+16*h)*h},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),t4=function(){function t(){}return t.round=function(h){return isNaN(h)?0:h<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:h>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:h+(h<0?-.5:.5)|0},t.distance=function(h,d,y,w){var _=h-y,v=d-w;return Math.sqrt(_*_+v*v)},t.sum=function(h){for(var d=0,y=0,w=h.length;y!==w;y++)d+=h[y];return d},t}(),t6=function(){function t(){}return t.floatToIntBits=function(h){return h},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),t5=function(){function t(h,d){this.x=h,this.y=d}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(h){return h instanceof t&&this.x===h.x&&this.y===h.y},t.prototype.hashCode=function(){return 31*t6.floatToIntBits(this.x)+t6.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(h){var d,y,w,_=this.distance(h[0],h[1]),v=this.distance(h[1],h[2]),A=this.distance(h[0],h[2]);if(v>=_&&v>=A?(y=h[0],d=h[1],w=h[2]):A>=v&&A>=_?(y=h[1],d=h[0],w=h[2]):(y=h[2],d=h[0],w=h[1]),0>this.crossProductZ(d,y,w)){var C=d;d=w,w=C}h[0]=d,h[1]=y,h[2]=w},t.distance=function(h,d){return t4.distance(h.x,h.y,d.x,d.y)},t.crossProductZ=function(h,d,y){var w=d.x,_=d.y;return(y.x-w)*(h.y-_)-(y.y-_)*(h.x-w)},t}(),t7=function(){function t(h,d){this.bits=h,this.points=d}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),t9=(rE=function(h,d){return(rE=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rE(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),et=function(h){function e(d,y,w,_,v){var A=h.call(this,d,y)||this;return A.compact=w,A.nbDatablocks=_,A.nbLayers=v,A}return t9(e,h),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(t7),ee=function(){function t(h,d,y,w){this.image=h,this.height=h.getHeight(),this.width=h.getWidth(),null==d&&(d=t.INIT_SIZE),null==y&&(y=h.getWidth()/2|0),null==w&&(w=h.getHeight()/2|0);var _=d/2|0;if(this.leftInit=y-_,this.rightInit=y+_,this.upInit=w-_,this.downInit=w+_,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new tE}return t.prototype.detect=function(){for(var h=this.leftInit,d=this.rightInit,y=this.upInit,w=this.downInit,_=!1,v=!0,A=!1,C=!1,m=!1,E=!1,I=!1,S=this.width,T=this.height;v;){v=!1;for(var O=!0;(O||!C)&&d<S;)(O=this.containsBlackPoint(y,w,d,!1))?(d++,v=!0,C=!0):C||d++;if(d>=S){_=!0;break}for(var b=!0;(b||!m)&&w<T;)(b=this.containsBlackPoint(h,d,w,!0))?(w++,v=!0,m=!0):m||w++;if(w>=T){_=!0;break}for(var R=!0;(R||!E)&&h>=0;)(R=this.containsBlackPoint(y,w,h,!1))?(h--,v=!0,E=!0):E||h--;if(h<0){_=!0;break}for(var N=!0;(N||!I)&&y>=0;)(N=this.containsBlackPoint(h,d,y,!0))?(y--,v=!0,I=!0):I||y--;if(y<0){_=!0;break}v&&(A=!0)}if(!_&&A){for(var D=d-h,M=null,P=1;null===M&&P<D;P++)M=this.getBlackPointOnSegment(h,w-P,h+P,w);if(null==M)throw new tE;var B=null;for(P=1;null===B&&P<D;P++)B=this.getBlackPointOnSegment(h,y+P,h+P,y);if(null==B)throw new tE;var L=null;for(P=1;null===L&&P<D;P++)L=this.getBlackPointOnSegment(d,y+P,d-P,y);if(null==L)throw new tE;var x=null;for(P=1;null===x&&P<D;P++)x=this.getBlackPointOnSegment(d,w-P,d-P,w);if(null==x)throw new tE;return this.centerEdges(x,M,L,B)}throw new tE},t.prototype.getBlackPointOnSegment=function(h,d,y,w){for(var _=t4.round(t4.distance(h,d,y,w)),v=(y-h)/_,A=(w-d)/_,C=this.image,m=0;m<_;m++){var E=t4.round(h+m*v),I=t4.round(d+m*A);if(C.get(E,I))return new t5(E,I)}return null},t.prototype.centerEdges=function(h,d,y,w){var _=h.getX(),v=h.getY(),A=d.getX(),C=d.getY(),m=y.getX(),E=y.getY(),I=w.getX(),S=w.getY(),T=t.CORR;return _<this.width/2?[new t5(I-T,S+T),new t5(A+T,C+T),new t5(m-T,E-T),new t5(_+T,v-T)]:[new t5(I+T,S+T),new t5(A+T,C-T),new t5(m-T,E+T),new t5(_-T,v-T)]},t.prototype.containsBlackPoint=function(h,d,y,w){var _=this.image;if(w){for(var v=h;v<=d;v++)if(_.get(v,y))return!0}else for(var A=h;A<=d;A++)if(_.get(y,A))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),er=function(){function t(){}return t.checkAndNudgePoints=function(h,d){for(var y=h.getWidth(),w=h.getHeight(),_=!0,v=0;v<d.length&&_;v+=2){var A=Math.floor(d[v]),C=Math.floor(d[v+1]);if(A<-1||A>y||C<-1||C>w)throw new tE;_=!1,-1===A?(d[v]=0,_=!0):A===y&&(d[v]=y-1,_=!0),-1===C?(d[v+1]=0,_=!0):C===w&&(d[v+1]=w-1,_=!0)}for(_=!0,v=d.length-2;v>=0&&_;v-=2){if(A=Math.floor(d[v]),C=Math.floor(d[v+1]),A<-1||A>y||C<-1||C>w)throw new tE;_=!1,-1===A?(d[v]=0,_=!0):A===y&&(d[v]=y-1,_=!0),-1===C?(d[v+1]=0,_=!0):C===w&&(d[v+1]=w-1,_=!0)}},t}(),en=function(){function t(h,d,y,w,_,v,A,C,m){this.a11=h,this.a21=d,this.a31=y,this.a12=w,this.a22=_,this.a32=v,this.a13=A,this.a23=C,this.a33=m}return t.quadrilateralToQuadrilateral=function(h,d,y,w,_,v,A,C,m,E,I,S,T,O,b,R){var N=t.quadrilateralToSquare(h,d,y,w,_,v,A,C);return t.squareToQuadrilateral(m,E,I,S,T,O,b,R).times(N)},t.prototype.transformPoints=function(h){for(var d=h.length,y=this.a11,w=this.a12,_=this.a13,v=this.a21,A=this.a22,C=this.a23,m=this.a31,E=this.a32,I=this.a33,S=0;S<d;S+=2){var T=h[S],O=h[S+1],b=_*T+C*O+I;h[S]=(y*T+v*O+m)/b,h[S+1]=(w*T+A*O+E)/b}},t.prototype.transformPointsWithValues=function(h,d){for(var y=this.a11,w=this.a12,_=this.a13,v=this.a21,A=this.a22,C=this.a23,m=this.a31,E=this.a32,I=this.a33,S=h.length,T=0;T<S;T++){var O=h[T],b=d[T],R=_*O+C*b+I;h[T]=(y*O+v*b+m)/R,d[T]=(w*O+A*b+E)/R}},t.squareToQuadrilateral=function(h,d,y,w,_,v,A,C){var m=h-y+_-A,E=d-w+v-C;if(0===m&&0===E)return new t(y-h,_-y,h,w-d,v-w,d,0,0,1);var I=y-_,S=A-_,T=w-v,O=C-v,b=I*O-S*T,R=(m*O-S*E)/b,N=(I*E-m*T)/b;return new t(y-h+R*y,A-h+N*A,h,w-d+R*w,C-d+N*C,d,R,N,1)},t.quadrilateralToSquare=function(h,d,y,w,_,v,A,C){return t.squareToQuadrilateral(h,d,y,w,_,v,A,C).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(h){return new t(this.a11*h.a11+this.a21*h.a12+this.a31*h.a13,this.a11*h.a21+this.a21*h.a22+this.a31*h.a23,this.a11*h.a31+this.a21*h.a32+this.a31*h.a33,this.a12*h.a11+this.a22*h.a12+this.a32*h.a13,this.a12*h.a21+this.a22*h.a22+this.a32*h.a23,this.a12*h.a31+this.a22*h.a32+this.a32*h.a33,this.a13*h.a11+this.a23*h.a12+this.a33*h.a13,this.a13*h.a21+this.a23*h.a22+this.a33*h.a23,this.a13*h.a31+this.a23*h.a32+this.a33*h.a33)},t}(),eo=(rI=function(h,d){return(rI=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rI(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ei=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return eo(e,h),e.prototype.sampleGrid=function(h,d,y,w,_,v,A,C,m,E,I,S,T,O,b,R,N,D,M){var P=en.quadrilateralToQuadrilateral(w,_,v,A,C,m,E,I,S,T,O,b,R,N,D,M);return this.sampleGridWithTransform(h,d,y,P)},e.prototype.sampleGridWithTransform=function(h,d,y,w){if(d<=0||y<=0)throw new tE;for(var _=new tC(d,y),v=new Float32Array(2*d),A=0;A<y;A++){for(var C=v.length,m=A+.5,E=0;E<C;E+=2)v[E]=E/2+.5,v[E+1]=m;w.transformPoints(v),er.checkAndNudgePoints(h,v);try{for(E=0;E<C;E+=2)h.get(Math.floor(v[E]),Math.floor(v[E+1]))&&_.set(E/2,A)}catch(h){throw new tE}}return _},e}(er),ea=function(){function t(){}return t.setGridSampler=function(h){t.gridSampler=h},t.getInstance=function(){return t.gridSampler},t.gridSampler=new ei,t}(),es=function(){function t(h,d){this.x=h,this.y=d}return t.prototype.toResultPoint=function(){return new t5(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),eu=function(){function t(h){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=h}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(h){var d=this.getMatrixCenter(),y=this.getBullsEyeCorners(d);if(h){var w=y[0];y[0]=y[2],y[2]=w}this.extractParameters(y);var _=this.sampleGrid(this.image,y[this.shift%4],y[(this.shift+1)%4],y[(this.shift+2)%4],y[(this.shift+3)%4]),v=this.getMatrixCornerPoints(y);return new et(_,v,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(h){if(!(this.isValidPoint(h[0])&&this.isValidPoint(h[1])&&this.isValidPoint(h[2])&&this.isValidPoint(h[3])))throw new tE;var d=2*this.nbCenterLayers,y=new Int32Array([this.sampleLine(h[0],h[1],d),this.sampleLine(h[1],h[2],d),this.sampleLine(h[2],h[3],d),this.sampleLine(h[3],h[0],d)]);this.shift=this.getRotation(y,d);for(var w=0,_=0;_<4;_++){var v=y[(this.shift+_)%4];this.compact?(w<<=7,w+=v>>1&127):(w<<=10,w+=(v>>2&992)+(v>>1&31))}var A=this.getCorrectedParameterData(w,this.compact);this.compact?(this.nbLayers=1+(A>>6),this.nbDataBlocks=1+(63&A)):(this.nbLayers=1+(A>>11),this.nbDataBlocks=1+(2047&A))},t.prototype.getRotation=function(h,d){var y=0;h.forEach(function(h,w,_){y=(y<<3)+((h>>d-2<<1)+(1&h))}),y=((1&y)<<11)+(y>>1);for(var w=0;w<4;w++)if(2>=J.bitCount(y^this.EXPECTED_CORNER_BITS[w]))return w;throw new tE},t.prototype.getCorrectedParameterData=function(h,d){d?(y=7,w=2):(y=10,w=4);for(var y,w,_=y-w,v=new Int32Array(y),A=y-1;A>=0;--A)v[A]=15&h,h>>=4;try{new t3(tJ.AZTEC_PARAM).decode(v,_)}catch(h){throw new tE}var C=0;for(A=0;A<w;A++)C=(C<<4)+v[A];return C},t.prototype.getBullsEyeCorners=function(h){var d=h,y=h,w=h,_=h,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var A=this.getFirstDifferent(d,v,1,-1),C=this.getFirstDifferent(y,v,1,1),m=this.getFirstDifferent(w,v,-1,1),E=this.getFirstDifferent(_,v,-1,-1);if(this.nbCenterLayers>2){var I=this.distancePoint(E,A)*this.nbCenterLayers/(this.distancePoint(_,d)*(this.nbCenterLayers+2));if(I<.75||I>1.25||!this.isWhiteOrBlackRectangle(A,C,m,E))break}d=A,y=C,w=m,_=E,v=!v}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new tE;this.compact=5===this.nbCenterLayers;var S=new t5(d.getX()+.5,d.getY()-.5),T=new t5(y.getX()+.5,y.getY()+.5),O=new t5(w.getX()-.5,w.getY()+.5),b=new t5(_.getX()-.5,_.getY()-.5);return this.expandSquare([S,T,O,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){try{h=(_=new ee(this.image).detect())[0],d=_[1],y=_[2],w=_[3]}catch(C){var h,d,y,w,_,v=this.image.getWidth()/2,A=this.image.getHeight()/2;h=this.getFirstDifferent(new es(v+7,A-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new es(v+7,A+7),!1,1,1).toResultPoint(),y=this.getFirstDifferent(new es(v-7,A+7),!1,-1,1).toResultPoint(),w=this.getFirstDifferent(new es(v-7,A-7),!1,-1,-1).toResultPoint()}var C=t4.round((h.getX()+w.getX()+d.getX()+y.getX())/4),m=t4.round((h.getY()+w.getY()+d.getY()+y.getY())/4);try{h=(_=new ee(this.image,15,C,m).detect())[0],d=_[1],y=_[2],w=_[3]}catch(_){h=this.getFirstDifferent(new es(C+7,m-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new es(C+7,m+7),!1,1,1).toResultPoint(),y=this.getFirstDifferent(new es(C-7,m+7),!1,-1,1).toResultPoint(),w=this.getFirstDifferent(new es(C-7,m-7),!1,-1,-1).toResultPoint()}return C=t4.round((h.getX()+w.getX()+d.getX()+y.getX())/4),m=t4.round((h.getY()+w.getY()+d.getY()+y.getY())/4),new es(C,m)},t.prototype.getMatrixCornerPoints=function(h){return this.expandSquare(h,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(h,d,y,w,_){var v=ea.getInstance(),A=this.getDimension(),C=A/2-this.nbCenterLayers,m=A/2+this.nbCenterLayers;return v.sampleGrid(h,A,A,C,C,m,C,m,m,C,m,d.getX(),d.getY(),y.getX(),y.getY(),w.getX(),w.getY(),_.getX(),_.getY())},t.prototype.sampleLine=function(h,d,y){for(var w=0,_=this.distanceResultPoint(h,d),v=_/y,A=h.getX(),C=h.getY(),m=v*(d.getX()-h.getX())/_,E=v*(d.getY()-h.getY())/_,I=0;I<y;I++)this.image.get(t4.round(A+I*m),t4.round(C+I*E))&&(w|=1<<y-I-1);return w},t.prototype.isWhiteOrBlackRectangle=function(h,d,y,w){h=new es(h.getX()-3,h.getY()+3),d=new es(d.getX()-3,d.getY()-3),y=new es(y.getX()+3,y.getY()-3),w=new es(w.getX()+3,w.getY()+3);var _=this.getColor(w,h);if(0===_)return!1;var v=this.getColor(h,d);return v===_&&(v=this.getColor(d,y))===_&&(v=this.getColor(y,w))===_},t.prototype.getColor=function(h,d){for(var y=this.distancePoint(h,d),w=(d.getX()-h.getX())/y,_=(d.getY()-h.getY())/y,v=0,A=h.getX(),C=h.getY(),m=this.image.get(h.getX(),h.getY()),E=Math.ceil(y),I=0;I<E;I++)A+=w,C+=_,this.image.get(t4.round(A),t4.round(C))!==m&&v++;var S=v/y;return S>.1&&S<.9?0:S<=.1===m?1:-1},t.prototype.getFirstDifferent=function(h,d,y,w){for(var _=h.getX()+y,v=h.getY()+w;this.isValid(_,v)&&this.image.get(_,v)===d;)_+=y,v+=w;for(_-=y,v-=w;this.isValid(_,v)&&this.image.get(_,v)===d;)_+=y;for(_-=y;this.isValid(_,v)&&this.image.get(_,v)===d;)v+=w;return new es(_,v-=w)},t.prototype.expandSquare=function(h,d,y){var w=y/(2*d),_=h[0].getX()-h[2].getX(),v=h[0].getY()-h[2].getY(),A=(h[0].getX()+h[2].getX())/2,C=(h[0].getY()+h[2].getY())/2,m=new t5(A+w*_,C+w*v),E=new t5(A-w*_,C-w*v);return _=h[1].getX()-h[3].getX(),v=h[1].getY()-h[3].getY(),A=(h[1].getX()+h[3].getX())/2,C=(h[1].getY()+h[3].getY())/2,[m,new t5(A+w*_,C+w*v),E,new t5(A-w*_,C-w*v)]},t.prototype.isValid=function(h,d){return h>=0&&h<this.image.getWidth()&&d>0&&d<this.image.getHeight()},t.prototype.isValidPoint=function(h){var d=t4.round(h.getX()),y=t4.round(h.getY());return this.isValid(d,y)},t.prototype.distancePoint=function(h,d){return t4.distance(h.getX(),h.getY(),d.getX(),d.getY())},t.prototype.distanceResultPoint=function(h,d){return t4.distance(h.getX(),h.getY(),d.getX(),d.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(J.truncDivision(this.nbLayers-4,8)+1)+15},t}(),ec=function(){function t(){}return t.prototype.decode=function(h,d){void 0===d&&(d=null);var y,w=null,_=new eu(h.getBlackMatrix()),v=null,A=null;try{v=(y=_.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(d,v),A=(new t8).decode(y)}catch(h){w=h}if(null==A)try{v=(y=_.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(d,v),A=(new t8).decode(y)}catch(h){if(null!=w)throw w;throw h}var C=new tL(A.getText(),A.getRawBytes(),A.getNumBits(),v,tk.AZTEC,j.currentTimeMillis()),m=A.getByteSegments();null!=m&&C.putMetadata(tz.BYTE_SEGMENTS,m);var E=A.getECLevel();return null!=E&&C.putMetadata(tz.ERROR_CORRECTION_LEVEL,E),C},t.prototype.reportFoundResultPoints=function(h,d){if(null!=h){var y=h.get(to.NEED_RESULT_POINT_CALLBACK);null!=y&&d.forEach(function(h,d,w){y.foundPossibleResultPoint(h)})}},t.prototype.reset=function(){},t}();(rS=function(h,d){return(rS=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rS(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)})(function(h){return void 0===h&&(h=500),rT.call(this,new ec,h)||this},rT=tB);var ef=function(){function t(){}return t.prototype.decode=function(h,d){try{return this.doDecode(h,d)}catch(E){if(d&&!0===d.get(to.TRY_HARDER)&&h.isRotateSupported()){var y=h.rotateCounterClockwise(),w=this.doDecode(y,d),_=w.getResultMetadata(),v=270;null!==_&&!0===_.get(tz.ORIENTATION)&&(v+=_.get(tz.ORIENTATION)%360),w.putMetadata(tz.ORIENTATION,v);var A=w.getResultPoints();if(null!==A)for(var C=y.getHeight(),m=0;m<A.length;m++)A[m]=new t5(C-A[m].getY()-1,A[m].getX());return w}throw new tE}},t.prototype.reset=function(){},t.prototype.doDecode=function(h,d){var y,w=h.getWidth(),_=h.getHeight(),v=new $(w),A=d&&!0===d.get(to.TRY_HARDER),C=Math.max(1,_>>(A?8:5));y=A?_:15;for(var m=Math.trunc(_/2),E=0;E<y;E++){var I=Math.trunc((E+1)/2),S=m+C*(0==(1&E)?I:-I);if(S<0||S>=_)break;try{v=h.getBlackRow(S,v)}catch(h){continue}for(var T=this,O=0;O<2;O++){var b=function(h){if(1===h&&(v.reverse(),d&&!0===d.get(to.NEED_RESULT_POINT_CALLBACK))){var y=new Map;d.forEach(function(h,d){return y.set(d,h)}),y.delete(to.NEED_RESULT_POINT_CALLBACK),d=y}try{var _=T.decodeRow(S,v,d);if(1===h){_.putMetadata(tz.ORIENTATION,180);var A=_.getResultPoints();null!==A&&(A[0]=new t5(w-A[0].getX()-1,A[0].getY()),A[1]=new t5(w-A[1].getX()-1,A[1].getY()))}return{value:_}}catch(h){}}(O);if("object"==typeof b)return b.value}}throw new tE},t.recordPattern=function(h,d,y){for(var w=y.length,_=0;_<w;_++)y[_]=0;var v=h.getSize();if(d>=v)throw new tE;for(var A=!h.get(d),C=0,m=d;m<v;){if(h.get(m)!==A)y[C]++;else{if(++C===w)break;y[C]=1,A=!A}m++}if(C!==w&&(C!==w-1||m!==v))throw new tE},t.recordPatternInReverse=function(h,d,y){for(var w=y.length,_=h.get(d);d>0&&w>=0;)h.get(--d)!==_&&(w--,_=!_);if(w>=0)throw new tE;t.recordPattern(h,d+1,y)},t.patternMatchVariance=function(h,d,y){for(var w=h.length,_=0,v=0,A=0;A<w;A++)_+=h[A],v+=d[A];if(_<v)return Number.POSITIVE_INFINITY;var C=_/v;y*=C;for(var m=0,E=0;E<w;E++){var I=h[E],S=d[E]*C,T=I>S?I-S:S-I;if(T>y)return Number.POSITIVE_INFINITY;m+=T}return m/_},t}(),eh=(rO=function(h,d){return(rO=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rO(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),el=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return eh(e,h),e.findStartPattern=function(h){for(var d=h.getSize(),y=h.getNextSet(0),w=0,_=Int32Array.from([0,0,0,0,0,0]),v=y,A=!1,C=y;C<d;C++)if(h.get(C)!==A)_[w]++;else{if(5===w){for(var m=e.MAX_AVG_VARIANCE,E=-1,I=e.CODE_START_A;I<=e.CODE_START_C;I++){var S=ef.patternMatchVariance(_,e.CODE_PATTERNS[I],e.MAX_INDIVIDUAL_VARIANCE);S<m&&(m=S,E=I)}if(E>=0&&h.isRange(Math.max(0,v-(C-v)/2),v,!1))return Int32Array.from([v,C,E]);v+=_[0]+_[1],(_=_.slice(2,_.length-1))[w-1]=0,_[w]=0,w--}else w++;_[w]=1,A=!A}throw new tE},e.decodeCode=function(h,d,y){ef.recordPattern(h,y,d);for(var w=e.MAX_AVG_VARIANCE,_=-1,v=0;v<e.CODE_PATTERNS.length;v++){var A=e.CODE_PATTERNS[v],C=this.patternMatchVariance(d,A,e.MAX_INDIVIDUAL_VARIANCE);C<w&&(w=C,_=v)}if(_>=0)return _;throw new tE},e.prototype.decodeRow=function(h,d,y){var w,_=y&&!0===y.get(to.ASSUME_GS1),v=e.findStartPattern(d),A=v[2],C=0,m=new Uint8Array(20);switch(m[C++]=A,A){case e.CODE_START_A:w=e.CODE_CODE_A;break;case e.CODE_START_B:w=e.CODE_CODE_B;break;case e.CODE_START_C:w=e.CODE_CODE_C;break;default:throw new ta}for(var E=!1,I=!1,S="",T=v[0],O=v[1],b=Int32Array.from([0,0,0,0,0,0]),R=0,N=0,D=A,M=0,P=!0,B=!1,L=!1;!E;){var x=I;switch(I=!1,R=N,N=e.decodeCode(d,b,O),m[C++]=N,N!==e.CODE_STOP&&(P=!0),N!==e.CODE_STOP&&(D+=++M*N),T=O,O+=b.reduce(function(h,d){return h+d},0),N){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ta}switch(w){case e.CODE_CODE_A:if(N<64)S+=L===B?String.fromCharCode(32+N):String.fromCharCode(32+N+128),L=!1;else if(N<96)S+=L===B?String.fromCharCode(N-64):String.fromCharCode(N+64),L=!1;else switch(N!==e.CODE_STOP&&(P=!1),N){case e.CODE_FNC_1:_&&(0===S.length?S+="]C1":S+="\x1d");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!B&&L?(B=!0,L=!1):B&&L?(B=!1,L=!1):L=!0;break;case e.CODE_SHIFT:I=!0,w=e.CODE_CODE_B;break;case e.CODE_CODE_B:w=e.CODE_CODE_B;break;case e.CODE_CODE_C:w=e.CODE_CODE_C;break;case e.CODE_STOP:E=!0}break;case e.CODE_CODE_B:if(N<96)S+=L===B?String.fromCharCode(32+N):String.fromCharCode(32+N+128),L=!1;else switch(N!==e.CODE_STOP&&(P=!1),N){case e.CODE_FNC_1:_&&(0===S.length?S+="]C1":S+="\x1d");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!B&&L?(B=!0,L=!1):B&&L?(B=!1,L=!1):L=!0;break;case e.CODE_SHIFT:I=!0,w=e.CODE_CODE_A;break;case e.CODE_CODE_A:w=e.CODE_CODE_A;break;case e.CODE_CODE_C:w=e.CODE_CODE_C;break;case e.CODE_STOP:E=!0}break;case e.CODE_CODE_C:if(N<100)N<10&&(S+="0"),S+=N;else switch(N!==e.CODE_STOP&&(P=!1),N){case e.CODE_FNC_1:_&&(0===S.length?S+="]C1":S+="\x1d");break;case e.CODE_CODE_A:w=e.CODE_CODE_A;break;case e.CODE_CODE_B:w=e.CODE_CODE_B;break;case e.CODE_STOP:E=!0}}x&&(w=w===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var k=O-T;if(O=d.getNextUnset(O),!d.isRange(O,Math.min(d.getSize(),O+(O-T)/2),!1))throw new tE;if((D-=M*R)%103!==R)throw new G;var V=S.length;if(0===V)throw new tE;V>0&&P&&(S=w===e.CODE_CODE_C?S.substring(0,V-2):S.substring(0,V-1));for(var H=(v[1]+v[0])/2,U=T+k/2,X=m.length,z=new Uint8Array(X),j=0;j<X;j++)z[j]=m[j];var Y=[new t5(H,h),new t5(U,h)];return new tL(S,z,0,Y,tk.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(ef),ed=(rb=function(h,d){return(rb=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rb(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),$t=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},ep=function(h){function e(d,y){void 0===d&&(d=!1),void 0===y&&(y=!1);var w=h.call(this)||this;return w.usingCheckDigit=d,w.extendedMode=y,w.decodeRowResult="",w.counters=new Int32Array(9),w}return ed(e,h),e.prototype.decodeRow=function(h,d,y){var w,_,v,A,C=this.counters;C.fill(0),this.decodeRowResult="";var m,E,I=e.findAsteriskPattern(d,C),S=d.getNextSet(I[1]),T=d.getSize();do{e.recordPattern(d,S,C);var O=e.toNarrowWidePattern(C);if(O<0)throw new tE;m=e.patternToChar(O),this.decodeRowResult+=m,E=S;try{for(var b=(w=void 0,$t(C)),R=b.next();!R.done;R=b.next())S+=R.value}catch(h){w={error:h}}finally{try{R&&!R.done&&(_=b.return)&&_.call(b)}finally{if(w)throw w.error}}S=d.getNextSet(S)}while("*"!==m);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N,D=0;try{for(var M=$t(C),P=M.next();!P.done;P=M.next())D+=P.value}catch(h){v={error:h}}finally{try{P&&!P.done&&(A=M.return)&&A.call(M)}finally{if(v)throw v.error}}if(S!==T&&2*(S-E-D)<D)throw new tE;if(this.usingCheckDigit){for(var B=this.decodeRowResult.length-1,L=0,x=0;x<B;x++)L+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(x));if(this.decodeRowResult.charAt(B)!==e.ALPHABET_STRING.charAt(L%43))throw new G;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(0===this.decodeRowResult.length)throw new tE;N=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var k=(I[1]+I[0])/2,V=E+D/2;return new tL(N,null,0,[new t5(k,h),new t5(V,h)],tk.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(h,d){for(var y=h.getSize(),w=h.getNextSet(0),_=0,v=w,A=!1,C=d.length,m=w;m<y;m++)if(h.get(m)!==A)d[_]++;else{if(_===C-1){if(this.toNarrowWidePattern(d)===e.ASTERISK_ENCODING&&h.isRange(Math.max(0,v-Math.floor((m-v)/2)),v,!1))return[v,m];v+=d[0]+d[1],d.copyWithin(0,2,2+_-1),d[_-1]=0,d[_]=0,_--}else _++;d[_]=1,A=!A}throw new tE},e.toNarrowWidePattern=function(h){var d,y,w,_=h.length,v=0;do{var A,C=2147483647;try{for(var m=(d=void 0,$t(h)),E=m.next();!E.done;E=m.next())(A=E.value)<C&&A>v&&(C=A)}catch(h){d={error:h}}finally{try{E&&!E.done&&(y=m.return)&&y.call(m)}finally{if(d)throw d.error}}v=C,w=0;for(var I=0,S=0,T=0;T<_;T++)(A=h[T])>v&&(S|=1<<_-1-T,w++,I+=A);if(3===w){for(T=0;T<_&&w>0;T++)if((A=h[T])>v&&(w--,2*A>=I))return -1;return S}}while(w>3);return -1},e.patternToChar=function(h){for(var d=0;d<e.CHARACTER_ENCODINGS.length;d++)if(e.CHARACTER_ENCODINGS[d]===h)return e.ALPHABET_STRING.charAt(d);if(h===e.ASTERISK_ENCODING)return"*";throw new tE},e.decodeExtended=function(h){for(var d=h.length,y="",w=0;w<d;w++){var _=h.charAt(w);if("+"===_||"$"===_||"%"===_||"/"===_){var v=h.charAt(w+1),A="\x00";switch(_){case"+":if(!(v>="A"&&v<="Z"))throw new ta;A=String.fromCharCode(v.charCodeAt(0)+32);break;case"$":if(!(v>="A"&&v<="Z"))throw new ta;A=String.fromCharCode(v.charCodeAt(0)-64);break;case"%":if(v>="A"&&v<="E")A=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")A=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")A=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")A=String.fromCharCode(v.charCodeAt(0)+43);else if("U"===v)A="\x00";else if("V"===v)A="@";else if("W"===v)A="`";else{if("X"!==v&&"Y"!==v&&"Z"!==v)throw new ta;A="\x7f"}break;case"/":if(v>="A"&&v<="O")A=String.fromCharCode(v.charCodeAt(0)-32);else{if("Z"!==v)throw new ta;A=":"}}y+=A,w++}else y+=_}return y},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(ef),eg=(rR=function(h,d){return(rR=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rR(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),re=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},ey=function(h){function e(){var d=h.call(this)||this;return d.decodeRowResult="",d.counters=new Int32Array(6),d}return eg(e,h),e.prototype.decodeRow=function(h,d,y){var w,_,v,A,C,m,E=this.findAsteriskPattern(d),I=d.getNextSet(E[1]),S=d.getSize(),T=this.counters;T.fill(0),this.decodeRowResult="";do{e.recordPattern(d,I,T);var O=this.toPattern(T);if(O<0)throw new tE;C=this.patternToChar(O),this.decodeRowResult+=C,m=I;try{for(var b=(w=void 0,re(T)),R=b.next();!R.done;R=b.next())I+=R.value}catch(h){w={error:h}}finally{try{R&&!R.done&&(_=b.return)&&_.call(b)}finally{if(w)throw w.error}}I=d.getNextSet(I)}while("*"!==C);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var N=0;try{for(var D=re(T),M=D.next();!M.done;M=D.next())N+=M.value}catch(h){v={error:h}}finally{try{M&&!M.done&&(A=D.return)&&A.call(D)}finally{if(v)throw v.error}}if(I===S||!d.get(I)||this.decodeRowResult.length<2)throw new tE;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var P=this.decodeExtended(this.decodeRowResult),B=(E[1]+E[0])/2,L=m+N/2;return new tL(P,null,0,[new t5(B,h),new t5(L,h)],tk.CODE_93,(new Date).getTime())},e.prototype.findAsteriskPattern=function(h){var d=h.getSize(),y=h.getNextSet(0);this.counters.fill(0);for(var w=this.counters,_=y,v=!1,A=w.length,C=0,m=y;m<d;m++)if(h.get(m)!==v)w[C]++;else{if(C===A-1){if(this.toPattern(w)===e.ASTERISK_ENCODING)return new Int32Array([_,m]);_+=w[0]+w[1],w.copyWithin(0,2,2+C-1),w[C-1]=0,w[C]=0,C--}else C++;w[C]=1,v=!v}throw new tE},e.prototype.toPattern=function(h){var d,y,w=0;try{for(var _=re(h),v=_.next();!v.done;v=_.next())w+=v.value}catch(h){d={error:h}}finally{try{v&&!v.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}for(var A=0,C=h.length,m=0;m<C;m++){var E=Math.round(9*h[m]/w);if(E<1||E>4)return -1;if(0==(1&m))for(var I=0;I<E;I++)A=A<<1|1;else A<<=E}return A},e.prototype.patternToChar=function(h){for(var d=0;d<e.CHARACTER_ENCODINGS.length;d++)if(e.CHARACTER_ENCODINGS[d]===h)return e.ALPHABET_STRING.charAt(d);throw new tE},e.prototype.decodeExtended=function(h){for(var d=h.length,y="",w=0;w<d;w++){var _=h.charAt(w);if(_>="a"&&_<="d"){if(w>=d-1)throw new ta;var v=h.charAt(w+1),A="\x00";switch(_){case"d":if(!(v>="A"&&v<="Z"))throw new ta;A=String.fromCharCode(v.charCodeAt(0)+32);break;case"a":if(!(v>="A"&&v<="Z"))throw new ta;A=String.fromCharCode(v.charCodeAt(0)-64);break;case"b":if(v>="A"&&v<="E")A=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")A=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")A=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")A=String.fromCharCode(v.charCodeAt(0)+43);else if("U"===v)A="\x00";else if("V"===v)A="@";else if("W"===v)A="`";else{if(!(v>="X"&&v<="Z"))throw new ta;A="\x7f"}break;case"c":if(v>="A"&&v<="O")A=String.fromCharCode(v.charCodeAt(0)-32);else{if("Z"!==v)throw new ta;A=":"}}y+=A,w++}else y+=_}return y},e.prototype.checkChecksums=function(h){var d=h.length;this.checkOneChecksum(h,d-2,20),this.checkOneChecksum(h,d-1,15)},e.prototype.checkOneChecksum=function(h,d,y){for(var w=1,_=0,v=d-1;v>=0;v--)_+=w*e.ALPHABET_STRING.indexOf(h.charAt(v)),++w>y&&(w=1);if(h.charAt(d)!==e.ALPHABET_STRING[_%47])throw new G},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(ef),ew=(rN=function(h,d){return(rN=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rN(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ie=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},e_=function(h){function e(){var d=null!==h&&h.apply(this,arguments)||this;return d.narrowLineWidth=-1,d}return ew(e,h),e.prototype.decodeRow=function(h,d,y){var w,_,v=this.decodeStart(d),A=this.decodeEnd(d),C=new tA;e.decodeMiddle(d,v[1],A[0],C);var m=C.toString(),E=null;null!=y&&(E=y.get(to.ALLOWED_LENGTHS)),null==E&&(E=e.DEFAULT_ALLOWED_LENGTHS);var I=m.length,S=!1,T=0;try{for(var O=ie(E),b=O.next();!b.done;b=O.next()){var R=b.value;if(I===R){S=!0;break}R>T&&(T=R)}}catch(h){w={error:h}}finally{try{b&&!b.done&&(_=O.return)&&_.call(O)}finally{if(w)throw w.error}}if(!S&&I>T&&(S=!0),!S)throw new ta;var N=[new t5(v[1],h),new t5(A[0],h)];return new tL(m,null,0,N,tk.ITF,(new Date).getTime())},e.decodeMiddle=function(h,d,y,w){var _=new Int32Array(10),v=new Int32Array(5),A=new Int32Array(5);for(_.fill(0),v.fill(0),A.fill(0);d<y;){ef.recordPattern(h,d,_);for(var C=0;C<5;C++){var m=2*C;v[C]=_[m],A[C]=_[m+1]}var E=e.decodeDigit(v);w.append(E.toString()),E=this.decodeDigit(A),w.append(E.toString()),_.forEach(function(h){d+=h})}},e.prototype.decodeStart=function(h){var d=e.skipWhiteSpace(h),y=e.findGuardPattern(h,d,e.START_PATTERN);return this.narrowLineWidth=(y[1]-y[0])/4,this.validateQuietZone(h,y[0]),y},e.prototype.validateQuietZone=function(h,d){var y=10*this.narrowLineWidth;y=y<d?y:d;for(var w=d-1;y>0&&w>=0&&!h.get(w);w--)y--;if(0!==y)throw new tE},e.skipWhiteSpace=function(h){var d=h.getSize(),y=h.getNextSet(0);if(y===d)throw new tE;return y},e.prototype.decodeEnd=function(h){h.reverse();try{var d=e.skipWhiteSpace(h),y=void 0;try{y=e.findGuardPattern(h,d,e.END_PATTERN_REVERSED[0])}catch(w){w instanceof tE&&(y=e.findGuardPattern(h,d,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(h,y[0]);var w=y[0];return y[0]=h.getSize()-y[1],y[1]=h.getSize()-w,y}finally{h.reverse()}},e.findGuardPattern=function(h,d,y){var w=y.length,_=new Int32Array(w),v=h.getSize(),A=!1,C=0,m=d;_.fill(0);for(var E=d;E<v;E++)if(h.get(E)!==A)_[C]++;else{if(C===w-1){if(ef.patternMatchVariance(_,y,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[m,E];m+=_[0]+_[1],j.arraycopy(_,2,_,0,C-1),_[C-1]=0,_[C]=0,C--}else C++;_[C]=1,A=!A}throw new tE},e.decodeDigit=function(h){for(var d=e.MAX_AVG_VARIANCE,y=-1,w=e.PATTERNS.length,_=0;_<w;_++){var v=e.PATTERNS[_],A=ef.patternMatchVariance(h,v,e.MAX_INDIVIDUAL_VARIANCE);A<d?(d=A,y=_):A===d&&(y=-1)}if(y>=0)return y%10;throw new tE},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(ef),ev=(rD=function(h,d){return(rD=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rD(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eA=function(h){function e(){var d=null!==h&&h.apply(this,arguments)||this;return d.decodeRowStringBuffer="",d}return ev(e,h),e.findStartGuardPattern=function(h){for(var d,y=!1,w=0,_=Int32Array.from([0,0,0]);!y;){_=Int32Array.from([0,0,0]);var v=(d=e.findGuardPattern(h,w,!1,this.START_END_PATTERN,_))[0],A=v-((w=d[1])-v);A>=0&&(y=h.isRange(A,v,!1))}return d},e.checkChecksum=function(h){return e.checkStandardUPCEANChecksum(h)},e.checkStandardUPCEANChecksum=function(h){var d=h.length;if(0===d)return!1;var y=parseInt(h.charAt(d-1),10);return e.getStandardUPCEANChecksum(h.substring(0,d-1))===y},e.getStandardUPCEANChecksum=function(h){for(var d,y=h.length,w=0,_=y-1;_>=0;_-=2){if((d=h.charAt(_).charCodeAt(0)-48)<0||d>9)throw new ta;w+=d}for(w*=3,_=y-2;_>=0;_-=2){if((d=h.charAt(_).charCodeAt(0)-48)<0||d>9)throw new ta;w+=d}return(1e3-w)%10},e.decodeEnd=function(h,d){return e.findGuardPattern(h,d,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(h,d,y,w){return this.findGuardPattern(h,d,y,w,new Int32Array(w.length))},e.findGuardPattern=function(h,d,y,w,_){for(var v=h.getSize(),A=0,C=d=y?h.getNextUnset(d):h.getNextSet(d),m=w.length,E=y,I=d;I<v;I++)if(h.get(I)!==E)_[A]++;else{if(A===m-1){if(ef.patternMatchVariance(_,w,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([C,I]);C+=_[0]+_[1];for(var S=_.slice(2,_.length),T=0;T<A-1;T++)_[T]=S[T];_[A-1]=0,_[A]=0,A--}else A++;_[A]=1,E=!E}throw new tE},e.decodeDigit=function(h,d,y,w){this.recordPattern(h,y,d);for(var _=this.MAX_AVG_VARIANCE,v=-1,A=w.length,C=0;C<A;C++){var m=w[C],E=ef.patternMatchVariance(d,m,e.MAX_INDIVIDUAL_VARIANCE);E<_&&(_=E,v=C)}if(v>=0)return v;throw new tE},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(ef),ce=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eC=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(h,d,y){var w=this.decodeRowStringBuffer,_=this.decodeMiddle(d,y,w),v=w.toString(),A=t.parseExtensionString(v),C=[new t5((y[0]+y[1])/2,h),new t5(_,h)],m=new tL(v,null,0,C,tk.UPC_EAN_EXTENSION,(new Date).getTime());return null!=A&&m.putAllMetadata(A),m},t.prototype.decodeMiddle=function(h,d,y){var w,_,v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;for(var A=h.getSize(),C=d[1],m=0,E=0;E<5&&C<A;E++){var I=eA.decodeDigit(h,v,C,eA.L_AND_G_PATTERNS);y+=String.fromCharCode(48+I%10);try{for(var S=(w=void 0,ce(v)),T=S.next();!T.done;T=S.next())C+=T.value}catch(h){w={error:h}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}I>=10&&(m|=1<<4-E),4!==E&&(C=h.getNextSet(C),C=h.getNextUnset(C))}if(5!==y.length)throw new tE;var O=this.determineCheckDigit(m);if(t.extensionChecksum(y.toString())!==O)throw new tE;return C},t.extensionChecksum=function(h){for(var d=h.length,y=0,w=d-2;w>=0;w-=2)y+=h.charAt(w).charCodeAt(0)-48;for(y*=3,w=d-1;w>=0;w-=2)y+=h.charAt(w).charCodeAt(0)-48;return(y*=3)%10},t.prototype.determineCheckDigit=function(h){for(var d=0;d<10;d++)if(h===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new tE},t.parseExtensionString=function(h){if(5!==h.length)return null;var d=t.parseExtension5String(h);return null==d?null:new Map([[tz.SUGGESTED_PRICE,d]])},t.parseExtension5String=function(h){switch(h.charAt(0)){case"0":d="\xa3";break;case"5":d="$";break;case"9":switch(h){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d=""}var d,y=parseInt(h.substring(1)),w=y%100;return d+(y/100).toString()+"."+(w<10?"0"+w:w.toString())},t}(),he=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},em=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(h,d,y){var w=this.decodeRowStringBuffer,_=this.decodeMiddle(d,y,w),v=w.toString(),A=t.parseExtensionString(v),C=[new t5((y[0]+y[1])/2,h),new t5(_,h)],m=new tL(v,null,0,C,tk.UPC_EAN_EXTENSION,(new Date).getTime());return null!=A&&m.putAllMetadata(A),m},t.prototype.decodeMiddle=function(h,d,y){var w,_,v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;for(var A=h.getSize(),C=d[1],m=0,E=0;E<2&&C<A;E++){var I=eA.decodeDigit(h,v,C,eA.L_AND_G_PATTERNS);y+=String.fromCharCode(48+I%10);try{for(var S=(w=void 0,he(v)),T=S.next();!T.done;T=S.next())C+=T.value}catch(h){w={error:h}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}I>=10&&(m|=1<<1-E),1!==E&&(C=h.getNextSet(C),C=h.getNextUnset(C))}if(2!==y.length||parseInt(y.toString())%4!==m)throw new tE;return C},t.parseExtensionString=function(h){return 2!==h.length?null:new Map([[tz.ISSUE_NUMBER,parseInt(h)]])},t}(),eE=function(){function t(){}return t.decodeRow=function(h,d,y){var w=eA.findGuardPattern(d,y,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new eC).decodeRow(h,d,w)}catch(y){return(new em).decodeRow(h,d,w)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),eI=(rM=function(h,d){return(rM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rM(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eS=function(h){function e(){var d=h.call(this)||this;d.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(h){return Int32Array.from(h)});for(var y=10;y<20;y++){for(var w=e.L_PATTERNS[y-10],_=new Int32Array(w.length),v=0;v<w.length;v++)_[v]=w[w.length-v-1];e.L_AND_G_PATTERNS[y]=_}return d}return eI(e,h),e.prototype.decodeRow=function(h,d,y){var w=e.findStartGuardPattern(d),_=null==y?null:y.get(to.NEED_RESULT_POINT_CALLBACK);if(null!=_){var v=new t5((w[0]+w[1])/2,h);_.foundPossibleResultPoint(v)}var A=this.decodeMiddle(d,w,this.decodeRowStringBuffer),C=A.rowOffset,m=A.resultString;if(null!=_){var E=new t5(C,h);_.foundPossibleResultPoint(E)}var I=e.decodeEnd(d,C);if(null!=_){var S=new t5((I[0]+I[1])/2,h);_.foundPossibleResultPoint(S)}var T=I[1],O=T+(T-I[0]);if(O>=d.getSize()||!d.isRange(T,O,!1))throw new tE;var b=m.toString();if(b.length<8)throw new ta;if(!e.checkChecksum(b))throw new G;var R=(w[1]+w[0])/2,N=(I[1]+I[0])/2,D=this.getBarcodeFormat(),M=[new t5(R,h),new t5(N,h)],P=new tL(b,null,0,M,D,(new Date).getTime()),B=0;try{var L=eE.decodeRow(h,d,I[1]);P.putMetadata(tz.UPC_EAN_EXTENSION,L.getText()),P.putAllMetadata(L.getResultMetadata()),P.addResultPoints(L.getResultPoints()),B=L.getText().length}catch(h){}var x=null==y?null:y.get(to.ALLOWED_EAN_EXTENSIONS);if(null!=x){var k=!1;for(var V in x)if(B.toString()===V){k=!0;break}if(!k)throw new tE}return D===tk.EAN_13||tk.UPC_A,P},e.checkChecksum=function(h){return e.checkStandardUPCEANChecksum(h)},e.checkStandardUPCEANChecksum=function(h){var d=h.length;if(0===d)return!1;var y=parseInt(h.charAt(d-1),10);return e.getStandardUPCEANChecksum(h.substring(0,d-1))===y},e.getStandardUPCEANChecksum=function(h){for(var d,y=h.length,w=0,_=y-1;_>=0;_-=2){if((d=h.charAt(_).charCodeAt(0)-48)<0||d>9)throw new ta;w+=d}for(w*=3,_=y-2;_>=0;_-=2){if((d=h.charAt(_).charCodeAt(0)-48)<0||d>9)throw new ta;w+=d}return(1e3-w)%10},e.decodeEnd=function(h,d){return e.findGuardPattern(h,d,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(eA),eT=(rP=function(h,d){return(rP=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rP(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),we=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eO=function(h){function e(){var d=h.call(this)||this;return d.decodeMiddleCounters=Int32Array.from([0,0,0,0]),d}return eT(e,h),e.prototype.decodeMiddle=function(h,d,y){var w,_,v,A,C=this.decodeMiddleCounters;C[0]=0,C[1]=0,C[2]=0,C[3]=0;for(var m=h.getSize(),E=d[1],I=0,S=0;S<6&&E<m;S++){var T=eS.decodeDigit(h,C,E,eS.L_AND_G_PATTERNS);y+=String.fromCharCode(48+T%10);try{for(var O=(w=void 0,we(C)),b=O.next();!b.done;b=O.next())E+=b.value}catch(h){w={error:h}}finally{try{b&&!b.done&&(_=O.return)&&_.call(O)}finally{if(w)throw w.error}}T>=10&&(I|=1<<5-S)}for(y=e.determineFirstDigit(y,I),E=eS.findGuardPattern(h,E,!0,eS.MIDDLE_PATTERN,new Int32Array(eS.MIDDLE_PATTERN.length).fill(0))[1],S=0;S<6&&E<m;S++){y+=String.fromCharCode(48+(T=eS.decodeDigit(h,C,E,eS.L_PATTERNS)));try{for(var R=(v=void 0,we(C)),N=R.next();!N.done;N=R.next())E+=N.value}catch(h){v={error:h}}finally{try{N&&!N.done&&(A=R.return)&&A.call(R)}finally{if(v)throw v.error}}}return{rowOffset:E,resultString:y}},e.prototype.getBarcodeFormat=function(){return tk.EAN_13},e.determineFirstDigit=function(h,d){for(var y=0;y<10;y++)if(d===this.FIRST_DIGIT_ENCODINGS[y])return h=String.fromCharCode(48+y)+h;throw new tE},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(eS),eb=(rB=function(h,d){return(rB=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rB(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Ae=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eR=function(h){function e(){var d=h.call(this)||this;return d.decodeMiddleCounters=Int32Array.from([0,0,0,0]),d}return eb(e,h),e.prototype.decodeMiddle=function(h,d,y){var w,_,v,A,C=this.decodeMiddleCounters;C[0]=0,C[1]=0,C[2]=0,C[3]=0;for(var m=h.getSize(),E=d[1],I=0;I<4&&E<m;I++){var S=eS.decodeDigit(h,C,E,eS.L_PATTERNS);y+=String.fromCharCode(48+S);try{for(var T=(w=void 0,Ae(C)),O=T.next();!O.done;O=T.next())E+=O.value}catch(h){w={error:h}}finally{try{O&&!O.done&&(_=T.return)&&_.call(T)}finally{if(w)throw w.error}}}for(I=0,E=eS.findGuardPattern(h,E,!0,eS.MIDDLE_PATTERN,new Int32Array(eS.MIDDLE_PATTERN.length).fill(0))[1];I<4&&E<m;I++){y+=String.fromCharCode(48+(S=eS.decodeDigit(h,C,E,eS.L_PATTERNS)));try{for(var b=(v=void 0,Ae(C)),R=b.next();!R.done;R=b.next())E+=R.value}catch(h){v={error:h}}finally{try{R&&!R.done&&(A=b.return)&&A.call(b)}finally{if(v)throw v.error}}}return{rowOffset:E,resultString:y}},e.prototype.getBarcodeFormat=function(){return tk.EAN_8},e}(eS),eN=(rL=function(h,d){return(rL=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rL(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eD=function(h){function e(){var d=null!==h&&h.apply(this,arguments)||this;return d.ean13Reader=new eO,d}return eN(e,h),e.prototype.getBarcodeFormat=function(){return tk.UPC_A},e.prototype.decode=function(h,d){return this.maybeReturnResult(this.ean13Reader.decode(h))},e.prototype.decodeRow=function(h,d,y){return this.maybeReturnResult(this.ean13Reader.decodeRow(h,d,y))},e.prototype.decodeMiddle=function(h,d,y){return this.ean13Reader.decodeMiddle(h,d,y)},e.prototype.maybeReturnResult=function(h){var d=h.getText();if("0"===d.charAt(0)){var y=new tL(d.substring(1),null,null,h.getResultPoints(),tk.UPC_A);return null!=h.getResultMetadata()&&y.putAllMetadata(h.getResultMetadata()),y}throw new tE},e.prototype.reset=function(){this.ean13Reader.reset()},e}(eS),eM=(rx=function(h,d){return(rx=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rx(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Se=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eP=function(h){function e(){var d=h.call(this)||this;return d.decodeMiddleCounters=new Int32Array(4),d}return eM(e,h),e.prototype.decodeMiddle=function(h,d,y){var w,_,v=this.decodeMiddleCounters.map(function(h){return h});v[0]=0,v[1]=0,v[2]=0,v[3]=0;for(var A=h.getSize(),C=d[1],m=0,E=0;E<6&&C<A;E++){var I=e.decodeDigit(h,v,C,e.L_AND_G_PATTERNS);y+=String.fromCharCode(48+I%10);try{for(var S=(w=void 0,Se(v)),T=S.next();!T.done;T=S.next())C+=T.value}catch(h){w={error:h}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}I>=10&&(m|=1<<5-E)}return e.determineNumSysAndCheckDigit(new tA(y),m),C},e.prototype.decodeEnd=function(h,d){return e.findGuardPatternWithoutCounters(h,d,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(h){return eS.checkChecksum(e.convertUPCEtoUPCA(h))},e.determineNumSysAndCheckDigit=function(h,d){for(var y=0;y<=1;y++)for(var w=0;w<10;w++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[y][w])return h.insert(0,"0"+y),void h.append("0"+w);throw tE.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return tk.UPC_E},e.convertUPCEtoUPCA=function(h){var d=h.slice(1,7).split("").map(function(h){return h.charCodeAt(0)}),y=new tA;y.append(h.charAt(0));var w=d[5];switch(w){case 0:case 1:case 2:y.appendChars(d,0,2),y.append(w),y.append("0000"),y.appendChars(d,2,3);break;case 3:y.appendChars(d,0,3),y.append("00000"),y.appendChars(d,3,2);break;case 4:y.appendChars(d,0,4),y.append("00000"),y.append(d[4]);break;default:y.appendChars(d,0,5),y.append("0000"),y.append(w)}return h.length>=8&&y.append(h.charAt(7)),y.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(eS),eB=(rF=function(h,d){return(rF=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rF(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),be=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eL=function(h){function e(d){var y=h.call(this)||this,w=null==d?null:d.get(to.POSSIBLE_FORMATS),_=[];return null!=w&&(w.indexOf(tk.EAN_13)>-1&&_.push(new eO),w.indexOf(tk.UPC_A)>-1&&_.push(new eD),w.indexOf(tk.EAN_8)>-1&&_.push(new eR),w.indexOf(tk.UPC_E)>-1&&_.push(new eP)),0===_.length&&(_.push(new eO),_.push(new eD),_.push(new eR),_.push(new eP)),y.readers=_,y}return eB(e,h),e.prototype.decodeRow=function(h,d,y){var w,_;try{for(var v=be(this.readers),A=v.next();!A.done;A=v.next()){var C=A.value;try{var m=C.decodeRow(h,d,y),E=m.getBarcodeFormat()===tk.EAN_13&&"0"===m.getText().charAt(0),I=null==y?null:y.get(to.POSSIBLE_FORMATS),S=null==I||I.includes(tk.UPC_A);if(E&&S){var T=m.getRawBytes(),O=new tL(m.getText().substring(1),T,T?T.length:null,m.getResultPoints(),tk.UPC_A);return O.putAllMetadata(m.getResultMetadata()),O}return m}catch(h){}}}catch(h){w={error:h}}finally{try{A&&!A.done&&(_=v.return)&&_.call(v)}finally{if(w)throw w.error}}throw new tE},e.prototype.reset=function(){var h,d;try{for(var y=be(this.readers),w=y.next();!w.done;w=y.next())w.value.reset()}catch(d){h={error:d}}finally{try{w&&!w.done&&(d=y.return)&&d.call(y)}finally{if(h)throw h.error}}},e}(ef),ex=(rk=function(h,d){return(rk=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rk(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eF=function(h){function e(){var d=null!==h&&h.apply(this,arguments)||this;return d.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},d}return ex(e,h),e.prototype.decodeRow=function(h,d,y){var w=this.getValidRowData(d);if(!w)throw new tE;var _=this.codaBarDecodeRow(w.row);if(!_)throw new tE;return new tL(_,null,0,[new t5(w.left,h),new t5(w.right,h)],tk.CODABAR,(new Date).getTime())},e.prototype.getValidRowData=function(h){var d=h.toArray(),y=d.indexOf(!0);if(-1===y)return null;var w=d.lastIndexOf(!0);if(w<=y)return null;for(var _=[],v=(d=d.slice(y,w+1))[0],A=1,C=1;C<d.length;C++)d[C]===v?A++:(v=d[C],_.push(A),A=1);return _.push(A),_.length<23&&(_.length+1)%8!=0?null:{row:_,left:y,right:w}},e.prototype.codaBarDecodeRow=function(h){for(var d=[],y=Math.ceil(h.reduce(function(h,d){return(h+d)/2},0));h.length>0;){var w=h.splice(0,8).splice(0,7).map(function(h){return h<y?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[w])return null;d.push(this.CODA_BAR_CHAR_SET[w])}var _=d.join("");return this.validCodaBarString(_)?_:null},e.prototype.validCodaBarString=function(h){return/^[A-D].{1,}[A-D]$/.test(h)},e}(ef),ek=(rV=function(h,d){return(rV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rV(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Pe=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eV=function(h){function e(){var d=h.call(this)||this;return d.decodeFinderCounters=new Int32Array(4),d.dataCharacterCounters=new Int32Array(8),d.oddRoundingErrors=[,,,,],d.evenRoundingErrors=[,,,,],d.oddCounts=Array(d.dataCharacterCounters.length/2),d.evenCounts=Array(d.dataCharacterCounters.length/2),d}return ek(e,h),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(h,d){for(var y=0;y<d.length;y++)if(ef.patternMatchVariance(h,d[y],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return y;throw new tE},e.count=function(h){return t4.sum(new Int32Array(h))},e.increment=function(h,d){for(var y=0,w=d[0],_=1;_<h.length;_++)d[_]>w&&(w=d[_],y=_);h[y]++},e.decrement=function(h,d){for(var y=0,w=d[0],_=1;_<h.length;_++)d[_]<w&&(w=d[_],y=_);h[y]--},e.isFinderPattern=function(h){var d,y,w=h[0]+h[1],_=w/(w+h[2]+h[3]);if(_>=e.MIN_FINDER_PATTERN_RATIO&&_<=e.MAX_FINDER_PATTERN_RATIO){var v=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;try{for(var C=Pe(h),m=C.next();!m.done;m=C.next()){var E=m.value;E>A&&(A=E),E<v&&(v=E)}}catch(h){d={error:h}}finally{try{m&&!m.done&&(y=C.return)&&y.call(C)}finally{if(d)throw d.error}}return A<10*v}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(ef),eH=function(){function t(h,d){this.value=h,this.checksumPortion=d}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(h){return h instanceof t&&this.value===h.value&&this.checksumPortion===h.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),eU=function(){function t(h,d,y,w,_){this.value=h,this.startEnd=d,this.value=h,this.startEnd=d,this.resultPoints=[],this.resultPoints.push(new t5(y,_)),this.resultPoints.push(new t5(w,_))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(h){return h instanceof t&&this.value===h.value},t.prototype.hashCode=function(){return this.value},t}(),ke=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eX=function(){function t(){}return t.getRSSvalue=function(h,d,y){var w,_,v=0;try{for(var A=ke(h),C=A.next();!C.done;C=A.next())v+=C.value}catch(h){w={error:h}}finally{try{C&&!C.done&&(_=A.return)&&_.call(A)}finally{if(w)throw w.error}}for(var m=0,E=0,I=h.length,S=0;S<I-1;S++){var T=void 0;for(T=1,E|=1<<S;T<h[S];T++,E&=~(1<<S)){var O=t.combins(v-T-1,I-S-2);if(y&&0===E&&v-T-(I-S-1)>=I-S-1&&(O-=t.combins(v-T-(I-S),I-S-2)),I-S-1>1){for(var b=0,R=v-T-(I-S-2);R>d;R--)b+=t.combins(v-T-R-1,I-S-3);O-=b*(I-1-S)}else v-T>d&&O--;m+=O}v-=T}return m},t.combins=function(h,d){var y,w;h-d>d?(w=d,y=h-d):(w=h-d,y=d);for(var _=1,v=1,A=h;A>y;A--)_*=A,v<=w&&(_/=v,v++);for(;v<=w;)_/=v,v++;return _},t}(),eG=function(){function t(){}return t.buildBitArray=function(h){var d=2*h.length-1;null==h[h.length-1].getRightChar()&&(d-=1);for(var y=new $(12*d),w=0,_=h[0].getRightChar().getValue(),v=11;v>=0;--v)0!=(_&1<<v)&&y.set(w),w++;for(v=1;v<h.length;++v){for(var A=h[v],C=A.getLeftChar().getValue(),m=11;m>=0;--m)0!=(C&1<<m)&&y.set(w),w++;if(null!==A.getRightChar()){var E=A.getRightChar().getValue();for(m=11;m>=0;--m)0!=(E&1<<m)&&y.set(w),w++}}return y},t}(),eW=function(){function t(h,d){d?this.decodedInformation=null:(this.finished=h,this.decodedInformation=d)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),ez=function(){function t(h){this.newPosition=h}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),ej=(rH=function(h,d){return(rH=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rH(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eY=function(h){function e(d,y){var w=h.call(this,d)||this;return w.value=y,w}return ej(e,h),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(ez),eZ=(rU=function(h,d){return(rU=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rU(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eK=function(h){function e(d,y,w){var _=h.call(this,d)||this;return w?(_.remaining=!0,_.remainingValue=_.remainingValue):(_.remaining=!1,_.remainingValue=0),_.newString=y,_}return eZ(e,h),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(ez),eq=(rX=function(h,d){return(rX=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rX(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),eQ=function(h){function e(d,y,w){var _=h.call(this,d)||this;if(y<0||y>10||w<0||w>10)throw new ta;return _.firstDigit=y,_.secondDigit=w,_}return eq(e,h),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(ez),Ze=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},eJ=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(h){if(!h)return null;if(h.length<2)throw new tE;var d=h.substring(0,2);try{for(var y=Ze(t.TWO_DIGIT_DATA_LENGTH),w=y.next();!w.done;w=y.next())if((M=w.value)[0]===d)return M[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,M[2],h):t.processFixedAI(2,M[1],h)}catch(h){I={error:h}}finally{try{w&&!w.done&&(S=y.return)&&S.call(y)}finally{if(I)throw I.error}}if(h.length<3)throw new tE;var _=h.substring(0,3);try{for(var v=Ze(t.THREE_DIGIT_DATA_LENGTH),A=v.next();!A.done;A=v.next())if((M=A.value)[0]===_)return M[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,M[2],h):t.processFixedAI(3,M[1],h)}catch(h){T={error:h}}finally{try{A&&!A.done&&(O=v.return)&&O.call(v)}finally{if(T)throw T.error}}try{for(var C=Ze(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),m=C.next();!m.done;m=C.next())if((M=m.value)[0]===_)return M[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,M[2],h):t.processFixedAI(4,M[1],h)}catch(h){b={error:h}}finally{try{m&&!m.done&&(R=C.return)&&R.call(C)}finally{if(b)throw b.error}}if(h.length<4)throw new tE;var E=h.substring(0,4);try{for(var I,S,T,O,b,R,N,D,M,P=Ze(t.FOUR_DIGIT_DATA_LENGTH),B=P.next();!B.done;B=P.next())if((M=B.value)[0]===E)return M[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,M[2],h):t.processFixedAI(4,M[1],h)}catch(h){N={error:h}}finally{try{B&&!B.done&&(D=P.return)&&D.call(P)}finally{if(N)throw N.error}}throw new tE},t.processFixedAI=function(h,d,y){if(y.length<h)throw new tE;var w=y.substring(0,h);if(y.length<h+d)throw new tE;var _=y.substring(h,h+d),v=y.substring(h+d),A="("+w+")"+_,C=t.parseFieldsInGeneralPurpose(v);return null==C?A:A+C},t.processVariableAI=function(h,d,y){var w,_=y.substring(0,h);w=y.length<h+d?y.length:h+d;var v=y.substring(h,w),A=y.substring(w),C="("+_+")"+v,m=t.parseFieldsInGeneralPurpose(A);return null==m?C:C+m},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),e$=function(){function t(h){this.buffer=new tA,this.information=h}return t.prototype.decodeAllCodes=function(h,d){for(var y=d,w=null;;){var _=this.decodeGeneralPurposeField(y,w),v=eJ.parseFieldsInGeneralPurpose(_.getNewString());if(null!=v&&h.append(v),w=_.isRemaining()?""+_.getRemainingValue():null,y===_.getNewPosition())break;y=_.getNewPosition()}return h.toString()},t.prototype.isStillNumeric=function(h){if(h+7>this.information.getSize())return h+4<=this.information.getSize();for(var d=h;d<h+3;++d)if(this.information.get(d))return!0;return this.information.get(h+3)},t.prototype.decodeNumeric=function(h){if(h+7>this.information.getSize()){var d=this.extractNumericValueFromBitArray(h,4);return new eQ(this.information.getSize(),0===d?eQ.FNC1:d-1,eQ.FNC1)}var y=this.extractNumericValueFromBitArray(h,7);return new eQ(h+7,(y-8)/11,(y-8)%11)},t.prototype.extractNumericValueFromBitArray=function(h,d){return t.extractNumericValueFromBitArray(this.information,h,d)},t.extractNumericValueFromBitArray=function(h,d,y){for(var w=0,_=0;_<y;++_)h.get(d+_)&&(w|=1<<y-_-1);return w},t.prototype.decodeGeneralPurposeField=function(h,d){this.buffer.setLengthToZero(),null!=d&&this.buffer.append(d),this.current.setPosition(h);var y=this.parseBlocks();return null!=y&&y.isRemaining()?new eK(this.current.getPosition(),this.buffer.toString(),y.getRemainingValue()):new eK(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var h,d;do{var y=this.current.getPosition();if(h=this.current.isAlpha()?(d=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(d=this.parseIsoIec646Block()).isFinished():(d=this.parseNumericBlock()).isFinished(),!(y!==this.current.getPosition())&&!h)break}while(!h);return d.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var h=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFirstDigitFNC1()){var d=void 0;return d=h.isSecondDigitFNC1()?new eK(this.current.getPosition(),this.buffer.toString()):new eK(this.current.getPosition(),this.buffer.toString(),h.getSecondDigit()),new eW(!0,d)}if(this.buffer.append(h.getFirstDigit()),h.isSecondDigitFNC1())return d=new eK(this.current.getPosition(),this.buffer.toString()),new eW(!0,d);this.buffer.append(h.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new eW(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var h=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFNC1()){var d=new eK(this.current.getPosition(),this.buffer.toString());return new eW(!0,d)}this.buffer.append(h.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new eW(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var h=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(h.getNewPosition()),h.isFNC1()){var d=new eK(this.current.getPosition(),this.buffer.toString());return new eW(!0,d)}this.buffer.append(h.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new eW(!1)},t.prototype.isStillIsoIec646=function(h){if(h+5>this.information.getSize())return!1;var d=this.extractNumericValueFromBitArray(h,5);if(d>=5&&d<16)return!0;if(h+7>this.information.getSize())return!1;var y=this.extractNumericValueFromBitArray(h,7);if(y>=64&&y<116)return!0;if(h+8>this.information.getSize())return!1;var w=this.extractNumericValueFromBitArray(h,8);return w>=232&&w<253},t.prototype.decodeIsoIec646=function(h){var d=this.extractNumericValueFromBitArray(h,5);if(15===d)return new eY(h+5,eY.FNC1);if(d>=5&&d<15)return new eY(h+5,"0"+(d-5));var y,w=this.extractNumericValueFromBitArray(h,7);if(w>=64&&w<90)return new eY(h+7,""+(w+1));if(w>=90&&w<116)return new eY(h+7,""+(w+7));switch(this.extractNumericValueFromBitArray(h,8)){case 232:y="!";break;case 233:y='"';break;case 234:y="%";break;case 235:y="&";break;case 236:y="'";break;case 237:y="(";break;case 238:y=")";break;case 239:y="*";break;case 240:y="+";break;case 241:y=",";break;case 242:y="-";break;case 243:y=".";break;case 244:y="/";break;case 245:y=":";break;case 246:y=";";break;case 247:y="<";break;case 248:y="=";break;case 249:y=">";break;case 250:y="?";break;case 251:y="_";break;case 252:y=" ";break;default:throw new ta}return new eY(h+8,y)},t.prototype.isStillAlpha=function(h){if(h+5>this.information.getSize())return!1;var d=this.extractNumericValueFromBitArray(h,5);if(d>=5&&d<16)return!0;if(h+6>this.information.getSize())return!1;var y=this.extractNumericValueFromBitArray(h,6);return y>=16&&y<63},t.prototype.decodeAlphanumeric=function(h){var d=this.extractNumericValueFromBitArray(h,5);if(15===d)return new eY(h+5,eY.FNC1);if(d>=5&&d<15)return new eY(h+5,"0"+(d-5));var y,w=this.extractNumericValueFromBitArray(h,6);if(w>=32&&w<58)return new eY(h+6,""+(w+33));switch(w){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new t0("Decoding invalid alphanumeric value: "+w)}return new eY(h+6,y)},t.prototype.isAlphaTo646ToAlphaLatch=function(h){if(h+1>this.information.getSize())return!1;for(var d=0;d<5&&d+h<this.information.getSize();++d)if(2===d){if(!this.information.get(h+2))return!1}else if(this.information.get(h+d))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(h){if(h+3>this.information.getSize())return!1;for(var d=h;d<h+3;++d)if(this.information.get(d))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(h){if(h+1>this.information.getSize())return!1;for(var d=0;d<4&&d+h<this.information.getSize();++d)if(this.information.get(h+d))return!1;return!0},t}(),e1=function(){function t(h){this.information=h,this.generalDecoder=new e$(h)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),e2=(rG=function(h,d){return(rG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rG(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),e0=function(h){function e(d){return h.call(this,d)||this}return e2(e,h),e.prototype.encodeCompressedGtin=function(h,d){h.append("(01)");var y=h.length();h.append("9"),this.encodeCompressedGtinWithoutAI(h,d,y)},e.prototype.encodeCompressedGtinWithoutAI=function(h,d,y){for(var w=0;w<4;++w){var _=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*w,10);_/100==0&&h.append("0"),_/10==0&&h.append("0"),h.append(_)}e.appendCheckDigit(h,y)},e.appendCheckDigit=function(h,d){for(var y=0,w=0;w<13;w++){var _=h.charAt(w+d).charCodeAt(0)-48;y+=0==(1&w)?3*_:_}10==(y=10-y%10)&&(y=0),h.append(y)},e.GTIN_SIZE=40,e}(e1),e3=(rW=function(h,d){return(rW=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rW(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),e8=function(h){function e(d){return h.call(this,d)||this}return e3(e,h),e.prototype.parseInformation=function(){var h=new tA;h.append("(01)");var d=h.length(),y=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return h.append(y),this.encodeCompressedGtinWithoutAI(h,e.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(h,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(e0),e4=(rz=function(h,d){return(rz=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rz(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),e6=function(h){function e(d){return h.call(this,d)||this}return e4(e,h),e.prototype.parseInformation=function(){var h=new tA;return this.getGeneralDecoder().decodeAllCodes(h,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(e1),e5=(rj=function(h,d){return(rj=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rj(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),e7=function(h){function e(d){return h.call(this,d)||this}return e5(e,h),e.prototype.encodeCompressedWeight=function(h,d,y){var w=this.getGeneralDecoder().extractNumericValueFromBitArray(d,y);this.addWeightCode(h,w);for(var _=this.checkWeight(w),v=1e5,A=0;A<5;++A)_/v==0&&h.append("0"),v/=10;h.append(_)},e}(e0),e9=(rY=function(h,d){return(rY=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rY(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rt=function(h){function e(d){return h.call(this,d)||this}return e9(e,h),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e7.GTIN_SIZE+e.WEIGHT_SIZE)throw new tE;var h=new tA;return this.encodeCompressedGtin(h,e.HEADER_SIZE),this.encodeCompressedWeight(h,e.HEADER_SIZE+e7.GTIN_SIZE,e.WEIGHT_SIZE),h.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(e7),rr=(rZ=function(h,d){return(rZ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rZ(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rn=function(h){function e(d){return h.call(this,d)||this}return rr(e,h),e.prototype.addWeightCode=function(h,d){h.append("(3103)")},e.prototype.checkWeight=function(h){return h},e}(rt),ro=(rK=function(h,d){return(rK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rK(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ri=function(h){function e(d){return h.call(this,d)||this}return ro(e,h),e.prototype.addWeightCode=function(h,d){d<1e4?h.append("(3202)"):h.append("(3203)")},e.prototype.checkWeight=function(h){return h<1e4?h:h-1e4},e}(rt),ra=(rq=function(h,d){return(rq=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rq(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rs=function(h){function e(d){return h.call(this,d)||this}return ra(e,h),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+e0.GTIN_SIZE)throw new tE;var h=new tA;this.encodeCompressedGtin(h,e.HEADER_SIZE);var d=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+e0.GTIN_SIZE,e.LAST_DIGIT_SIZE);h.append("(392"),h.append(d),h.append(")");var y=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+e0.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return h.append(y.getNewString()),h.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(e0),ru=(rQ=function(h,d){return(rQ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rQ(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rc=function(h){function e(d){return h.call(this,d)||this}return ru(e,h),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+e0.GTIN_SIZE)throw new tE;var h=new tA;this.encodeCompressedGtin(h,e.HEADER_SIZE);var d=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+e0.GTIN_SIZE,e.LAST_DIGIT_SIZE);h.append("(393"),h.append(d),h.append(")");var y=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+e0.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);y/100==0&&h.append("0"),y/10==0&&h.append("0"),h.append(y);var w=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+e0.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return h.append(w.getNewString()),h.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(e0),rf=(rJ=function(h,d){return(rJ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}rJ(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rh=function(h){function e(d,y,w){var _=h.call(this,d)||this;return _.dateCode=w,_.firstAIdigits=y,_}return rf(e,h),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new tE;var h=new tA;return this.encodeCompressedGtin(h,e.HEADER_SIZE),this.encodeCompressedWeight(h,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(h,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),h.toString()},e.prototype.encodeCompressedDate=function(h,d){var y=this.getGeneralDecoder().extractNumericValueFromBitArray(d,e.DATE_SIZE);if(38400!==y){h.append("("),h.append(this.dateCode),h.append(")");var w=y%32,_=(y/=32)%12+1,v=y/=12;v/10==0&&h.append("0"),h.append(v),_/10==0&&h.append("0"),h.append(_),w/10==0&&h.append("0"),h.append(w)}},e.prototype.addWeightCode=function(h,d){h.append("("),h.append(this.firstAIdigits),h.append(d/1e5),h.append(")")},e.prototype.checkWeight=function(h){return h%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(e7),rl=function(){function t(h,d,y,w){this.leftchar=h,this.rightchar=d,this.finderpattern=y,this.maybeLast=w}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return null==this.rightchar},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},t.equals=function(h,d){return h instanceof t&&t.equalsOrNull(h.leftchar,d.leftchar)&&t.equalsOrNull(h.rightchar,d.rightchar)&&t.equalsOrNull(h.finderpattern,d.finderpattern)},t.equalsOrNull=function(h,d){return null===h?null===d:t.equals(h,d)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}(),rd=function(){function t(h,d,y){this.pairs=h,this.rowNumber=d,this.wasReversed=y}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(h){return this.checkEqualitity(this,h)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(h,d){return h instanceof t&&this.checkEqualitity(h,d)&&h.wasReversed===d.wasReversed},t.prototype.checkEqualitity=function(h,d){var y;if(h&&d)return h.forEach(function(h,w){d.forEach(function(d){h.getLeftChar().getValue()===d.getLeftChar().getValue()&&h.getRightChar().getValue()===d.getRightChar().getValue()&&h.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(y=!0)})}),y},t}(),rp=(r$=function(h,d){return(r$=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}r$(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Cr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},rg=function(h){function e(){var d=null!==h&&h.apply(this,arguments)||this;return d.pairs=Array(e.MAX_PAIRS),d.rows=[],d.startEnd=[2],d}return rp(e,h),e.prototype.decodeRow=function(h,d,y){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(h,d))}catch(h){}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(h,d))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(h,d){for(var y,w=!1;!w;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,h))}catch(h){if(h instanceof tE){if(!this.pairs.length)throw new tE;w=!0}}if(this.checkChecksum())return this.pairs;if(y=!!this.rows.length,this.storeRow(h,!1),y){var _=this.checkRowsBoolean(!1);if(null!=_||null!=(_=this.checkRowsBoolean(!0)))return _}throw new tE},e.prototype.checkRowsBoolean=function(h){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,h&&(this.rows=this.rows.reverse());var d=null;try{d=this.checkRows([],0)}catch(h){console.log(h)}return h&&(this.rows=this.rows.reverse()),d},e.prototype.checkRows=function(h,d){for(var y,w,_=d;_<this.rows.length;_++){var v=this.rows[_];this.pairs.length=0;try{for(var A=(y=void 0,Cr(h)),C=A.next();!C.done;C=A.next()){var m=C.value;this.pairs.push(m.getPairs())}}catch(h){y={error:h}}finally{try{C&&!C.done&&(w=A.return)&&w.call(A)}finally{if(y)throw y.error}}if(this.pairs.push(v.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var E=Array(h);E.push(v);try{return this.checkRows(E,_+1)}catch(h){console.log(h)}}}throw new tE},e.isValidSequence=function(h){var d,y;try{for(var w=Cr(e.FINDER_PATTERN_SEQUENCES),_=w.next();!_.done;_=w.next()){var v=_.value;if(!(h.length>v.length)){for(var A=!0,C=0;C<h.length;C++)if(h[C].getFinderPattern().getValue()!==v[C]){A=!1;break}if(A)return!0}}}catch(h){d={error:h}}finally{try{_&&!_.done&&(y=w.return)&&y.call(w)}finally{if(d)throw d.error}}return!1},e.prototype.storeRow=function(h,d){for(var y=0,w=!1,_=!1;y<this.rows.length;){var v=this.rows[y];if(v.getRowNumber()>h){_=v.isEquivalent(this.pairs);break}w=v.isEquivalent(this.pairs),y++}_||w||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(y,new rd(this.pairs,h,d)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(h,d){var y,w,_,v,A,C;try{for(var m=Cr(d),E=m.next();!E.done;E=m.next()){var I=E.value;if(I.getPairs().length!==h.length)try{for(var S=(_=void 0,Cr(I.getPairs())),T=S.next();!T.done;T=S.next()){var O=T.value;try{for(var b=(A=void 0,Cr(h)),R=b.next();!R.done;R=b.next()){var N=R.value;if(rl.equals(O,N))break}}catch(h){A={error:h}}finally{try{R&&!R.done&&(C=b.return)&&C.call(b)}finally{if(A)throw A.error}}}}catch(h){_={error:h}}finally{try{T&&!T.done&&(v=S.return)&&v.call(S)}finally{if(_)throw _.error}}}}catch(h){y={error:h}}finally{try{E&&!E.done&&(w=m.return)&&w.call(m)}finally{if(y)throw y.error}}},e.isPartialRow=function(h,d){var y,w,_,v,A,C;try{for(var m=Cr(d),E=m.next();!E.done;E=m.next()){var I=E.value,S=!0;try{for(var T=(_=void 0,Cr(h)),O=T.next();!O.done;O=T.next()){var b=O.value,R=!1;try{for(var N=(A=void 0,Cr(I.getPairs())),D=N.next();!D.done;D=N.next()){var M=D.value;if(b.equals(M)){R=!0;break}}}catch(h){A={error:h}}finally{try{D&&!D.done&&(C=N.return)&&C.call(N)}finally{if(A)throw A.error}}if(!R){S=!1;break}}}catch(h){_={error:h}}finally{try{O&&!O.done&&(v=T.return)&&v.call(T)}finally{if(_)throw _.error}}if(S)return!0}}catch(h){y={error:h}}finally{try{E&&!E.done&&(w=m.return)&&w.call(m)}finally{if(y)throw y.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(h){var d=(function(h){try{if(h.get(1))return new e8(h);if(!h.get(2))return new e6(h);switch(e$.extractNumericValueFromBitArray(h,1,4)){case 4:return new rn(h);case 5:return new ri(h)}switch(e$.extractNumericValueFromBitArray(h,1,5)){case 12:return new rs(h);case 13:return new rc(h)}switch(e$.extractNumericValueFromBitArray(h,1,7)){case 56:return new rh(h,"310","11");case 57:return new rh(h,"320","11");case 58:return new rh(h,"310","13");case 59:return new rh(h,"320","13");case 60:return new rh(h,"310","15");case 61:return new rh(h,"320","15");case 62:return new rh(h,"310","17");case 63:return new rh(h,"320","17")}}catch(d){throw console.log(d),new t0("unknown decoder: "+h)}})(eG.buildBitArray(h)).parseInformation(),y=h[0].getFinderPattern().getResultPoints(),w=h[h.length-1].getFinderPattern().getResultPoints(),_=[y[0],y[1],w[0],w[1]];return new tL(d,null,null,_,tk.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var h=this.pairs.get(0),d=h.getLeftChar(),y=h.getRightChar();if(null===y)return!1;for(var w=y.getChecksumPortion(),_=2,v=1;v<this.pairs.size();++v){var A=this.pairs.get(v);w+=A.getLeftChar().getChecksumPortion(),_++;var C=A.getRightChar();null!=C&&(w+=C.getChecksumPortion(),_++)}return 211*(_-4)+(w%=211)===d.getValue()},e.getNextSecondBar=function(h,d){var y;return h.get(d)?(y=h.getNextUnset(d),y=h.getNextSet(y)):(y=h.getNextSet(d),y=h.getNextUnset(y)),y},e.prototype.retrieveNextPair=function(h,d,y){var w,_=d.length%2==0;this.startFromEven&&(_=!_);var v=!0,A=-1;do this.findNextPair(h,d,A),null===(w=this.parseFoundFinderPattern(h,y,_))?A=e.getNextSecondBar(h,this.startEnd[0]):v=!1;while(v);var C,m=this.decodeDataCharacter(h,w,_,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new tE;try{C=this.decodeDataCharacter(h,w,_,!1)}catch(h){C=null,console.log(h)}return new rl(m,C,w,!0)},e.prototype.isEmptyPair=function(h){return 0===h.length},e.prototype.findNextPair=function(h,d,y){var w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;var _,v=h.getSize();_=y>=0?y:this.isEmptyPair(d)?0:d[d.length-1].getFinderPattern().getStartEnd()[1];var A=d.length%2!=0;this.startFromEven&&(A=!A);for(var C=!1;_<v&&(C=!h.get(_));)_++;for(var m=0,E=_,I=_;I<v;I++)if(h.get(I)!==C)w[m]++;else{if(3===m){if(A&&e.reverseCounters(w),e.isFinderPattern(w))return this.startEnd[0]=E,void(this.startEnd[1]=I);A&&e.reverseCounters(w),E+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,m--}else m++;w[m]=1,C=!C}throw new tE},e.reverseCounters=function(h){for(var d=h.length,y=0;y<d/2;++y){var w=h[y];h[y]=h[d-y-1],h[d-y-1]=w}},e.prototype.parseFoundFinderPattern=function(h,d,y){if(y){for(var w=this.startEnd[0]-1;w>=0&&!h.get(w);)w--;w++,_=this.startEnd[0]-w,v=w,A=this.startEnd[1]}else v=this.startEnd[0],_=(A=h.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var _,v,A,C,m=this.getDecodeFinderCounters();j.arraycopy(m,0,m,1,m.length-1),m[0]=_;try{C=this.parseFinderValue(m,e.FINDER_PATTERNS)}catch(h){return null}return new eU(C,[v,A],v,A,d)},e.prototype.decodeDataCharacter=function(h,d,y,w){for(var _=this.getDataCharacterCounters(),v=0;v<_.length;v++)_[v]=0;if(w)e.recordPatternInReverse(h,d.getStartEnd()[0],_);else{e.recordPattern(h,d.getStartEnd()[1],_);for(var A=0,C=_.length-1;A<C;A++,C--){var m=_[A];_[A]=_[C],_[C]=m}}var E=t4.sum(new Int32Array(_))/17,I=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(E-I)/I>.3)throw new tE;var S=this.getOddCounts(),T=this.getEvenCounts(),O=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(A=0;A<_.length;A++){var R=1*_[A]/E,N=R+.5;if(N<1){if(R<.3)throw new tE;N=1}else if(N>8){if(R>8.7)throw new tE;N=8}var D=A/2;0==(1&A)?(S[D]=N,O[D]=R-N):(T[D]=N,b[D]=R-N)}this.adjustOddEvenCounts(17);var M=4*d.getValue()+(y?0:2)+(w?0:1)-1,P=0,B=0;for(A=S.length-1;A>=0;A--){if(e.isNotA1left(d,y,w)){var L=e.WEIGHTS[M][2*A];B+=S[A]*L}P+=S[A]}var x=0;for(A=T.length-1;A>=0;A--)e.isNotA1left(d,y,w)&&(L=e.WEIGHTS[M][2*A+1],x+=T[A]*L);var k=B+x;if(0!=(1&P)||P>13||P<4)throw new tE;var V=(13-P)/2,H=e.SYMBOL_WIDEST[V],U=9-H,X=eX.getRSSvalue(S,H,!0),G=eX.getRSSvalue(T,U,!1),z=e.EVEN_TOTAL_SUBSET[V],j=e.GSUM[V];return new eH(X*z+G+j,k)},e.isNotA1left=function(h,d,y){return!(0===h.getValue()&&d&&y)},e.prototype.adjustOddEvenCounts=function(h){var d=t4.sum(new Int32Array(this.getOddCounts())),y=t4.sum(new Int32Array(this.getEvenCounts())),w=!1,_=!1;d>13?_=!0:d<4&&(w=!0);var v=!1,A=!1;y>13?A=!0:y<4&&(v=!0);var C=d+y-h,m=1==(1&d),E=0==(1&y);if(1===C){if(m){if(E)throw new tE;_=!0}else{if(!E)throw new tE;A=!0}}else if(-1===C){if(m){if(E)throw new tE;w=!0}else{if(!E)throw new tE;v=!0}}else{if(0!==C)throw new tE;if(m){if(!E)throw new tE;d<y?(w=!0,A=!0):(_=!0,v=!0)}else if(E)throw new tE}if(w){if(_)throw new tE;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(A)throw new tE;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(eV),ry=(r1=function(h,d){return(r1=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}r1(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rw=function(h){function e(d,y,w){var _=h.call(this,d,y)||this;return _.count=0,_.finderPattern=w,_}return ry(e,h),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(eH),r_=(r2=function(h,d){return(r2=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}r2(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Tr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},rv=function(h){function e(){var d=null!==h&&h.apply(this,arguments)||this;return d.possibleLeftPairs=[],d.possibleRightPairs=[],d}return r_(e,h),e.prototype.decodeRow=function(h,d,y){var w,_,v,A,C=this.decodePair(d,!1,h,y);e.addOrTally(this.possibleLeftPairs,C),d.reverse();var m=this.decodePair(d,!0,h,y);e.addOrTally(this.possibleRightPairs,m),d.reverse();try{for(var E=Tr(this.possibleLeftPairs),I=E.next();!I.done;I=E.next()){var S=I.value;if(S.getCount()>1)try{for(var T=(v=void 0,Tr(this.possibleRightPairs)),O=T.next();!O.done;O=T.next()){var b=O.value;if(b.getCount()>1&&e.checkChecksum(S,b))return e.constructResult(S,b)}}catch(h){v={error:h}}finally{try{O&&!O.done&&(A=T.return)&&A.call(T)}finally{if(v)throw v.error}}}}catch(h){w={error:h}}finally{try{I&&!I.done&&(_=E.return)&&_.call(E)}finally{if(w)throw w.error}}throw new tE},e.addOrTally=function(h,d){var y,w;if(null!=d){var _=!1;try{for(var v=Tr(h),A=v.next();!A.done;A=v.next()){var C=A.value;if(C.getValue()===d.getValue()){C.incrementCount(),_=!0;break}}}catch(h){y={error:h}}finally{try{A&&!A.done&&(w=v.return)&&w.call(v)}finally{if(y)throw y.error}}_||h.push(d)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(h,d){for(var y=4537077*h.getValue()+d.getValue(),w=new String(y).toString(),_=new tA,v=13-w.length;v>0;v--)_.append("0");_.append(w);var A=0;for(v=0;v<13;v++){var C=_.charAt(v).charCodeAt(0)-48;A+=0==(1&v)?3*C:C}10==(A=10-A%10)&&(A=0),_.append(A.toString());var m=h.getFinderPattern().getResultPoints(),E=d.getFinderPattern().getResultPoints();return new tL(_.toString(),null,0,[m[0],m[1],E[0],E[1]],tk.RSS_14,(new Date).getTime())},e.checkChecksum=function(h,d){var y=(h.getChecksumPortion()+16*d.getChecksumPortion())%79,w=9*h.getFinderPattern().getValue()+d.getFinderPattern().getValue();return w>72&&w--,w>8&&w--,y===w},e.prototype.decodePair=function(h,d,y,w){try{var _=this.findFinderPattern(h,d),v=this.parseFoundFinderPattern(h,y,d,_),A=null==w?null:w.get(to.NEED_RESULT_POINT_CALLBACK);if(null!=A){var C=(_[0]+_[1])/2;d&&(C=h.getSize()-1-C),A.foundPossibleResultPoint(new t5(C,y))}var m=this.decodeDataCharacter(h,v,!0),E=this.decodeDataCharacter(h,v,!1);return new rw(1597*m.getValue()+E.getValue(),m.getChecksumPortion()+4*E.getChecksumPortion(),v)}catch(h){return null}},e.prototype.decodeDataCharacter=function(h,d,y){for(var w=this.getDataCharacterCounters(),_=0;_<w.length;_++)w[_]=0;if(y)ef.recordPatternInReverse(h,d.getStartEnd()[0],w);else{ef.recordPattern(h,d.getStartEnd()[1]+1,w);for(var v=0,A=w.length-1;v<A;v++,A--){var C=w[v];w[v]=w[A],w[A]=C}}var m=y?16:15,E=t4.sum(new Int32Array(w))/m,I=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(v=0;v<w.length;v++){var b=w[v]/E,R=Math.floor(b+.5);R<1?R=1:R>8&&(R=8);var N=Math.floor(v/2);0==(1&v)?(I[N]=R,T[N]=b-R):(S[N]=R,O[N]=b-R)}this.adjustOddEvenCounts(y,m);var D=0,M=0;for(v=I.length-1;v>=0;v--)M*=9,M+=I[v],D+=I[v];var P=0,B=0;for(v=S.length-1;v>=0;v--)P*=9,P+=S[v],B+=S[v];var L=M+3*P;if(y){if(0!=(1&D)||D>12||D<4)throw new tE;var x=(12-D)/2,k=9-(G=e.OUTSIDE_ODD_WIDEST[x]),V=eX.getRSSvalue(I,G,!1),H=eX.getRSSvalue(S,k,!0),U=e.OUTSIDE_EVEN_TOTAL_SUBSET[x],X=e.OUTSIDE_GSUM[x];return new eH(V*U+H+X,L)}if(0!=(1&B)||B>10||B<4)throw new tE;x=(10-B)/2,k=9-(G=e.INSIDE_ODD_WIDEST[x]),V=eX.getRSSvalue(I,G,!0),H=eX.getRSSvalue(S,k,!1);var G,z=e.INSIDE_ODD_TOTAL_SUBSET[x];return X=e.INSIDE_GSUM[x],new eH(H*z+V+X,L)},e.prototype.findFinderPattern=function(h,d){var y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;for(var w=h.getSize(),_=!1,v=0;v<w&&d!==(_=!h.get(v));)v++;for(var A=0,C=v,m=v;m<w;m++)if(h.get(m)!==_)y[A]++;else{if(3===A){if(eV.isFinderPattern(y))return[C,m];C+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,A--}else A++;y[A]=1,_=!_}throw new tE},e.prototype.parseFoundFinderPattern=function(h,d,y,w){for(var _=h.get(w[0]),v=w[0]-1;v>=0&&_!==h.get(v);)v--;v++;var A=w[0]-v,C=this.getDecodeFinderCounters(),m=new Int32Array(C.length);j.arraycopy(C,0,m,1,C.length-1),m[0]=A;var E=this.parseFinderValue(m,e.FINDER_PATTERNS),I=v,S=w[1];return y&&(I=h.getSize()-1-I,S=h.getSize()-1-S),new eU(E,[v,w[1]],I,S,d)},e.prototype.adjustOddEvenCounts=function(h,d){var y=t4.sum(new Int32Array(this.getOddCounts())),w=t4.sum(new Int32Array(this.getEvenCounts())),_=!1,v=!1,A=!1,C=!1;h?(y>12?v=!0:y<4&&(_=!0),w>12?C=!0:w<4&&(A=!0)):(y>11?v=!0:y<5&&(_=!0),w>10?C=!0:w<4&&(A=!0));var m=y+w-d,E=(1&y)==(h?1:0),I=1==(1&w);if(1===m){if(E){if(I)throw new tE;v=!0}else{if(!I)throw new tE;C=!0}}else if(-1===m){if(E){if(I)throw new tE;_=!0}else{if(!I)throw new tE;A=!0}}else{if(0!==m)throw new tE;if(E){if(!I)throw new tE;y<w?(_=!0,C=!0):(v=!0,A=!0)}else if(I)throw new tE}if(_){if(v)throw new tE;eV.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&eV.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(C)throw new tE;eV.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&eV.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(eV),rA=(r0=function(h,d){return(r0=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}r0(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),rC=function(h){function e(d){var y=h.call(this)||this;y.readers=[];var w=d?d.get(to.POSSIBLE_FORMATS):null,_=d&&void 0!==d.get(to.ASSUME_CODE_39_CHECK_DIGIT);return w&&((w.includes(tk.EAN_13)||w.includes(tk.UPC_A)||w.includes(tk.EAN_8)||w.includes(tk.UPC_E))&&y.readers.push(new eL(d)),w.includes(tk.CODE_39)&&y.readers.push(new ep(_)),w.includes(tk.CODE_93)&&y.readers.push(new ey),w.includes(tk.CODE_128)&&y.readers.push(new el),w.includes(tk.ITF)&&y.readers.push(new e_),w.includes(tk.CODABAR)&&y.readers.push(new eF),w.includes(tk.RSS_14)&&y.readers.push(new rv),w.includes(tk.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),y.readers.push(new rg))),0===y.readers.length&&(y.readers.push(new eL(d)),y.readers.push(new ep),y.readers.push(new ey),y.readers.push(new eL(d)),y.readers.push(new el),y.readers.push(new e_),y.readers.push(new rv)),y}return rA(e,h),e.prototype.decodeRow=function(h,d,y){for(var w=0;w<this.readers.length;w++)try{return this.readers[w].decodeRow(h,d,y)}catch(h){}throw new tE},e.prototype.reset=function(){this.readers.forEach(function(h){return h.reset()})},e}(ef);(r3=function(h,d){return(r3=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}r3(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)})(function(h,d){return void 0===h&&(h=500),r8.call(this,new rC(d),h,d)||this},r8=tB);var rm,rE,rI,rS,rT,rO,rb,rR,rN,rD,rM,rP,rB,rL,rx,rF,rk,rV,rH,rU,rX,rG,rW,rz,rj,rY,rZ,rK,rq,rQ,rJ,r$,r1,r2,r0,r3,r8,r4,Mr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},r6=function(){function t(h,d,y){this.ecCodewords=h,this.ecBlocks=[d],y&&this.ecBlocks.push(y)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),r5=function(){function t(h,d){this.count=h,this.dataCodewords=d}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),r7=function(){function t(h,d,y,w,_,v){this.versionNumber=h,this.symbolSizeRows=d,this.symbolSizeColumns=y,this.dataRegionSizeRows=w,this.dataRegionSizeColumns=_,this.ecBlocks=v;var A,C,m=0,E=v.getECCodewords(),I=v.getECBlocks();try{for(var S=Mr(I),T=S.next();!T.done;T=S.next()){var O=T.value;m+=O.getCount()*(O.getDataCodewords()+E)}}catch(h){A={error:h}}finally{try{T&&!T.done&&(C=S.return)&&C.call(S)}finally{if(A)throw A.error}}this.totalCodewords=m}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(h,d){var y,w;if(0!=(1&h)||0!=(1&d))throw new ta;try{for(var _=Mr(t.VERSIONS),v=_.next();!v.done;v=_.next()){var A=v.value;if(A.symbolSizeRows===h&&A.symbolSizeColumns===d)return A}}catch(h){y={error:h}}finally{try{v&&!v.done&&(w=_.return)&&w.call(_)}finally{if(y)throw y.error}}throw new ta},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new r6(5,new r5(1,3))),new t(2,12,12,10,10,new r6(7,new r5(1,5))),new t(3,14,14,12,12,new r6(10,new r5(1,8))),new t(4,16,16,14,14,new r6(12,new r5(1,12))),new t(5,18,18,16,16,new r6(14,new r5(1,18))),new t(6,20,20,18,18,new r6(18,new r5(1,22))),new t(7,22,22,20,20,new r6(20,new r5(1,30))),new t(8,24,24,22,22,new r6(24,new r5(1,36))),new t(9,26,26,24,24,new r6(28,new r5(1,44))),new t(10,32,32,14,14,new r6(36,new r5(1,62))),new t(11,36,36,16,16,new r6(42,new r5(1,86))),new t(12,40,40,18,18,new r6(48,new r5(1,114))),new t(13,44,44,20,20,new r6(56,new r5(1,144))),new t(14,48,48,22,22,new r6(68,new r5(1,174))),new t(15,52,52,24,24,new r6(42,new r5(2,102))),new t(16,64,64,14,14,new r6(56,new r5(2,140))),new t(17,72,72,16,16,new r6(36,new r5(4,92))),new t(18,80,80,18,18,new r6(48,new r5(4,114))),new t(19,88,88,20,20,new r6(56,new r5(4,144))),new t(20,96,96,22,22,new r6(68,new r5(4,174))),new t(21,104,104,24,24,new r6(56,new r5(6,136))),new t(22,120,120,18,18,new r6(68,new r5(6,175))),new t(23,132,132,20,20,new r6(62,new r5(8,163))),new t(24,144,144,22,22,new r6(62,new r5(8,156),new r5(2,155))),new t(25,8,18,6,16,new r6(7,new r5(1,5))),new t(26,8,32,6,14,new r6(11,new r5(1,10))),new t(27,12,26,10,24,new r6(14,new r5(1,16))),new t(28,12,36,10,16,new r6(18,new r5(1,22))),new t(29,16,36,14,16,new r6(24,new r5(1,32))),new t(30,16,48,14,22,new r6(28,new r5(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),r9=function(){function t(h){var d=h.getHeight();if(d<8||d>144||0!=(1&d))throw new ta;this.version=t.readVersion(h),this.mappingBitMatrix=this.extractDataRegion(h),this.readMappingMatrix=new tC(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(h){var d=h.getHeight(),y=h.getWidth();return r7.getVersionForDimensions(d,y)},t.prototype.readCodewords=function(){var h=new Int8Array(this.version.getTotalCodewords()),d=0,y=4,w=0,_=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth(),A=!1,C=!1,m=!1,E=!1;do if(y!==_||0!==w||A){if(y!==_-2||0!==w||0==(3&v)||C){if(y!==_+4||2!==w||0!=(7&v)||m){if(y!==_-2||0!==w||4!=(7&v)||E){do y<_&&w>=0&&!this.readMappingMatrix.get(w,y)&&(h[d++]=255&this.readUtah(y,w,_,v)),y-=2,w+=2;while(y>=0&&w<v);y+=1,w+=3;do y>=0&&w<v&&!this.readMappingMatrix.get(w,y)&&(h[d++]=255&this.readUtah(y,w,_,v)),y+=2,w-=2;while(y<_&&w>=0);y+=3,w+=1}else h[d++]=255&this.readCorner4(_,v),y-=2,w+=2,E=!0}else h[d++]=255&this.readCorner3(_,v),y-=2,w+=2,m=!0}else h[d++]=255&this.readCorner2(_,v),y-=2,w+=2,C=!0}else h[d++]=255&this.readCorner1(_,v),y-=2,w+=2,A=!0;while(y<_||w<v);if(d!==this.version.getTotalCodewords())throw new ta;return h},t.prototype.readModule=function(h,d,y,w){return h<0&&(h+=y,d+=4-(y+4&7)),d<0&&(d+=w,h+=4-(w+4&7)),this.readMappingMatrix.set(d,h),this.mappingBitMatrix.get(d,h)},t.prototype.readUtah=function(h,d,y,w){var _=0;return this.readModule(h-2,d-2,y,w)&&(_|=1),_<<=1,this.readModule(h-2,d-1,y,w)&&(_|=1),_<<=1,this.readModule(h-1,d-2,y,w)&&(_|=1),_<<=1,this.readModule(h-1,d-1,y,w)&&(_|=1),_<<=1,this.readModule(h-1,d,y,w)&&(_|=1),_<<=1,this.readModule(h,d-2,y,w)&&(_|=1),_<<=1,this.readModule(h,d-1,y,w)&&(_|=1),_<<=1,this.readModule(h,d,y,w)&&(_|=1),_},t.prototype.readCorner1=function(h,d){var y=0;return this.readModule(h-1,0,h,d)&&(y|=1),y<<=1,this.readModule(h-1,1,h,d)&&(y|=1),y<<=1,this.readModule(h-1,2,h,d)&&(y|=1),y<<=1,this.readModule(0,d-2,h,d)&&(y|=1),y<<=1,this.readModule(0,d-1,h,d)&&(y|=1),y<<=1,this.readModule(1,d-1,h,d)&&(y|=1),y<<=1,this.readModule(2,d-1,h,d)&&(y|=1),y<<=1,this.readModule(3,d-1,h,d)&&(y|=1),y},t.prototype.readCorner2=function(h,d){var y=0;return this.readModule(h-3,0,h,d)&&(y|=1),y<<=1,this.readModule(h-2,0,h,d)&&(y|=1),y<<=1,this.readModule(h-1,0,h,d)&&(y|=1),y<<=1,this.readModule(0,d-4,h,d)&&(y|=1),y<<=1,this.readModule(0,d-3,h,d)&&(y|=1),y<<=1,this.readModule(0,d-2,h,d)&&(y|=1),y<<=1,this.readModule(0,d-1,h,d)&&(y|=1),y<<=1,this.readModule(1,d-1,h,d)&&(y|=1),y},t.prototype.readCorner3=function(h,d){var y=0;return this.readModule(h-1,0,h,d)&&(y|=1),y<<=1,this.readModule(h-1,d-1,h,d)&&(y|=1),y<<=1,this.readModule(0,d-3,h,d)&&(y|=1),y<<=1,this.readModule(0,d-2,h,d)&&(y|=1),y<<=1,this.readModule(0,d-1,h,d)&&(y|=1),y<<=1,this.readModule(1,d-3,h,d)&&(y|=1),y<<=1,this.readModule(1,d-2,h,d)&&(y|=1),y<<=1,this.readModule(1,d-1,h,d)&&(y|=1),y},t.prototype.readCorner4=function(h,d){var y=0;return this.readModule(h-3,0,h,d)&&(y|=1),y<<=1,this.readModule(h-2,0,h,d)&&(y|=1),y<<=1,this.readModule(h-1,0,h,d)&&(y|=1),y<<=1,this.readModule(0,d-2,h,d)&&(y|=1),y<<=1,this.readModule(0,d-1,h,d)&&(y|=1),y<<=1,this.readModule(1,d-1,h,d)&&(y|=1),y<<=1,this.readModule(2,d-1,h,d)&&(y|=1),y<<=1,this.readModule(3,d-1,h,d)&&(y|=1),y},t.prototype.extractDataRegion=function(h){var d=this.version.getSymbolSizeRows(),y=this.version.getSymbolSizeColumns();if(h.getHeight()!==d)throw new H("Dimension of bitMatrix must match the version size");for(var w=this.version.getDataRegionSizeRows(),_=this.version.getDataRegionSizeColumns(),v=d/w|0,A=y/_|0,C=new tC(A*_,v*w),m=0;m<v;++m)for(var E=m*w,I=0;I<A;++I)for(var S=I*_,T=0;T<w;++T)for(var O=m*(w+2)+1+T,b=E+T,R=0;R<_;++R){var N=I*(_+2)+1+R;if(h.get(N,O)){var D=S+R;C.set(D,b)}}return C},t}(),kr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nt=function(){function t(h,d){this.numDataCodewords=h,this.codewords=d}return t.getDataBlocks=function(h,d){var y,w,_,v,A=d.getECBlocks(),C=0,m=A.getECBlocks();try{for(var E=kr(m),I=E.next();!I.done;I=E.next())C+=(R=I.value).getCount()}catch(h){y={error:h}}finally{try{I&&!I.done&&(w=E.return)&&w.call(E)}finally{if(y)throw y.error}}var S=Array(C),T=0;try{for(var O=kr(m),b=O.next();!b.done;b=O.next())for(var R=b.value,N=0;N<R.getCount();N++){var D=R.getDataCodewords(),M=A.getECCodewords()+D;S[T++]=new t(D,new Uint8Array(M))}}catch(h){_={error:h}}finally{try{b&&!b.done&&(v=O.return)&&v.call(O)}finally{if(_)throw _.error}}var P=S[0].codewords.length-A.getECCodewords(),B=P-1,L=0;for(N=0;N<B;N++)for(var x=0;x<T;x++)S[x].codewords[N]=h[L++];var k=24===d.getVersionNumber(),V=k?8:T;for(x=0;x<V;x++)S[x].codewords[P-1]=h[L++];var U=S[0].codewords.length;for(N=P;N<U;N++)for(x=0;x<T;x++){var X=k?(x+8)%T:x,G=k&&X>7?N-1:N;S[X].codewords[G]=h[L++]}if(L!==h.length)throw new H;return S},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),ne=function(){function t(h){this.bytes=h,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(h){if(h<1||h>32||h>this.available())throw new H(""+h);var d,y=0,w=this.bitOffset,_=this.byteOffset,v=this.bytes;if(w>0){var A=8-w,C=h<A?h:A,m=255>>8-C<<(d=A-C);y=(v[_]&m)>>d,h-=C,8===(w+=C)&&(w=0,_++)}if(h>0){for(;h>=8;)y=y<<8|255&v[_],_++,h-=8;h>0&&(m=255>>(d=8-h)<<d,y=y<<h|(v[_]&m)>>d,w+=h)}return this.bitOffset=w,this.byteOffset=_,y},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();(nr=r4||(r4={}))[nr.PAD_ENCODE=0]="PAD_ENCODE",nr[nr.ASCII_ENCODE=1]="ASCII_ENCODE",nr[nr.C40_ENCODE=2]="C40_ENCODE",nr[nr.TEXT_ENCODE=3]="TEXT_ENCODE",nr[nr.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",nr[nr.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",nr[nr.BASE256_ENCODE=6]="BASE256_ENCODE";var nr,nn,no,ni=function(){function t(){}return t.decode=function(h){var d=new ne(h),y=new tA,w=new tA,_=[],v=r4.ASCII_ENCODE;do if(v===r4.ASCII_ENCODE)v=this.decodeAsciiSegment(d,y,w);else{switch(v){case r4.C40_ENCODE:this.decodeC40Segment(d,y);break;case r4.TEXT_ENCODE:this.decodeTextSegment(d,y);break;case r4.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,y);break;case r4.EDIFACT_ENCODE:this.decodeEdifactSegment(d,y);break;case r4.BASE256_ENCODE:this.decodeBase256Segment(d,y,_);break;default:throw new ta}v=r4.ASCII_ENCODE}while(v!==r4.PAD_ENCODE&&d.available()>0);return w.length()>0&&y.append(w.toString()),new tj(h,y.toString(),0===_.length?null:_,null)},t.decodeAsciiSegment=function(h,d,y){var w=!1;do{var _=h.readBits(8);if(0===_)throw new ta;if(_<=128)return w&&(_+=128),d.append(String.fromCharCode(_-1)),r4.ASCII_ENCODE;if(129===_)return r4.PAD_ENCODE;if(_<=229){var v=_-130;v<10&&d.append("0"),d.append(""+v)}else switch(_){case 230:return r4.C40_ENCODE;case 231:return r4.BASE256_ENCODE;case 232:d.append("\x1d");break;case 233:case 234:case 241:break;case 235:w=!0;break;case 236:d.append("[)>\x1e05\x1d"),y.insert(0,"\x1e\x04");break;case 237:d.append("[)>\x1e06\x1d"),y.insert(0,"\x1e\x04");break;case 238:return r4.ANSIX12_ENCODE;case 239:return r4.TEXT_ENCODE;case 240:return r4.EDIFACT_ENCODE;default:if(254!==_||0!==h.available())throw new ta}}while(h.available()>0);return r4.ASCII_ENCODE},t.decodeC40Segment=function(h,d){var y=!1,w=[],_=0;do{if(8===h.available())return;var v=h.readBits(8);if(254===v)return;this.parseTwoBytes(v,h.readBits(8),w);for(var A=0;A<3;A++){var C=w[A];switch(_){case 0:if(C<3)_=C+1;else{if(!(C<this.C40_BASIC_SET_CHARS.length))throw new ta;var m=this.C40_BASIC_SET_CHARS[C];y?(d.append(String.fromCharCode(m.charCodeAt(0)+128)),y=!1):d.append(m)}break;case 1:y?(d.append(String.fromCharCode(C+128)),y=!1):d.append(String.fromCharCode(C)),_=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length)m=this.C40_SHIFT2_SET_CHARS[C],y?(d.append(String.fromCharCode(m.charCodeAt(0)+128)),y=!1):d.append(m);else switch(C){case 27:d.append("\x1d");break;case 30:y=!0;break;default:throw new ta}_=0;break;case 3:y?(d.append(String.fromCharCode(C+224)),y=!1):d.append(String.fromCharCode(C+96)),_=0;break;default:throw new ta}}}while(h.available()>0)},t.decodeTextSegment=function(h,d){var y=!1,w=[],_=0;do{if(8===h.available())return;var v=h.readBits(8);if(254===v)return;this.parseTwoBytes(v,h.readBits(8),w);for(var A=0;A<3;A++){var C=w[A];switch(_){case 0:if(C<3)_=C+1;else{if(!(C<this.TEXT_BASIC_SET_CHARS.length))throw new ta;var m=this.TEXT_BASIC_SET_CHARS[C];y?(d.append(String.fromCharCode(m.charCodeAt(0)+128)),y=!1):d.append(m)}break;case 1:y?(d.append(String.fromCharCode(C+128)),y=!1):d.append(String.fromCharCode(C)),_=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length)m=this.TEXT_SHIFT2_SET_CHARS[C],y?(d.append(String.fromCharCode(m.charCodeAt(0)+128)),y=!1):d.append(m);else switch(C){case 27:d.append("\x1d");break;case 30:y=!0;break;default:throw new ta}_=0;break;case 3:if(!(C<this.TEXT_SHIFT3_SET_CHARS.length))throw new ta;m=this.TEXT_SHIFT3_SET_CHARS[C],y?(d.append(String.fromCharCode(m.charCodeAt(0)+128)),y=!1):d.append(m),_=0;break;default:throw new ta}}}while(h.available()>0)},t.decodeAnsiX12Segment=function(h,d){var y=[];do{if(8===h.available())return;var w=h.readBits(8);if(254===w)return;this.parseTwoBytes(w,h.readBits(8),y);for(var _=0;_<3;_++){var v=y[_];switch(v){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(v<14)d.append(String.fromCharCode(v+44));else{if(!(v<40))throw new ta;d.append(String.fromCharCode(v+51))}}}}while(h.available()>0)},t.parseTwoBytes=function(h,d,y){var w=(h<<8)+d-1,_=Math.floor(w/1600);y[0]=_,w-=1600*_,_=Math.floor(w/40),y[1]=_,y[2]=w-40*_},t.decodeEdifactSegment=function(h,d){do{if(16>=h.available())return;for(var y=0;y<4;y++){var w=h.readBits(6);if(31===w){var _=8-h.getBitOffset();return void(8!==_&&h.readBits(_))}0==(32&w)&&(w|=64),d.append(String.fromCharCode(w))}}while(h.available()>0)},t.decodeBase256Segment=function(h,d,y){var w,_=1+h.getByteOffset(),v=this.unrandomize255State(h.readBits(8),_++);if((w=0===v?h.available()/8|0:v<250?v:250*(v-249)+this.unrandomize255State(h.readBits(8),_++))<0)throw new ta;for(var A=new Uint8Array(w),C=0;C<w;C++){if(8>h.available())throw new ta;A[C]=this.unrandomize255State(h.readBits(8),_++)}y.push(A);try{d.append(t_.decode(A,tv.ISO88591))}catch(h){throw new t0("Platform does not support required encoding: "+h.message)}},t.unrandomize255State=function(h,d){var y=h-(149*d%255+1);return y>=0?y:y+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7f"],t}(),Xr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},na=function(){function t(){this.rsDecoder=new t3(tJ.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(h){var d,y,w=new r9(h),_=w.getVersion(),v=w.readCodewords(),A=nt.getDataBlocks(v,_),C=0;try{for(var m=Xr(A),E=m.next();!E.done;E=m.next())C+=E.value.getNumDataCodewords()}catch(h){d={error:h}}finally{try{E&&!E.done&&(y=m.return)&&y.call(m)}finally{if(d)throw d.error}}for(var I=new Uint8Array(C),S=A.length,T=0;T<S;T++){var O=A[T],b=O.getCodewords(),R=O.getNumDataCodewords();this.correctErrors(b,R);for(var N=0;N<R;N++)I[N*S+T]=b[N]}return ni.decode(I)},t.prototype.correctErrors=function(h,d){var y=new Int32Array(h);try{this.rsDecoder.decode(y,h.length-d)}catch(h){throw new G}for(var w=0;w<d;w++)h[w]=y[w]},t}(),ns=function(){function t(h){this.image=h,this.rectangleDetector=new ee(this.image)}return t.prototype.detect=function(){var h=this.rectangleDetector.detect(),d=this.detectSolid1(h);if((d=this.detectSolid2(d))[3]=this.correctTopRight(d),!d[3])throw new tE;var y=(d=this.shiftToModuleCenter(d))[0],w=d[1],_=d[2],v=d[3],A=this.transitionsBetween(y,v)+1,C=this.transitionsBetween(_,v)+1;1==(1&A)&&(A+=1),1==(1&C)&&(C+=1),4*A<7*C&&4*C<7*A&&(A=C=Math.max(A,C));var m=t.sampleGrid(this.image,y,w,_,v,A,C);return new t7(m,[y,w,_,v])},t.shiftPoint=function(h,d,y){var w=(d.getX()-h.getX())/(y+1),_=(d.getY()-h.getY())/(y+1);return new t5(h.getX()+w,h.getY()+_)},t.moveAway=function(h,d,y){var w=h.getX(),_=h.getY();return w<d?w-=1:w+=1,_<y?_-=1:_+=1,new t5(w,_)},t.prototype.detectSolid1=function(h){var d=h[0],y=h[1],w=h[3],_=h[2],v=this.transitionsBetween(d,y),A=this.transitionsBetween(y,w),C=this.transitionsBetween(w,_),m=this.transitionsBetween(_,d),E=v,I=[_,d,y,w];return E>A&&(E=A,I[0]=d,I[1]=y,I[2]=w,I[3]=_),E>C&&(E=C,I[0]=y,I[1]=w,I[2]=_,I[3]=d),E>m&&(I[0]=w,I[1]=_,I[2]=d,I[3]=y),I},t.prototype.detectSolid2=function(h){var d=h[0],y=h[1],w=h[2],_=h[3],v=this.transitionsBetween(d,_),A=t.shiftPoint(y,w,4*(v+1)),C=t.shiftPoint(w,y,4*(v+1));return this.transitionsBetween(A,d)<this.transitionsBetween(C,_)?(h[0]=d,h[1]=y,h[2]=w,h[3]=_):(h[0]=y,h[1]=w,h[2]=_,h[3]=d),h},t.prototype.correctTopRight=function(h){var d=h[0],y=h[1],w=h[2],_=h[3],v=this.transitionsBetween(d,_),A=this.transitionsBetween(y,_),C=t.shiftPoint(d,y,4*(A+1)),m=t.shiftPoint(w,y,4*(v+1));v=this.transitionsBetween(C,_),A=this.transitionsBetween(m,_);var E=new t5(_.getX()+(w.getX()-y.getX())/(v+1),_.getY()+(w.getY()-y.getY())/(v+1)),I=new t5(_.getX()+(d.getX()-y.getX())/(A+1),_.getY()+(d.getY()-y.getY())/(A+1));return this.isValid(E)?this.isValid(I)?this.transitionsBetween(C,E)+this.transitionsBetween(m,E)>this.transitionsBetween(C,I)+this.transitionsBetween(m,I)?E:I:E:this.isValid(I)?I:null},t.prototype.shiftToModuleCenter=function(h){var d=h[0],y=h[1],w=h[2],_=h[3],v=this.transitionsBetween(d,_)+1,A=this.transitionsBetween(w,_)+1,C=t.shiftPoint(d,y,4*A),m=t.shiftPoint(w,y,4*v);1==(1&(v=this.transitionsBetween(C,_)+1))&&(v+=1),1==(1&(A=this.transitionsBetween(m,_)+1))&&(A+=1);var E,I,S=(d.getX()+y.getX()+w.getX()+_.getX())/4,T=(d.getY()+y.getY()+w.getY()+_.getY())/4;return d=t.moveAway(d,S,T),y=t.moveAway(y,S,T),w=t.moveAway(w,S,T),_=t.moveAway(_,S,T),C=t.shiftPoint(d,y,4*A),C=t.shiftPoint(C,_,4*v),E=t.shiftPoint(y,d,4*A),E=t.shiftPoint(E,w,4*v),m=t.shiftPoint(w,_,4*A),m=t.shiftPoint(m,y,4*v),I=t.shiftPoint(_,w,4*A),[C,E,m,I=t.shiftPoint(I,d,4*v)]},t.prototype.isValid=function(h){return h.getX()>=0&&h.getX()<this.image.getWidth()&&h.getY()>0&&h.getY()<this.image.getHeight()},t.sampleGrid=function(h,d,y,w,_,v,A){return ea.getInstance().sampleGrid(h,v,A,.5,.5,v-.5,.5,v-.5,A-.5,.5,A-.5,d.getX(),d.getY(),_.getX(),_.getY(),w.getX(),w.getY(),y.getX(),y.getY())},t.prototype.transitionsBetween=function(h,d){var y=Math.trunc(h.getX()),w=Math.trunc(h.getY()),_=Math.trunc(d.getX()),v=Math.trunc(d.getY()),A=Math.abs(v-w)>Math.abs(_-y);if(A){var C=y;y=w,w=C,C=_,_=v,v=C}for(var m=Math.abs(_-y),E=Math.abs(v-w),I=-m/2,S=w<v?1:-1,T=y<_?1:-1,O=0,b=this.image.get(A?w:y,A?y:w),R=y,N=w;R!==_;R+=T){var D=this.image.get(A?N:R,A?R:N);if(D!==b&&(O++,b=D),(I+=E)>0){if(N===v)break;N+=S,I-=m}}return O},t}(),nu=function(){function t(){this.decoder=new na}return t.prototype.decode=function(h,d){if(void 0===d&&(d=null),null!=d&&d.has(to.PURE_BARCODE)){var y,w,_=t.extractPureBits(h.getBlackMatrix());y=this.decoder.decode(_),w=t.NO_POINTS}else{var v=new ns(h.getBlackMatrix()).detect();y=this.decoder.decode(v.getBits()),w=v.getPoints()}var A=y.getRawBytes(),C=new tL(y.getText(),A,8*A.length,w,tk.DATA_MATRIX,j.currentTimeMillis()),m=y.getByteSegments();null!=m&&C.putMetadata(tz.BYTE_SEGMENTS,m);var E=y.getECLevel();return null!=E&&C.putMetadata(tz.ERROR_CORRECTION_LEVEL,E),C},t.prototype.reset=function(){},t.extractPureBits=function(h){var d=h.getTopLeftOnBit(),y=h.getBottomRightOnBit();if(null==d||null==y)throw new tE;var w=this.moduleSize(d,h),_=d[1],v=y[1],A=d[0],C=(y[0]-A+1)/w,m=(v-_+1)/w;if(C<=0||m<=0)throw new tE;var E=w/2;_+=E,A+=E;for(var I=new tC(C,m),S=0;S<m;S++)for(var T=_+S*w,O=0;O<C;O++)h.get(A+O*w,T)&&I.set(O,S);return I},t.moduleSize=function(h,d){for(var y=d.getWidth(),w=h[0],_=h[1];w<y&&d.get(w,_);)w++;if(w===y)throw new tE;var v=w-h[0];if(0===v)throw new tE;return v},t.NO_POINTS=[],t}();(nn=function(h,d){return(nn=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nn(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)})(function(h){return void 0===h&&(h=500),nc.call(this,new nu,h)||this},nc=tB),(nf=no||(no={}))[nf.L=0]="L",nf[nf.M=1]="M",nf[nf.Q=2]="Q",nf[nf.H=3]="H";var nc,nf,nh,nl=function(){function t(h,d,y){this.value=h,this.stringValue=d,this.bits=y,t.FOR_BITS.set(y,this),t.FOR_VALUE.set(h,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(h){switch(h){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new k(h+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(h){return h instanceof t&&this.value===h.value},t.forBits=function(h){if(h<0||h>=t.FOR_BITS.size)throw new H;return t.FOR_BITS.get(h)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(no.L,"L",1),t.M=new t(no.M,"M",0),t.Q=new t(no.Q,"Q",3),t.H=new t(no.H,"H",2),t}(),Kr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nd=function(){function t(h){this.errorCorrectionLevel=nl.forBits(h>>3&3),this.dataMask=7&h}return t.numBitsDiffering=function(h,d){return J.bitCount(h^d)},t.decodeFormatInformation=function(h,d){var y=t.doDecodeFormatInformation(h,d);return null!==y?y:t.doDecodeFormatInformation(h^t.FORMAT_INFO_MASK_QR,d^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(h,d){var y,w,_=Number.MAX_SAFE_INTEGER,v=0;try{for(var A=Kr(t.FORMAT_INFO_DECODE_LOOKUP),C=A.next();!C.done;C=A.next()){var m=C.value,E=m[0];if(E===h||E===d)return new t(m[1]);var I=t.numBitsDiffering(h,E);I<_&&(v=m[1],_=I),h!==d&&(I=t.numBitsDiffering(d,E))<_&&(v=m[1],_=I)}}catch(h){y={error:h}}finally{try{C&&!C.done&&(w=A.return)&&w.call(A)}finally{if(y)throw y.error}}return _<=3?new t(v):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(h){return h instanceof t&&this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),Qr=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},np=function(){function t(h){for(var d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];this.ecCodewordsPerBlock=h,this.ecBlocks=d}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var h,d,y=0,w=this.ecBlocks;try{for(var _=Qr(w),v=_.next();!v.done;v=_.next())y+=v.value.getCount()}catch(d){h={error:d}}finally{try{v&&!v.done&&(d=_.return)&&d.call(_)}finally{if(h)throw h.error}}return y},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ng=function(){function t(h,d){this.count=h,this.dataCodewords=d}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),tn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},ny=function(){function t(h,d){for(var y,w,_=[],v=2;v<arguments.length;v++)_[v-2]=arguments[v];this.versionNumber=h,this.alignmentPatternCenters=d,this.ecBlocks=_;var A=0,C=_[0].getECCodewordsPerBlock(),m=_[0].getECBlocks();try{for(var E=tn(m),I=E.next();!I.done;I=E.next()){var S=I.value;A+=S.getCount()*(S.getDataCodewords()+C)}}catch(h){y={error:h}}finally{try{I&&!I.done&&(w=E.return)&&w.call(E)}finally{if(y)throw y.error}}this.totalCodewords=A}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(h){return this.ecBlocks[h.getValue()]},t.getProvisionalVersionForDimension=function(h){if(h%4!=1)throw new ta;try{return this.getVersionForNumber((h-17)/4)}catch(h){throw new ta}},t.getVersionForNumber=function(h){if(h<1||h>40)throw new H;return t.VERSIONS[h-1]},t.decodeVersionInformation=function(h){for(var d=Number.MAX_SAFE_INTEGER,y=0,w=0;w<t.VERSION_DECODE_INFO.length;w++){var _=t.VERSION_DECODE_INFO[w];if(_===h)return t.getVersionForNumber(w+7);var v=nd.numBitsDiffering(h,_);v<d&&(y=w+7,d=v)}return d<=3?t.getVersionForNumber(y):null},t.prototype.buildFunctionPattern=function(){var h=this.getDimensionForVersion(),d=new tC(h);d.setRegion(0,0,9,9),d.setRegion(h-8,0,8,9),d.setRegion(0,h-8,9,8);for(var y=this.alignmentPatternCenters.length,w=0;w<y;w++)for(var _=this.alignmentPatternCenters[w]-2,v=0;v<y;v++)0===w&&(0===v||v===y-1)||w===y-1&&0===v||d.setRegion(this.alignmentPatternCenters[v]-2,_,5,5);return d.setRegion(6,9,1,h-17),d.setRegion(9,6,h-17,1),this.versionNumber>6&&(d.setRegion(h-11,0,3,6),d.setRegion(0,h-11,6,3)),d},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new np(7,new ng(1,19)),new np(10,new ng(1,16)),new np(13,new ng(1,13)),new np(17,new ng(1,9))),new t(2,Int32Array.from([6,18]),new np(10,new ng(1,34)),new np(16,new ng(1,28)),new np(22,new ng(1,22)),new np(28,new ng(1,16))),new t(3,Int32Array.from([6,22]),new np(15,new ng(1,55)),new np(26,new ng(1,44)),new np(18,new ng(2,17)),new np(22,new ng(2,13))),new t(4,Int32Array.from([6,26]),new np(20,new ng(1,80)),new np(18,new ng(2,32)),new np(26,new ng(2,24)),new np(16,new ng(4,9))),new t(5,Int32Array.from([6,30]),new np(26,new ng(1,108)),new np(24,new ng(2,43)),new np(18,new ng(2,15),new ng(2,16)),new np(22,new ng(2,11),new ng(2,12))),new t(6,Int32Array.from([6,34]),new np(18,new ng(2,68)),new np(16,new ng(4,27)),new np(24,new ng(4,19)),new np(28,new ng(4,15))),new t(7,Int32Array.from([6,22,38]),new np(20,new ng(2,78)),new np(18,new ng(4,31)),new np(18,new ng(2,14),new ng(4,15)),new np(26,new ng(4,13),new ng(1,14))),new t(8,Int32Array.from([6,24,42]),new np(24,new ng(2,97)),new np(22,new ng(2,38),new ng(2,39)),new np(22,new ng(4,18),new ng(2,19)),new np(26,new ng(4,14),new ng(2,15))),new t(9,Int32Array.from([6,26,46]),new np(30,new ng(2,116)),new np(22,new ng(3,36),new ng(2,37)),new np(20,new ng(4,16),new ng(4,17)),new np(24,new ng(4,12),new ng(4,13))),new t(10,Int32Array.from([6,28,50]),new np(18,new ng(2,68),new ng(2,69)),new np(26,new ng(4,43),new ng(1,44)),new np(24,new ng(6,19),new ng(2,20)),new np(28,new ng(6,15),new ng(2,16))),new t(11,Int32Array.from([6,30,54]),new np(20,new ng(4,81)),new np(30,new ng(1,50),new ng(4,51)),new np(28,new ng(4,22),new ng(4,23)),new np(24,new ng(3,12),new ng(8,13))),new t(12,Int32Array.from([6,32,58]),new np(24,new ng(2,92),new ng(2,93)),new np(22,new ng(6,36),new ng(2,37)),new np(26,new ng(4,20),new ng(6,21)),new np(28,new ng(7,14),new ng(4,15))),new t(13,Int32Array.from([6,34,62]),new np(26,new ng(4,107)),new np(22,new ng(8,37),new ng(1,38)),new np(24,new ng(8,20),new ng(4,21)),new np(22,new ng(12,11),new ng(4,12))),new t(14,Int32Array.from([6,26,46,66]),new np(30,new ng(3,115),new ng(1,116)),new np(24,new ng(4,40),new ng(5,41)),new np(20,new ng(11,16),new ng(5,17)),new np(24,new ng(11,12),new ng(5,13))),new t(15,Int32Array.from([6,26,48,70]),new np(22,new ng(5,87),new ng(1,88)),new np(24,new ng(5,41),new ng(5,42)),new np(30,new ng(5,24),new ng(7,25)),new np(24,new ng(11,12),new ng(7,13))),new t(16,Int32Array.from([6,26,50,74]),new np(24,new ng(5,98),new ng(1,99)),new np(28,new ng(7,45),new ng(3,46)),new np(24,new ng(15,19),new ng(2,20)),new np(30,new ng(3,15),new ng(13,16))),new t(17,Int32Array.from([6,30,54,78]),new np(28,new ng(1,107),new ng(5,108)),new np(28,new ng(10,46),new ng(1,47)),new np(28,new ng(1,22),new ng(15,23)),new np(28,new ng(2,14),new ng(17,15))),new t(18,Int32Array.from([6,30,56,82]),new np(30,new ng(5,120),new ng(1,121)),new np(26,new ng(9,43),new ng(4,44)),new np(28,new ng(17,22),new ng(1,23)),new np(28,new ng(2,14),new ng(19,15))),new t(19,Int32Array.from([6,30,58,86]),new np(28,new ng(3,113),new ng(4,114)),new np(26,new ng(3,44),new ng(11,45)),new np(26,new ng(17,21),new ng(4,22)),new np(26,new ng(9,13),new ng(16,14))),new t(20,Int32Array.from([6,34,62,90]),new np(28,new ng(3,107),new ng(5,108)),new np(26,new ng(3,41),new ng(13,42)),new np(30,new ng(15,24),new ng(5,25)),new np(28,new ng(15,15),new ng(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new np(28,new ng(4,116),new ng(4,117)),new np(26,new ng(17,42)),new np(28,new ng(17,22),new ng(6,23)),new np(30,new ng(19,16),new ng(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new np(28,new ng(2,111),new ng(7,112)),new np(28,new ng(17,46)),new np(30,new ng(7,24),new ng(16,25)),new np(24,new ng(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new np(30,new ng(4,121),new ng(5,122)),new np(28,new ng(4,47),new ng(14,48)),new np(30,new ng(11,24),new ng(14,25)),new np(30,new ng(16,15),new ng(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new np(30,new ng(6,117),new ng(4,118)),new np(28,new ng(6,45),new ng(14,46)),new np(30,new ng(11,24),new ng(16,25)),new np(30,new ng(30,16),new ng(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new np(26,new ng(8,106),new ng(4,107)),new np(28,new ng(8,47),new ng(13,48)),new np(30,new ng(7,24),new ng(22,25)),new np(30,new ng(22,15),new ng(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new np(28,new ng(10,114),new ng(2,115)),new np(28,new ng(19,46),new ng(4,47)),new np(28,new ng(28,22),new ng(6,23)),new np(30,new ng(33,16),new ng(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new np(30,new ng(8,122),new ng(4,123)),new np(28,new ng(22,45),new ng(3,46)),new np(30,new ng(8,23),new ng(26,24)),new np(30,new ng(12,15),new ng(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new np(30,new ng(3,117),new ng(10,118)),new np(28,new ng(3,45),new ng(23,46)),new np(30,new ng(4,24),new ng(31,25)),new np(30,new ng(11,15),new ng(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new np(30,new ng(7,116),new ng(7,117)),new np(28,new ng(21,45),new ng(7,46)),new np(30,new ng(1,23),new ng(37,24)),new np(30,new ng(19,15),new ng(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new np(30,new ng(5,115),new ng(10,116)),new np(28,new ng(19,47),new ng(10,48)),new np(30,new ng(15,24),new ng(25,25)),new np(30,new ng(23,15),new ng(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new np(30,new ng(13,115),new ng(3,116)),new np(28,new ng(2,46),new ng(29,47)),new np(30,new ng(42,24),new ng(1,25)),new np(30,new ng(23,15),new ng(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new np(30,new ng(17,115)),new np(28,new ng(10,46),new ng(23,47)),new np(30,new ng(10,24),new ng(35,25)),new np(30,new ng(19,15),new ng(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new np(30,new ng(17,115),new ng(1,116)),new np(28,new ng(14,46),new ng(21,47)),new np(30,new ng(29,24),new ng(19,25)),new np(30,new ng(11,15),new ng(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new np(30,new ng(13,115),new ng(6,116)),new np(28,new ng(14,46),new ng(23,47)),new np(30,new ng(44,24),new ng(7,25)),new np(30,new ng(59,16),new ng(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new np(30,new ng(12,121),new ng(7,122)),new np(28,new ng(12,47),new ng(26,48)),new np(30,new ng(39,24),new ng(14,25)),new np(30,new ng(22,15),new ng(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new np(30,new ng(6,121),new ng(14,122)),new np(28,new ng(6,47),new ng(34,48)),new np(30,new ng(46,24),new ng(10,25)),new np(30,new ng(2,15),new ng(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new np(30,new ng(17,122),new ng(4,123)),new np(28,new ng(29,46),new ng(14,47)),new np(30,new ng(49,24),new ng(10,25)),new np(30,new ng(24,15),new ng(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new np(30,new ng(4,122),new ng(18,123)),new np(28,new ng(13,46),new ng(32,47)),new np(30,new ng(48,24),new ng(14,25)),new np(30,new ng(42,15),new ng(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new np(30,new ng(20,117),new ng(4,118)),new np(28,new ng(40,47),new ng(7,48)),new np(30,new ng(43,24),new ng(22,25)),new np(30,new ng(10,15),new ng(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new np(30,new ng(19,118),new ng(6,119)),new np(28,new ng(18,47),new ng(31,48)),new np(30,new ng(34,24),new ng(34,25)),new np(30,new ng(20,15),new ng(61,16)))],t}();(nw=nh||(nh={}))[nw.DATA_MASK_000=0]="DATA_MASK_000",nw[nw.DATA_MASK_001=1]="DATA_MASK_001",nw[nw.DATA_MASK_010=2]="DATA_MASK_010",nw[nw.DATA_MASK_011=3]="DATA_MASK_011",nw[nw.DATA_MASK_100=4]="DATA_MASK_100",nw[nw.DATA_MASK_101=5]="DATA_MASK_101",nw[nw.DATA_MASK_110=6]="DATA_MASK_110",nw[nw.DATA_MASK_111=7]="DATA_MASK_111";var nw,n_,nv=function(){function t(h,d){this.value=h,this.isMasked=d}return t.prototype.unmaskBitMatrix=function(h,d){for(var y=0;y<d;y++)for(var w=0;w<d;w++)this.isMasked(y,w)&&h.flip(w,y)},t.values=new Map([[nh.DATA_MASK_000,new t(nh.DATA_MASK_000,function(h,d){return 0==(h+d&1)})],[nh.DATA_MASK_001,new t(nh.DATA_MASK_001,function(h,d){return 0==(1&h)})],[nh.DATA_MASK_010,new t(nh.DATA_MASK_010,function(h,d){return d%3==0})],[nh.DATA_MASK_011,new t(nh.DATA_MASK_011,function(h,d){return(h+d)%3==0})],[nh.DATA_MASK_100,new t(nh.DATA_MASK_100,function(h,d){return 0==(Math.floor(h/2)+Math.floor(d/3)&1)})],[nh.DATA_MASK_101,new t(nh.DATA_MASK_101,function(h,d){return h*d%6==0})],[nh.DATA_MASK_110,new t(nh.DATA_MASK_110,function(h,d){return h*d%6<3})],[nh.DATA_MASK_111,new t(nh.DATA_MASK_111,function(h,d){return 0==(h+d+h*d%3&1)})]]),t}(),nA=function(){function t(h){var d=h.getHeight();if(d<21||1!=(3&d))throw new ta;this.bitMatrix=h}return t.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var h=0,d=0;d<6;d++)h=this.copyBit(d,8,h);h=this.copyBit(7,8,h),h=this.copyBit(8,8,h),h=this.copyBit(8,7,h);for(var y=5;y>=0;y--)h=this.copyBit(8,y,h);var w=this.bitMatrix.getHeight(),_=0,v=w-7;for(y=w-1;y>=v;y--)_=this.copyBit(8,y,_);for(d=w-8;d<w;d++)_=this.copyBit(d,8,_);if(this.parsedFormatInfo=nd.decodeFormatInformation(h,_),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new ta},t.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var h=this.bitMatrix.getHeight(),d=Math.floor((h-17)/4);if(d<=6)return ny.getVersionForNumber(d);for(var y=0,w=h-11,_=5;_>=0;_--)for(var v=h-9;v>=w;v--)y=this.copyBit(v,_,y);var A=ny.decodeVersionInformation(y);if(null!==A&&A.getDimensionForVersion()===h)return this.parsedVersion=A,A;for(v=5,y=0;v>=0;v--)for(_=h-9;_>=w;_--)y=this.copyBit(v,_,y);if(null!==(A=ny.decodeVersionInformation(y))&&A.getDimensionForVersion()===h)return this.parsedVersion=A,A;throw new ta},t.prototype.copyBit=function(h,d,y){return(this.isMirror?this.bitMatrix.get(d,h):this.bitMatrix.get(h,d))?y<<1|1:y<<1},t.prototype.readCodewords=function(){var h=this.readFormatInformation(),d=this.readVersion(),y=nv.values.get(h.getDataMask()),w=this.bitMatrix.getHeight();y.unmaskBitMatrix(this.bitMatrix,w);for(var _=d.buildFunctionPattern(),v=!0,A=new Uint8Array(d.getTotalCodewords()),C=0,m=0,E=0,I=w-1;I>0;I-=2){6===I&&I--;for(var S=0;S<w;S++)for(var T=v?w-1-S:S,O=0;O<2;O++)_.get(I-O,T)||(E++,m<<=1,this.bitMatrix.get(I-O,T)&&(m|=1),8===E&&(A[C++]=m,E=0,m=0));v=!v}if(C!==d.getTotalCodewords())throw new ta;return A},t.prototype.remask=function(){if(null!==this.parsedFormatInfo){var h=nv.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,d)}},t.prototype.setMirror=function(h){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=h},t.prototype.mirror=function(){for(var h=this.bitMatrix,d=0,y=h.getWidth();d<y;d++)for(var w=d+1,_=h.getHeight();w<_;w++)h.get(d,w)!==h.get(w,d)&&(h.flip(w,d),h.flip(d,w))},t}(),an=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nC=function(){function t(h,d){this.numDataCodewords=h,this.codewords=d}return t.getDataBlocks=function(h,d,y){if(h.length!==d.getTotalCodewords())throw new H;var w,_,v,A,C=d.getECBlocksForLevel(y),m=0,E=C.getECBlocks();try{for(var I=an(E),S=I.next();!S.done;S=I.next())m+=(N=S.value).getCount()}catch(h){w={error:h}}finally{try{S&&!S.done&&(_=I.return)&&_.call(I)}finally{if(w)throw w.error}}var T=Array(m),O=0;try{for(var b=an(E),R=b.next();!R.done;R=b.next())for(var N=R.value,D=0;D<N.getCount();D++){var M=N.getDataCodewords(),P=C.getECCodewordsPerBlock()+M;T[O++]=new t(M,new Uint8Array(P))}}catch(h){v={error:h}}finally{try{R&&!R.done&&(A=b.return)&&A.call(b)}finally{if(v)throw v.error}}for(var B=T[0].codewords.length,L=T.length-1;L>=0&&T[L].codewords.length!==B;)L--;L++;var x=B-C.getECCodewordsPerBlock(),k=0;for(D=0;D<x;D++)for(var V=0;V<O;V++)T[V].codewords[D]=h[k++];for(V=L;V<O;V++)T[V].codewords[x]=h[k++];var U=T[0].codewords.length;for(D=x;D<U;D++)for(V=0;V<O;V++){var X=V<L?D:D+1;T[V].codewords[X]=h[k++]}return T},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();(nm=n_||(n_={}))[nm.TERMINATOR=0]="TERMINATOR",nm[nm.NUMERIC=1]="NUMERIC",nm[nm.ALPHANUMERIC=2]="ALPHANUMERIC",nm[nm.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",nm[nm.BYTE=4]="BYTE",nm[nm.ECI=5]="ECI",nm[nm.KANJI=6]="KANJI",nm[nm.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",nm[nm.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",nm[nm.HANZI=9]="HANZI";var nm,nE,nI,nS,nT,nO,nb,nR,nN,nD,nM=function(){function t(h,d,y,w){this.value=h,this.stringValue=d,this.characterCountBitsForVersions=y,this.bits=w,t.FOR_BITS.set(w,this),t.FOR_VALUE.set(h,this)}return t.forBits=function(h){var d=t.FOR_BITS.get(h);if(void 0===d)throw new H;return d},t.prototype.getCharacterCountBits=function(h){var d=h.getVersionNumber();return this.characterCountBitsForVersions[d<=9?0:d<=26?1:2]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(h){return h instanceof t&&this.value===h.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(n_.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(n_.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(n_.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(n_.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(n_.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(n_.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(n_.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(n_.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(n_.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(n_.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),nP=function(){function t(){}return t.decode=function(h,d,y,w){var _=new ne(h),v=new tA,A=[],C=-1,m=-1;try{var E=null,I=!1,S=void 0;do{if(4>_.available())S=nM.TERMINATOR;else{var T=_.readBits(4);S=nM.forBits(T)}switch(S){case nM.TERMINATOR:break;case nM.FNC1_FIRST_POSITION:case nM.FNC1_SECOND_POSITION:I=!0;break;case nM.STRUCTURED_APPEND:if(16>_.available())throw new ta;C=_.readBits(8),m=_.readBits(8);break;case nM.ECI:var O=t.parseECIValue(_);if(null===(E=tg.getCharacterSetECIByValue(O)))throw new ta;break;case nM.HANZI:var b=_.readBits(4),R=_.readBits(S.getCharacterCountBits(d));b===t.GB2312_SUBSET&&t.decodeHanziSegment(_,v,R);break;default:var N=_.readBits(S.getCharacterCountBits(d));switch(S){case nM.NUMERIC:t.decodeNumericSegment(_,v,N);break;case nM.ALPHANUMERIC:t.decodeAlphanumericSegment(_,v,N,I);break;case nM.BYTE:t.decodeByteSegment(_,v,N,E,A,w);break;case nM.KANJI:t.decodeKanjiSegment(_,v,N);break;default:throw new ta}}}while(S!==nM.TERMINATOR)}catch(h){throw new ta}return new tj(h,v.toString(),0===A.length?null:A,null===y?null:y.toString(),C,m)},t.decodeHanziSegment=function(h,d,y){if(13*y>h.available())throw new ta;for(var w=new Uint8Array(2*y),_=0;y>0;){var v=h.readBits(13),A=v/96<<8&4294967295|v%96;A+=A<959?41377:42657,w[_]=A>>8&255,w[_+1]=255&A,_+=2,y--}try{d.append(t_.decode(w,tv.GB2312))}catch(h){throw new ta(h)}},t.decodeKanjiSegment=function(h,d,y){if(13*y>h.available())throw new ta;for(var w=new Uint8Array(2*y),_=0;y>0;){var v=h.readBits(13),A=v/192<<8&4294967295|v%192;A+=A<7936?33088:49472,w[_]=A>>8,w[_+1]=A,_+=2,y--}try{d.append(t_.decode(w,tv.SHIFT_JIS))}catch(h){throw new ta(h)}},t.decodeByteSegment=function(h,d,y,w,_,v){if(8*y>h.available())throw new ta;for(var A,C=new Uint8Array(y),m=0;m<y;m++)C[m]=h.readBits(8);A=null===w?tv.guessEncoding(C,v):w.getName();try{d.append(t_.decode(C,A))}catch(h){throw new ta(h)}_.push(C)},t.toAlphaNumericChar=function(h){if(h>=t.ALPHANUMERIC_CHARS.length)throw new ta;return t.ALPHANUMERIC_CHARS[h]},t.decodeAlphanumericSegment=function(h,d,y,w){for(var _=d.length();y>1;){if(11>h.available())throw new ta;var v=h.readBits(11);d.append(t.toAlphaNumericChar(Math.floor(v/45))),d.append(t.toAlphaNumericChar(v%45)),y-=2}if(1===y){if(6>h.available())throw new ta;d.append(t.toAlphaNumericChar(h.readBits(6)))}if(w)for(var A=_;A<d.length();A++)"%"===d.charAt(A)&&(A<d.length()-1&&"%"===d.charAt(A+1)?d.deleteCharAt(A+1):d.setCharAt(A,"\x1d"))},t.decodeNumericSegment=function(h,d,y){for(;y>=3;){if(10>h.available())throw new ta;var w=h.readBits(10);if(w>=1e3)throw new ta;d.append(t.toAlphaNumericChar(Math.floor(w/100))),d.append(t.toAlphaNumericChar(Math.floor(w/10)%10)),d.append(t.toAlphaNumericChar(w%10)),y-=3}if(2===y){if(7>h.available())throw new ta;var _=h.readBits(7);if(_>=100)throw new ta;d.append(t.toAlphaNumericChar(Math.floor(_/10))),d.append(t.toAlphaNumericChar(_%10))}else if(1===y){if(4>h.available())throw new ta;var v=h.readBits(4);if(v>=10)throw new ta;d.append(t.toAlphaNumericChar(v))}},t.parseECIValue=function(h){var d=h.readBits(8);if(0==(128&d))return 127&d;if(128==(192&d))return(63&d)<<8&4294967295|h.readBits(8);if(192==(224&d))return(31&d)<<16&4294967295|h.readBits(16);throw new ta},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),nB=function(){function t(h){this.mirrored=h}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(h){if(this.mirrored&&null!==h&&!(h.length<3)){var d=h[0];h[0]=h[2],h[2]=d}},t}(),dn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nL=function(){function t(){this.rsDecoder=new t3(tJ.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(h,d){return this.decodeBitMatrix(tC.parseFromBooleanArray(h),d)},t.prototype.decodeBitMatrix=function(h,d){var y=new nA(h),w=null;try{return this.decodeBitMatrixParser(y,d)}catch(h){w=h}try{y.remask(),y.setMirror(!0),y.readVersion(),y.readFormatInformation(),y.mirror();var _=this.decodeBitMatrixParser(y,d);return _.setOther(new nB(!0)),_}catch(h){if(null!==w)throw w;throw h}},t.prototype.decodeBitMatrixParser=function(h,d){var y,w,_,v,A=h.readVersion(),C=h.readFormatInformation().getErrorCorrectionLevel(),m=h.readCodewords(),E=nC.getDataBlocks(m,A,C),I=0;try{for(var S=dn(E),T=S.next();!T.done;T=S.next())I+=(D=T.value).getNumDataCodewords()}catch(h){y={error:h}}finally{try{T&&!T.done&&(w=S.return)&&w.call(S)}finally{if(y)throw y.error}}var O=new Uint8Array(I),b=0;try{for(var R=dn(E),N=R.next();!N.done;N=R.next()){var D,M=(D=N.value).getCodewords(),P=D.getNumDataCodewords();this.correctErrors(M,P);for(var B=0;B<P;B++)O[b++]=M[B]}}catch(h){_={error:h}}finally{try{N&&!N.done&&(v=R.return)&&v.call(R)}finally{if(_)throw _.error}}return nP.decode(O,A,C,d)},t.prototype.correctErrors=function(h,d){var y=new Int32Array(h);try{this.rsDecoder.decode(y,h.length-d)}catch(h){throw new G}for(var w=0;w<d;w++)h[w]=y[w]},t}(),nx=(nE=function(h,d){return(nE=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nE(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),nF=function(h){function e(d,y,w){var _=h.call(this,d,y)||this;return _.estimatedModuleSize=w,_}return nx(e,h),e.prototype.aboutEquals=function(h,d,y){if(Math.abs(d-this.getY())<=h&&Math.abs(y-this.getX())<=h){var w=Math.abs(h-this.estimatedModuleSize);return w<=1||w<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(h,d,y){return new e((this.getX()+d)/2,(this.getY()+h)/2,(this.estimatedModuleSize+y)/2)},e}(t5),wn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nk=function(){function t(h,d,y,w,_,v,A){this.image=h,this.startX=d,this.startY=y,this.width=w,this.height=_,this.moduleSize=v,this.resultPointCallback=A,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var h=this.startX,d=this.height,y=h+this.width,w=this.startY+d/2,_=new Int32Array(3),v=this.image,A=0;A<d;A++){var C,m=w+(0==(1&A)?Math.floor((A+1)/2):-Math.floor((A+1)/2));_[0]=0,_[1]=0,_[2]=0;for(var E=h;E<y&&!v.get(E,m);)E++;for(var I=0;E<y;){if(v.get(E,m)){if(1===I)_[1]++;else if(2===I){if(this.foundPatternCross(_)&&null!==(C=this.handlePossibleCenter(_,m,E)))return C;_[0]=_[2],_[1]=1,_[2]=0,I=1}else _[++I]++}else 1===I&&I++,_[I]++;E++}if(this.foundPatternCross(_)&&null!==(C=this.handlePossibleCenter(_,m,y)))return C}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new tE},t.centerFromEnd=function(h,d){return d-h[2]-h[1]/2},t.prototype.foundPatternCross=function(h){for(var d=this.moduleSize,y=d/2,w=0;w<3;w++)if(Math.abs(d-h[w])>=y)return!1;return!0},t.prototype.crossCheckVertical=function(h,d,y,w){var _=this.image,v=_.getHeight(),A=this.crossCheckStateCount;A[0]=0,A[1]=0,A[2]=0;for(var C=h;C>=0&&_.get(d,C)&&A[1]<=y;)A[1]++,C--;if(C<0||A[1]>y)return NaN;for(;C>=0&&!_.get(d,C)&&A[0]<=y;)A[0]++,C--;if(A[0]>y)return NaN;for(C=h+1;C<v&&_.get(d,C)&&A[1]<=y;)A[1]++,C++;if(C===v||A[1]>y)return NaN;for(;C<v&&!_.get(d,C)&&A[2]<=y;)A[2]++,C++;return A[2]>y?NaN:5*Math.abs(A[0]+A[1]+A[2]-w)>=2*w?NaN:this.foundPatternCross(A)?t.centerFromEnd(A,C):NaN},t.prototype.handlePossibleCenter=function(h,d,y){var w,_,v=h[0]+h[1]+h[2],A=t.centerFromEnd(h,y),C=this.crossCheckVertical(d,A,2*h[1],v);if(!isNaN(C)){var m=(h[0]+h[1]+h[2])/3;try{for(var E=wn(this.possibleCenters),I=E.next();!I.done;I=E.next()){var S=I.value;if(S.aboutEquals(m,C,A))return S.combineEstimate(C,A,m)}}catch(h){w={error:h}}finally{try{I&&!I.done&&(_=E.return)&&_.call(E)}finally{if(w)throw w.error}}var T=new nF(A,C,m);this.possibleCenters.push(T),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(T)}return null},t}(),nV=(nI=function(h,d){return(nI=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nI(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),nH=function(h){function e(d,y,w,_){var v=h.call(this,d,y)||this;return v.estimatedModuleSize=w,v.count=_,void 0===_&&(v.count=1),v}return nV(e,h),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(h,d,y){if(Math.abs(d-this.getY())<=h&&Math.abs(y-this.getX())<=h){var w=Math.abs(h-this.estimatedModuleSize);return w<=1||w<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(h,d,y){var w=this.count+1;return new e((this.count*this.getX()+d)/w,(this.count*this.getY()+h)/w,(this.count*this.estimatedModuleSize+y)/w,w)},e}(t5),nU=function(){function t(h){this.bottomLeft=h[0],this.topLeft=h[1],this.topRight=h[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),mn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nX=function(){function t(h,d){this.image=h,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(h){var d=null!=h&&void 0!==h.get(to.TRY_HARDER),y=null!=h&&void 0!==h.get(to.PURE_BARCODE),w=this.image,_=w.getHeight(),v=w.getWidth(),A=Math.floor(3*_/(4*t.MAX_MODULES));(A<t.MIN_SKIP||d)&&(A=t.MIN_SKIP);for(var C=!1,m=new Int32Array(5),E=A-1;E<_&&!C;E+=A){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;for(var I=0,S=0;S<v;S++)if(w.get(S,E))1==(1&I)&&I++,m[I]++;else if(0==(1&I)){if(4===I){if(t.foundPatternCross(m)){if(!0!==this.handlePossibleCenter(m,E,S,y)){m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,I=3;continue}if(A=2,!0===this.hasSkipped)C=this.haveMultiplyConfirmedCenters();else{var T=this.findRowSkip();T>m[2]&&(E+=T-m[2]-A,S=v-1)}I=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,I=3}else m[++I]++}else m[I]++;t.foundPatternCross(m)&&!0===this.handlePossibleCenter(m,E,v,y)&&(A=m[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}var O=this.selectBestPatterns();return t5.orderBestPatterns(O),new nU(O)},t.centerFromEnd=function(h,d){return d-h[4]-h[3]-h[2]/2},t.foundPatternCross=function(h){for(var d=0,y=0;y<5;y++){var w=h[y];if(0===w)return!1;d+=w}if(d<7)return!1;var _=d/7,v=_/2;return Math.abs(_-h[0])<v&&Math.abs(_-h[1])<v&&Math.abs(3*_-h[2])<3*v&&Math.abs(_-h[3])<v&&Math.abs(_-h[4])<v},t.prototype.getCrossCheckStateCount=function(){var h=this.crossCheckStateCount;return h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h},t.prototype.crossCheckDiagonal=function(h,d,y,w){for(var _=this.getCrossCheckStateCount(),v=0,A=this.image;h>=v&&d>=v&&A.get(d-v,h-v);)_[2]++,v++;if(h<v||d<v)return!1;for(;h>=v&&d>=v&&!A.get(d-v,h-v)&&_[1]<=y;)_[1]++,v++;if(h<v||d<v||_[1]>y)return!1;for(;h>=v&&d>=v&&A.get(d-v,h-v)&&_[0]<=y;)_[0]++,v++;if(_[0]>y)return!1;var C=A.getHeight(),m=A.getWidth();for(v=1;h+v<C&&d+v<m&&A.get(d+v,h+v);)_[2]++,v++;if(h+v>=C||d+v>=m)return!1;for(;h+v<C&&d+v<m&&!A.get(d+v,h+v)&&_[3]<y;)_[3]++,v++;if(h+v>=C||d+v>=m||_[3]>=y)return!1;for(;h+v<C&&d+v<m&&A.get(d+v,h+v)&&_[4]<y;)_[4]++,v++;return!(_[4]>=y)&&Math.abs(_[0]+_[1]+_[2]+_[3]+_[4]-w)<2*w&&t.foundPatternCross(_)},t.prototype.crossCheckVertical=function(h,d,y,w){for(var _=this.image,v=_.getHeight(),A=this.getCrossCheckStateCount(),C=h;C>=0&&_.get(d,C);)A[2]++,C--;if(C<0)return NaN;for(;C>=0&&!_.get(d,C)&&A[1]<=y;)A[1]++,C--;if(C<0||A[1]>y)return NaN;for(;C>=0&&_.get(d,C)&&A[0]<=y;)A[0]++,C--;if(A[0]>y)return NaN;for(C=h+1;C<v&&_.get(d,C);)A[2]++,C++;if(C===v)return NaN;for(;C<v&&!_.get(d,C)&&A[3]<y;)A[3]++,C++;if(C===v||A[3]>=y)return NaN;for(;C<v&&_.get(d,C)&&A[4]<y;)A[4]++,C++;return A[4]>=y?NaN:5*Math.abs(A[0]+A[1]+A[2]+A[3]+A[4]-w)>=2*w?NaN:t.foundPatternCross(A)?t.centerFromEnd(A,C):NaN},t.prototype.crossCheckHorizontal=function(h,d,y,w){for(var _=this.image,v=_.getWidth(),A=this.getCrossCheckStateCount(),C=h;C>=0&&_.get(C,d);)A[2]++,C--;if(C<0)return NaN;for(;C>=0&&!_.get(C,d)&&A[1]<=y;)A[1]++,C--;if(C<0||A[1]>y)return NaN;for(;C>=0&&_.get(C,d)&&A[0]<=y;)A[0]++,C--;if(A[0]>y)return NaN;for(C=h+1;C<v&&_.get(C,d);)A[2]++,C++;if(C===v)return NaN;for(;C<v&&!_.get(C,d)&&A[3]<y;)A[3]++,C++;if(C===v||A[3]>=y)return NaN;for(;C<v&&_.get(C,d)&&A[4]<y;)A[4]++,C++;return A[4]>=y?NaN:5*Math.abs(A[0]+A[1]+A[2]+A[3]+A[4]-w)>=w?NaN:t.foundPatternCross(A)?t.centerFromEnd(A,C):NaN},t.prototype.handlePossibleCenter=function(h,d,y,w){var _=h[0]+h[1]+h[2]+h[3]+h[4],v=t.centerFromEnd(h,y),A=this.crossCheckVertical(d,Math.floor(v),h[2],_);if(!isNaN(A)&&!isNaN(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(A),h[2],_))&&(!w||this.crossCheckDiagonal(Math.floor(A),Math.floor(v),h[2],_))){for(var C=_/7,m=!1,E=this.possibleCenters,I=0,S=E.length;I<S;I++){var T=E[I];if(T.aboutEquals(C,A,v)){E[I]=T.combineEstimate(A,v,C),m=!0;break}}if(!m){var O=new nH(v,A,C);E.push(O),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1},t.prototype.findRowSkip=function(){if(this.possibleCenters.length<=1)return 0;var h,d,y=null;try{for(var w=mn(this.possibleCenters),_=w.next();!_.done;_=w.next()){var v=_.value;if(v.getCount()>=t.CENTER_QUORUM){if(null!=y)return this.hasSkipped=!0,Math.floor((Math.abs(y.getX()-v.getX())-Math.abs(y.getY()-v.getY()))/2);y=v}}}catch(d){h={error:d}}finally{try{_&&!_.done&&(d=w.return)&&d.call(w)}finally{if(h)throw h.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var h,d,y,w,_=0,v=0,A=this.possibleCenters.length;try{for(var C=mn(this.possibleCenters),m=C.next();!m.done;m=C.next())(O=m.value).getCount()>=t.CENTER_QUORUM&&(_++,v+=O.getEstimatedModuleSize())}catch(d){h={error:d}}finally{try{m&&!m.done&&(d=C.return)&&d.call(C)}finally{if(h)throw h.error}}if(_<3)return!1;var E=v/A,I=0;try{for(var S=mn(this.possibleCenters),T=S.next();!T.done;T=S.next()){var O=T.value;I+=Math.abs(O.getEstimatedModuleSize()-E)}}catch(h){y={error:h}}finally{try{T&&!T.done&&(w=S.return)&&w.call(S)}finally{if(y)throw y.error}}return I<=.05*v},t.prototype.selectBestPatterns=function(){var h,d,y,w,_=this.possibleCenters.length;if(_<3)throw new tE;var v,A=this.possibleCenters;if(_>3){var C=0,m=0;try{for(var E=mn(this.possibleCenters),I=E.next();!I.done;I=E.next()){var S=I.value.getEstimatedModuleSize();C+=S,m+=S*S}}catch(d){h={error:d}}finally{try{I&&!I.done&&(d=E.return)&&d.call(E)}finally{if(h)throw h.error}}v=C/_;var T=Math.sqrt(m/_-v*v);A.sort(function(h,d){var y=Math.abs(d.getEstimatedModuleSize()-v),w=Math.abs(h.getEstimatedModuleSize()-v);return y<w?-1:y>w?1:0});for(var O=Math.max(.2*v,T),b=0;b<A.length&&A.length>3;b++)Math.abs(A[b].getEstimatedModuleSize()-v)>O&&(A.splice(b,1),b--)}if(A.length>3){C=0;try{for(var R=mn(A),N=R.next();!N.done;N=R.next())C+=N.value.getEstimatedModuleSize()}catch(h){y={error:h}}finally{try{N&&!N.done&&(w=R.return)&&w.call(R)}finally{if(y)throw y.error}}v=C/A.length,A.sort(function(h,d){if(d.getCount()===h.getCount()){var y=Math.abs(d.getEstimatedModuleSize()-v),w=Math.abs(h.getEstimatedModuleSize()-v);return y<w?1:y>w?-1:0}return d.getCount()-h.getCount()}),A.splice(3)}return[A[0],A[1],A[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),nG=function(){function t(h){this.image=h}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(h){this.resultPointCallback=null==h?null:h.get(to.NEED_RESULT_POINT_CALLBACK);var d=new nX(this.image,this.resultPointCallback).find(h);return this.processFinderPatternInfo(d)},t.prototype.processFinderPatternInfo=function(h){var d=h.getTopLeft(),y=h.getTopRight(),w=h.getBottomLeft(),_=this.calculateModuleSize(d,y,w);if(_<1)throw new tE("No pattern found in proccess finder.");var v=t.computeDimension(d,y,w,_),A=ny.getProvisionalVersionForDimension(v),C=A.getDimensionForVersion()-7,m=null;if(A.getAlignmentPatternCenters().length>0)for(var E=y.getX()-d.getX()+w.getX(),I=y.getY()-d.getY()+w.getY(),S=1-3/C,T=Math.floor(d.getX()+S*(E-d.getX())),O=Math.floor(d.getY()+S*(I-d.getY())),b=4;b<=16;b<<=1)try{m=this.findAlignmentInRegion(_,T,O,b);break}catch(h){if(!(h instanceof tE))throw h}var R=t.createTransform(d,y,w,m,v),N=t.sampleGrid(this.image,R,v);return new t7(N,null===m?[w,d,y]:[w,d,y,m])},t.createTransform=function(h,d,y,w,_){var v,A,C,m,E=_-3.5;return null!==w?(v=w.getX(),A=w.getY(),m=C=E-3):(v=d.getX()-h.getX()+y.getX(),A=d.getY()-h.getY()+y.getY(),C=E,m=E),en.quadrilateralToQuadrilateral(3.5,3.5,E,3.5,C,m,3.5,E,h.getX(),h.getY(),d.getX(),d.getY(),v,A,y.getX(),y.getY())},t.sampleGrid=function(h,d,y){return ea.getInstance().sampleGridWithTransform(h,y,y,d)},t.computeDimension=function(h,d,y,w){var _=Math.floor((t4.round(t5.distance(h,d)/w)+t4.round(t5.distance(h,y)/w))/2)+7;switch(3&_){case 0:_++;break;case 2:_--;break;case 3:throw new tE("Dimensions could be not found.")}return _},t.prototype.calculateModuleSize=function(h,d,y){return(this.calculateModuleSizeOneWay(h,d)+this.calculateModuleSizeOneWay(h,y))/2},t.prototype.calculateModuleSizeOneWay=function(h,d){var y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(d.getX()),Math.floor(d.getY())),w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(h.getX()),Math.floor(h.getY()));return isNaN(y)?w/7:isNaN(w)?y/7:(y+w)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(h,d,y,w){var _=this.sizeOfBlackWhiteBlackRun(h,d,y,w),v=1,A=h-(y-h);A<0?(v=h/(h-A),A=0):A>=this.image.getWidth()&&(v=(this.image.getWidth()-1-h)/(A-h),A=this.image.getWidth()-1);var C=Math.floor(d-(w-d)*v);return v=1,C<0?(v=d/(d-C),C=0):C>=this.image.getHeight()&&(v=(this.image.getHeight()-1-d)/(C-d),C=this.image.getHeight()-1),A=Math.floor(h+(A-h)*v),(_+=this.sizeOfBlackWhiteBlackRun(h,d,A,C))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(h,d,y,w){var _=Math.abs(w-d)>Math.abs(y-h);if(_){var v=h;h=d,d=v,v=y,y=w,w=v}for(var A=Math.abs(y-h),C=Math.abs(w-d),m=-A/2,E=h<y?1:-1,I=d<w?1:-1,S=0,T=y+E,O=h,b=d;O!==T;O+=E){var R=_?b:O,N=_?O:b;if(1===S===this.image.get(R,N)){if(2===S)return t4.distance(O,b,h,d);S++}if((m+=C)>0){if(b===w)break;b+=I,m-=A}}return 2===S?t4.distance(y+E,w,h,d):NaN},t.prototype.findAlignmentInRegion=function(h,d,y,w){var _=Math.floor(w*h),v=Math.max(0,d-_),A=Math.min(this.image.getWidth()-1,d+_);if(A-v<3*h)throw new tE("Alignment top exceeds estimated module size.");var C=Math.max(0,y-_),m=Math.min(this.image.getHeight()-1,y+_);if(m-C<3*h)throw new tE("Alignment bottom exceeds estimated module size.");return new nk(this.image,v,C,A-v,m-C,h,this.resultPointCallback).find()},t}(),nW=function(){function t(){this.decoder=new nL}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(h,d){if(null!=d&&void 0!==d.get(to.PURE_BARCODE)){var y,w,_=t.extractPureBits(h.getBlackMatrix());y=this.decoder.decodeBitMatrix(_,d),w=t.NO_POINTS}else{var v=new nG(h.getBlackMatrix()).detect(d);y=this.decoder.decodeBitMatrix(v.getBits(),d),w=v.getPoints()}y.getOther() instanceof nB&&y.getOther().applyMirroredCorrection(w);var A=new tL(y.getText(),y.getRawBytes(),void 0,w,tk.QR_CODE,void 0),C=y.getByteSegments();null!==C&&A.putMetadata(tz.BYTE_SEGMENTS,C);var m=y.getECLevel();return null!==m&&A.putMetadata(tz.ERROR_CORRECTION_LEVEL,m),y.hasStructuredAppend()&&(A.putMetadata(tz.STRUCTURED_APPEND_SEQUENCE,y.getStructuredAppendSequenceNumber()),A.putMetadata(tz.STRUCTURED_APPEND_PARITY,y.getStructuredAppendParity())),A},t.prototype.reset=function(){},t.extractPureBits=function(h){var d=h.getTopLeftOnBit(),y=h.getBottomRightOnBit();if(null===d||null===y)throw new tE;var w=this.moduleSize(d,h),_=d[1],v=y[1],A=d[0],C=y[0];if(A>=C||_>=v||v-_!=C-A&&(C=A+(v-_))>=h.getWidth())throw new tE;var m=Math.round((C-A+1)/w),E=Math.round((v-_+1)/w);if(m<=0||E<=0||E!==m)throw new tE;var I=Math.floor(w/2);_+=I;var S=(A+=I)+Math.floor((m-1)*w)-C;if(S>0){if(S>I)throw new tE;A-=S}var T=_+Math.floor((E-1)*w)-v;if(T>0){if(T>I)throw new tE;_-=T}for(var O=new tC(m,E),b=0;b<E;b++)for(var R=_+Math.floor(b*w),N=0;N<m;N++)h.get(A+Math.floor(N*w),R)&&O.set(N,b);return O},t.moduleSize=function(h,d){for(var y=d.getHeight(),w=d.getWidth(),_=h[0],v=h[1],A=!0,C=0;_<w&&v<y;){if(A!==d.get(_,v)){if(5==++C)break;A=!A}_++,v++}if(_===w||v===y)throw new tE;return(_-h[0])/7},t.NO_POINTS=[],t}(),Tn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nz=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(h){return t4.sum(h)},t.toIntArray=function(h){if(null==h||!h.length)return t.EMPTY_INT_ARRAY;var d,y,w=new Int32Array(h.length),_=0;try{for(var v=Tn(h),A=v.next();!A.done;A=v.next()){var C=A.value;w[_++]=C}}catch(h){d={error:h}}finally{try{A&&!A.done&&(y=v.return)&&y.call(v)}finally{if(d)throw d.error}}return w},t.getCodeword=function(h){var d=Q.binarySearch(t.SYMBOL_TABLE,262143&h);return d<0?-1:(t.CODEWORD_TABLE[d]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),nj=function(){function t(h,d){this.bits=h,this.points=d}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Rn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nY=function(){function t(){}return t.detectMultiple=function(h,d,y){var w=h.getBlackMatrix(),_=t.detect(y,w);return _.length||((w=w.clone()).rotate180(),_=t.detect(y,w)),new nj(w,_)},t.detect=function(h,d){for(var y,w,_=[],v=0,A=0,C=!1;v<d.getHeight();){var m=t.findVertices(d,v,A);if(null!=m[0]||null!=m[3]){if(C=!0,_.push(m),!h)break;null!=m[2]?(A=Math.trunc(m[2].getX()),v=Math.trunc(m[2].getY())):(A=Math.trunc(m[4].getX()),v=Math.trunc(m[4].getY()))}else{if(!C)break;C=!1,A=0;try{for(var E=(y=void 0,Rn(_)),I=E.next();!I.done;I=E.next()){var S=I.value;null!=S[1]&&(v=Math.trunc(Math.max(v,S[1].getY()))),null!=S[3]&&(v=Math.max(v,Math.trunc(S[3].getY())))}}catch(h){y={error:h}}finally{try{I&&!I.done&&(w=E.return)&&w.call(E)}finally{if(y)throw y.error}}v+=t.ROW_STEP}}return _},t.findVertices=function(h,d,y){var w=h.getHeight(),_=h.getWidth(),v=Array(8);return t.copyToResult(v,t.findRowsWithPattern(h,w,_,d,y,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=v[4]&&(y=Math.trunc(v[4].getX()),d=Math.trunc(v[4].getY())),t.copyToResult(v,t.findRowsWithPattern(h,w,_,d,y,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),v},t.copyToResult=function(h,d,y){for(var w=0;w<y.length;w++)h[y[w]]=d[w]},t.findRowsWithPattern=function(h,d,y,w,_,v){for(var A=[,,,,],C=!1,m=new Int32Array(v.length);w<d;w+=t.ROW_STEP)if(null!=(I=t.findGuardPattern(h,_,w,y,!1,v,m))){for(;w>0;){if(null==(T=t.findGuardPattern(h,_,--w,y,!1,v,m))){w++;break}I=T}A[0]=new t5(I[0],w),A[1]=new t5(I[1],w),C=!0;break}var E=w+1;if(C){for(var I,S=0,T=Int32Array.from([Math.trunc(A[0].getX()),Math.trunc(A[1].getX())]);E<d;E++)if(null!=(I=t.findGuardPattern(h,T[0],E,y,!1,v,m))&&Math.abs(T[0]-I[0])<t.MAX_PATTERN_DRIFT&&Math.abs(T[1]-I[1])<t.MAX_PATTERN_DRIFT)T=I,S=0;else{if(S>t.SKIPPED_ROW_COUNT_MAX)break;S++}E-=S+1,A[2]=new t5(T[0],E),A[3]=new t5(T[1],E)}return E-w<t.BARCODE_MIN_HEIGHT&&Q.fill(A,null),A},t.findGuardPattern=function(h,d,y,w,_,v,A){Q.fillWithin(A,0,A.length,0);for(var C=d,m=0;h.get(C,y)&&C>0&&m++<t.MAX_PIXEL_DRIFT;)C--;for(var E=C,I=0,S=v.length,T=_;E<w;E++)if(h.get(E,y)!==T)A[I]++;else{if(I===S-1){if(t.patternMatchVariance(A,v,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([C,E]);C+=A[0]+A[1],j.arraycopy(A,2,A,0,I-1),A[I-1]=0,A[I]=0,I--}else I++;A[I]=1,T=!T}return I===S-1&&t.patternMatchVariance(A,v,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([C,E-1]):null},t.patternMatchVariance=function(h,d,y){for(var w=h.length,_=0,v=0,A=0;A<w;A++)_+=h[A],v+=d[A];if(_<v)return 1/0;var C=_/v;y*=C;for(var m=0,E=0;E<w;E++){var I=h[E],S=d[E]*C,T=I>S?I-S:S-I;if(T>y)return 1/0;m+=T}return m/_},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),Dn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nZ=function(){function t(h,d){if(0===d.length)throw new H;this.field=h;var y=d.length;if(y>1&&0===d[0]){for(var w=1;w<y&&0===d[w];)w++;w===y?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(y-w),j.arraycopy(d,w,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(h){return this.coefficients[this.coefficients.length-1-h]},t.prototype.evaluateAt=function(h){var d,y;if(0===h)return this.getCoefficient(0);if(1===h){var w=0;try{for(var _=Dn(this.coefficients),v=_.next();!v.done;v=_.next()){var A=v.value;w=this.field.add(w,A)}}catch(h){d={error:h}}finally{try{v&&!v.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}return w}for(var C=this.coefficients[0],m=this.coefficients.length,E=1;E<m;E++)C=this.field.add(this.field.multiply(h,C),this.coefficients[E]);return C},t.prototype.add=function(h){if(!this.field.equals(h.field))throw new H("ModulusPolys do not have same ModulusGF field");if(this.isZero())return h;if(h.isZero())return this;var d=this.coefficients,y=h.coefficients;if(d.length>y.length){var w=d;d=y,y=w}var _=new Int32Array(y.length),v=y.length-d.length;j.arraycopy(y,0,_,0,v);for(var A=v;A<y.length;A++)_[A]=this.field.add(d[A-v],y[A]);return new t(this.field,_)},t.prototype.subtract=function(h){if(!this.field.equals(h.field))throw new H("ModulusPolys do not have same ModulusGF field");return h.isZero()?this:this.add(h.negative())},t.prototype.multiply=function(h){return h instanceof t?this.multiplyOther(h):this.multiplyScalar(h)},t.prototype.multiplyOther=function(h){if(!this.field.equals(h.field))throw new H("ModulusPolys do not have same ModulusGF field");if(this.isZero()||h.isZero())return new t(this.field,new Int32Array([0]));for(var d=this.coefficients,y=d.length,w=h.coefficients,_=w.length,v=new Int32Array(y+_-1),A=0;A<y;A++)for(var C=d[A],m=0;m<_;m++)v[A+m]=this.field.add(v[A+m],this.field.multiply(C,w[m]));return new t(this.field,v)},t.prototype.negative=function(){for(var h=this.coefficients.length,d=new Int32Array(h),y=0;y<h;y++)d[y]=this.field.subtract(0,this.coefficients[y]);return new t(this.field,d)},t.prototype.multiplyScalar=function(h){if(0===h)return new t(this.field,new Int32Array([0]));if(1===h)return this;for(var d=this.coefficients.length,y=new Int32Array(d),w=0;w<d;w++)y[w]=this.field.multiply(this.coefficients[w],h);return new t(this.field,y)},t.prototype.multiplyByMonomial=function(h,d){if(h<0)throw new H;if(0===d)return new t(this.field,new Int32Array([0]));for(var y=this.coefficients.length,w=new Int32Array(y+h),_=0;_<y;_++)w[_]=this.field.multiply(this.coefficients[_],d);return new t(this.field,w)},t.prototype.toString=function(){for(var h=new tA,d=this.getDegree();d>=0;d--){var y=this.getCoefficient(d);0!==y&&(y<0?(h.append(" - "),y=-y):h.length()>0&&h.append(" + "),0!==d&&1===y||h.append(y),0!==d&&(1===d?h.append("x"):(h.append("x^"),h.append(d))))}return h.toString()},t}(),nK=function(){function t(){}return t.prototype.add=function(h,d){return(h+d)%this.modulus},t.prototype.subtract=function(h,d){return(this.modulus+h-d)%this.modulus},t.prototype.exp=function(h){return this.expTable[h]},t.prototype.log=function(h){if(0===h)throw new H;return this.logTable[h]},t.prototype.inverse=function(h){if(0===h)throw new tq;return this.expTable[this.modulus-this.logTable[h]-1]},t.prototype.multiply=function(h,d){return 0===h||0===d?0:this.expTable[(this.logTable[h]+this.logTable[d])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(h){return h===this},t}(),nq=(nS=function(h,d){return(nS=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nS(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),nQ=function(h){function e(d,y){var w=h.call(this)||this;w.modulus=d,w.expTable=new Int32Array(d),w.logTable=new Int32Array(d);for(var _=1,v=0;v<d;v++)w.expTable[v]=_,_=_*y%d;for(v=0;v<d-1;v++)w.logTable[w.expTable[v]]=v;return w.zero=new nZ(w,new Int32Array([0])),w.one=new nZ(w,new Int32Array([1])),w}return nq(e,h),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(h,d){if(h<0)throw new H;if(0===d)return this.zero;var y=new Int32Array(h+1);return y[0]=d,new nZ(this,y)},e.PDF417_GF=new e(nz.NUMBER_OF_CODEWORDS,3),e}(nK),Fn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},nJ=function(){function t(){this.field=nQ.PDF417_GF}return t.prototype.decode=function(h,d,y){for(var w,_,v=new nZ(this.field,h),A=new Int32Array(d),C=!1,m=d;m>0;m--){var E=v.evaluateAt(this.field.exp(m));A[d-m]=E,0!==E&&(C=!0)}if(!C)return 0;var I=this.field.getOne();if(null!=y)try{for(var S=Fn(y),T=S.next();!T.done;T=S.next()){var O=T.value,b=this.field.exp(h.length-1-O),R=new nZ(this.field,new Int32Array([this.field.subtract(0,b),1]));I=I.multiply(R)}}catch(h){w={error:h}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}var N=new nZ(this.field,A),D=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),N,d),M=D[0],P=D[1],B=this.findErrorLocations(M),L=this.findErrorMagnitudes(P,M,B);for(m=0;m<B.length;m++){var x=h.length-1-this.field.log(B[m]);if(x<0)throw G.getChecksumInstance();h[x]=this.field.subtract(h[x],L[m])}return B.length},t.prototype.runEuclideanAlgorithm=function(h,d,y){if(h.getDegree()<d.getDegree()){var w=h;h=d,d=w}for(var _=h,v=d,A=this.field.getZero(),C=this.field.getOne();v.getDegree()>=Math.round(y/2);){var m=_,E=A;if(A=C,(_=v).isZero())throw G.getChecksumInstance();v=m;for(var I=this.field.getZero(),S=_.getCoefficient(_.getDegree()),T=this.field.inverse(S);v.getDegree()>=_.getDegree()&&!v.isZero();){var O=v.getDegree()-_.getDegree(),b=this.field.multiply(v.getCoefficient(v.getDegree()),T);I=I.add(this.field.buildMonomial(O,b)),v=v.subtract(_.multiplyByMonomial(O,b))}C=I.multiply(A).subtract(E).negative()}var R=C.getCoefficient(0);if(0===R)throw G.getChecksumInstance();var N=this.field.inverse(R);return[C.multiply(N),v.multiply(N)]},t.prototype.findErrorLocations=function(h){for(var d=h.getDegree(),y=new Int32Array(d),w=0,_=1;_<this.field.getSize()&&w<d;_++)0===h.evaluateAt(_)&&(y[w]=this.field.inverse(_),w++);if(w!==d)throw G.getChecksumInstance();return y},t.prototype.findErrorMagnitudes=function(h,d,y){for(var w=d.getDegree(),_=new Int32Array(w),v=1;v<=w;v++)_[w-v]=this.field.multiply(v,d.getCoefficient(v));var A=new nZ(this.field,_),C=y.length,m=new Int32Array(C);for(v=0;v<C;v++){var E=this.field.inverse(y[v]),I=this.field.subtract(0,h.evaluateAt(E)),S=this.field.inverse(A.evaluateAt(E));m[v]=this.field.multiply(I,S)}return m},t}(),n$=function(){function t(h,d,y,w,_){h instanceof t?this.constructor_2(h):this.constructor_1(h,d,y,w,_)}return t.prototype.constructor_1=function(h,d,y,w,_){var v=null==d||null==y,A=null==w||null==_;if(v&&A)throw new tE;v?(d=new t5(0,w.getY()),y=new t5(0,_.getY())):A&&(w=new t5(h.getWidth()-1,d.getY()),_=new t5(h.getWidth()-1,y.getY())),this.image=h,this.topLeft=d,this.bottomLeft=y,this.topRight=w,this.bottomRight=_,this.minX=Math.trunc(Math.min(d.getX(),y.getX())),this.maxX=Math.trunc(Math.max(w.getX(),_.getX())),this.minY=Math.trunc(Math.min(d.getY(),w.getY())),this.maxY=Math.trunc(Math.max(y.getY(),_.getY()))},t.prototype.constructor_2=function(h){this.image=h.image,this.topLeft=h.getTopLeft(),this.bottomLeft=h.getBottomLeft(),this.topRight=h.getTopRight(),this.bottomRight=h.getBottomRight(),this.minX=h.getMinX(),this.maxX=h.getMaxX(),this.minY=h.getMinY(),this.maxY=h.getMaxY()},t.merge=function(h,d){return null==h?d:null==d?h:new t(h.image,h.topLeft,h.bottomLeft,d.topRight,d.bottomRight)},t.prototype.addMissingRows=function(h,d,y){var w=this.topLeft,_=this.bottomLeft,v=this.topRight,A=this.bottomRight;if(h>0){var C=y?this.topLeft:this.topRight,m=Math.trunc(C.getY()-h);m<0&&(m=0);var E=new t5(C.getX(),m);y?w=E:v=E}if(d>0){var I=y?this.bottomLeft:this.bottomRight,S=Math.trunc(I.getY()+d);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);var T=new t5(I.getX(),S);y?_=T:A=T}return new t(this.image,w,_,v,A)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),n1=function(){function t(h,d,y,w){this.columnCount=h,this.errorCorrectionLevel=w,this.rowCountUpperPart=d,this.rowCountLowerPart=y,this.rowCount=d+y}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),n2=function(){function t(){this.buffer=""}return t.form=function(h,d){var y=-1;return h.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(h,w,_,v,A,C){if("%%"===h)return"%";if(void 0!==d[++y]){h=v?parseInt(v.substr(1)):void 0;var m,E=A?parseInt(A.substr(1)):void 0;switch(C){case"s":m=d[y];break;case"c":m=d[y][0];break;case"f":m=parseFloat(d[y]).toFixed(h);break;case"p":m=parseFloat(d[y]).toPrecision(h);break;case"e":m=parseFloat(d[y]).toExponential(h);break;case"x":m=parseInt(d[y]).toString(E||16);break;case"d":m=parseFloat(parseInt(d[y],E||10).toPrecision(h)).toFixed(0)}m="object"==typeof m?JSON.stringify(m):(+m).toString(E);for(var I=parseInt(_),S=_&&_[0]+""=="0"?"0":" ";m.length<I;)m=void 0!==w?m+S:S+m;return m}})},t.prototype.format=function(h){for(var d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];this.buffer+=t.form(h,d)},t.prototype.toString=function(){return this.buffer},t}(),Un=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},n0=function(){function t(h){this.boundingBox=new n$(h),this.codewords=Array(h.getMaxY()-h.getMinY()+1)}return t.prototype.getCodewordNearby=function(h){var d=this.getCodeword(h);if(null!=d)return d;for(var y=1;y<t.MAX_NEARBY_DISTANCE;y++){var w=this.imageRowToCodewordIndex(h)-y;if(w>=0&&null!=(d=this.codewords[w])||(w=this.imageRowToCodewordIndex(h)+y)<this.codewords.length&&null!=(d=this.codewords[w]))return d}return null},t.prototype.imageRowToCodewordIndex=function(h){return h-this.boundingBox.getMinY()},t.prototype.setCodeword=function(h,d){this.codewords[this.imageRowToCodewordIndex(h)]=d},t.prototype.getCodeword=function(h){return this.codewords[this.imageRowToCodewordIndex(h)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var h,d,y=new n2,w=0;try{for(var _=Un(this.codewords),v=_.next();!v.done;v=_.next()){var A=v.value;null!=A?y.format("%3d: %3d|%3d%n",w++,A.getRowNumber(),A.getValue()):y.format("%3d:    |   %n",w++)}}catch(d){h={error:d}}finally{try{v&&!v.done&&(d=_.return)&&d.call(_)}finally{if(h)throw h.error}}return y.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Gn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},Wn=function(h,d){var y="function"==typeof Symbol&&h[Symbol.iterator];if(!y)return h;var w,_,v=y.call(h),A=[];try{for(;(void 0===d||d-- >0)&&!(w=v.next()).done;)A.push(w.value)}catch(h){_={error:h}}finally{try{w&&!w.done&&(y=v.return)&&y.call(v)}finally{if(_)throw _.error}}return A},n3=function(){function t(){this.values=new Map}return t.prototype.setValue=function(h){h=Math.trunc(h);var d=this.values.get(h);null==d&&(d=0),d++,this.values.set(h,d)},t.prototype.getValue=function(){var h,d,y=-1,w=[],o=function(h,d){var o=function(){return h},i=function(){return d};i()>y?(y=i(),(w=[]).push(o())):i()===y&&w.push(o())};try{for(var _=Gn(this.values.entries()),v=_.next();!v.done;v=_.next()){var A=Wn(v.value,2);o(A[0],A[1])}}catch(d){h={error:d}}finally{try{v&&!v.done&&(d=_.return)&&d.call(_)}finally{if(h)throw h.error}}return nz.toIntArray(w)},t.prototype.getConfidence=function(h){return this.values.get(h)},t}(),n8=(nT=function(h,d){return(nT=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nT(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Yn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},n4=function(h){function e(d,y){var w=h.call(this,d)||this;return w._isLeft=y,w}return n8(e,h),e.prototype.setRowNumbers=function(){var h,d;try{for(var y=Yn(this.getCodewords()),w=y.next();!w.done;w=y.next()){var _=w.value;null!=_&&_.setRowNumberAsRowIndicatorColumn()}}catch(d){h={error:d}}finally{try{w&&!w.done&&(d=y.return)&&d.call(y)}finally{if(h)throw h.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(h){var d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,h);for(var y=this.getBoundingBox(),w=this._isLeft?y.getTopLeft():y.getTopRight(),_=this._isLeft?y.getBottomLeft():y.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(w.getY())),A=this.imageRowToCodewordIndex(Math.trunc(_.getY())),C=-1,m=1,E=0,I=v;I<A;I++)if(null!=d[I]){var S=d[I],T=S.getRowNumber()-C;if(0===T)E++;else if(1===T)m=Math.max(m,E),E=1,C=S.getRowNumber();else if(T<0||S.getRowNumber()>=h.getRowCount()||T>I)d[I]=null;else{for(var O=void 0,b=(O=m>2?(m-2)*T:T)>=I,R=1;R<=O&&!b;R++)b=null!=d[I-R];b?d[I]=null:(C=S.getRowNumber(),E=1)}}},e.prototype.getRowHeights=function(){var h,d,y=this.getBarcodeMetadata();if(null==y)return null;this.adjustIncompleteIndicatorColumnRowNumbers(y);var w=new Int32Array(y.getRowCount());try{for(var _=Yn(this.getCodewords()),v=_.next();!v.done;v=_.next()){var A=v.value;if(null!=A){var C=A.getRowNumber();if(C>=w.length)continue;w[C]++}}}catch(d){h={error:d}}finally{try{v&&!v.done&&(d=_.return)&&d.call(_)}finally{if(h)throw h.error}}return w},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(h){for(var d=this.getBoundingBox(),y=this._isLeft?d.getTopLeft():d.getTopRight(),w=this._isLeft?d.getBottomLeft():d.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(y.getY())),v=this.imageRowToCodewordIndex(Math.trunc(w.getY())),A=this.getCodewords(),C=-1,m=_;m<v;m++)if(null!=A[m]){var E=A[m];E.setRowNumberAsRowIndicatorColumn();var I=E.getRowNumber()-C;0===I||(1===I?C=E.getRowNumber():E.getRowNumber()>=h.getRowCount()?A[m]=null:C=E.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var h,d,y=this.getCodewords(),w=new n3,_=new n3,v=new n3,A=new n3;try{for(var C=Yn(y),m=C.next();!m.done;m=C.next()){var E=m.value;if(null!=E){E.setRowNumberAsRowIndicatorColumn();var I=E.getValue()%30,S=E.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:_.setValue(3*I+1);break;case 1:A.setValue(I/3),v.setValue(I%3);break;case 2:w.setValue(I+1)}}}}catch(d){h={error:d}}finally{try{m&&!m.done&&(d=C.return)&&d.call(C)}finally{if(h)throw h.error}}if(0===w.getValue().length||0===_.getValue().length||0===v.getValue().length||0===A.getValue().length||w.getValue()[0]<1||_.getValue()[0]+v.getValue()[0]<nz.MIN_ROWS_IN_BARCODE||_.getValue()[0]+v.getValue()[0]>nz.MAX_ROWS_IN_BARCODE)return null;var T=new n1(w.getValue()[0],_.getValue()[0],v.getValue()[0],A.getValue()[0]);return this.removeIncorrectCodewords(y,T),T},e.prototype.removeIncorrectCodewords=function(h,d){for(var y=0;y<h.length;y++){var w=h[y];if(null!=h[y]){var _=w.getValue()%30,v=w.getRowNumber();if(v>d.getRowCount())h[y]=null;else switch(this._isLeft||(v+=2),v%3){case 0:3*_+1!==d.getRowCountUpperPart()&&(h[y]=null);break;case 1:Math.trunc(_/3)===d.getErrorCorrectionLevel()&&_%3===d.getRowCountLowerPart()||(h[y]=null);break;case 2:_+1!==d.getColumnCount()&&(h[y]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+h.prototype.toString.call(this)},e}(n0),Kn=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},n6=function(){function t(h,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=h,this.barcodeColumnCount=h.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var h,d=nz.MAX_CODEWORDS_IN_BARCODE;do h=d,d=this.adjustRowNumbersAndGetCount();while(d>0&&d<h);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(h){null!=h&&h.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var h=this.adjustRowNumbersByRow();if(0===h)return 0;for(var d=1;d<this.barcodeColumnCount+1;d++)for(var y=this.detectionResultColumns[d].getCodewords(),w=0;w<y.length;w++)null!=y[w]&&(y[w].hasValidRowNumber()||this.adjustRowNumbers(d,w,y));return h},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1]){for(var h=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),y=0;y<h.length;y++)if(null!=h[y]&&null!=d[y]&&h[y].getRowNumber()===d[y].getRowNumber())for(var w=1;w<=this.barcodeColumnCount;w++){var _=this.detectionResultColumns[w].getCodewords()[y];null!=_&&(_.setRowNumber(h[y].getRowNumber()),_.hasValidRowNumber()||(this.detectionResultColumns[w].getCodewords()[y]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var h=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),y=0;y<d.length;y++)if(null!=d[y])for(var w=d[y].getRowNumber(),_=0,v=this.barcodeColumnCount+1;v>0&&_<this.ADJUST_ROW_NUMBER_SKIP;v--){var A=this.detectionResultColumns[v].getCodewords()[y];null!=A&&(_=t.adjustRowNumberIfValid(w,_,A),A.hasValidRowNumber()||h++)}return h},t.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var h=0,d=this.detectionResultColumns[0].getCodewords(),y=0;y<d.length;y++)if(null!=d[y])for(var w=d[y].getRowNumber(),_=0,v=1;v<this.barcodeColumnCount+1&&_<this.ADJUST_ROW_NUMBER_SKIP;v++){var A=this.detectionResultColumns[v].getCodewords()[y];null!=A&&(_=t.adjustRowNumberIfValid(w,_,A),A.hasValidRowNumber()||h++)}return h},t.adjustRowNumberIfValid=function(h,d,y){return null==y||y.hasValidRowNumber()||(y.isValidRowNumber(h)?(y.setRowNumber(h),d=0):++d),d},t.prototype.adjustRowNumbers=function(h,d,y){var w,_;if(null!=this.detectionResultColumns[h-1]){var v=y[d],A=this.detectionResultColumns[h-1].getCodewords(),C=A;null!=this.detectionResultColumns[h+1]&&(C=this.detectionResultColumns[h+1].getCodewords());var m=Array(14);m[2]=A[d],m[3]=C[d],d>0&&(m[0]=y[d-1],m[4]=A[d-1],m[5]=C[d-1]),d>1&&(m[8]=y[d-2],m[10]=A[d-2],m[11]=C[d-2]),d<y.length-1&&(m[1]=y[d+1],m[6]=A[d+1],m[7]=C[d+1]),d<y.length-2&&(m[9]=y[d+2],m[12]=A[d+2],m[13]=C[d+2]);try{for(var E=Kn(m),I=E.next();!I.done;I=E.next()){var S=I.value;if(t.adjustRowNumber(v,S))return}}catch(h){w={error:h}}finally{try{I&&!I.done&&(_=E.return)&&_.call(E)}finally{if(w)throw w.error}}}},t.adjustRowNumber=function(h,d){return null!=d&&!(!d.hasValidRowNumber()||d.getBucket()!==h.getBucket())&&(h.setRowNumber(d.getRowNumber()),!0)},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(h){this.boundingBox=h},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(h,d){this.detectionResultColumns[h]=d},t.prototype.getDetectionResultColumn=function(h){return this.detectionResultColumns[h]},t.prototype.toString=function(){var h=this.detectionResultColumns[0];null==h&&(h=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var d=new n2,y=0;y<h.getCodewords().length;y++){d.format("CW %3d:",y);for(var w=0;w<this.barcodeColumnCount+2;w++)if(null!=this.detectionResultColumns[w]){var _=this.detectionResultColumns[w].getCodewords()[y];null!=_?d.format(" %3d|%3d",_.getRowNumber(),_.getValue()):d.format("    |   ")}else d.format("    |   ");d.format("%n")}return d.toString()},t}(),n5=function(){function t(h,d,y,w){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(h),this.endX=Math.trunc(d),this.bucket=Math.trunc(y),this.value=Math.trunc(w)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(h){return h!==t.BARCODE_ROW_UNKNOWN&&this.bucket===h%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(h){this.rowNumber=h},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),n7=function(){function t(){}return t.initialize=function(){for(var h=0;h<nz.SYMBOL_TABLE.length;h++)for(var d=nz.SYMBOL_TABLE[h],y=1&d,w=0;w<nz.BARS_IN_MODULE;w++){for(var _=0;(1&d)===y;)_+=1,d>>=1;y=1&d,t.RATIOS_TABLE[h]||(t.RATIOS_TABLE[h]=Array(nz.BARS_IN_MODULE)),t.RATIOS_TABLE[h][nz.BARS_IN_MODULE-w-1]=Math.fround(_/nz.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(h){var d=t.getDecodedCodewordValue(t.sampleBitCounts(h));return -1!==d?d:t.getClosestDecodedValue(h)},t.sampleBitCounts=function(h){for(var d=t4.sum(h),y=new Int32Array(nz.BARS_IN_MODULE),w=0,_=0,v=0;v<nz.MODULES_IN_CODEWORD;v++){var A=d/(2*nz.MODULES_IN_CODEWORD)+v*d/nz.MODULES_IN_CODEWORD;_+h[w]<=A&&(_+=h[w],w++),y[w]++}return y},t.getDecodedCodewordValue=function(h){var d=t.getBitValue(h);return -1===nz.getCodeword(d)?-1:d},t.getBitValue=function(h){for(var d=0,y=0;y<h.length;y++)for(var w=0;w<h[y];w++)d=d<<1|(y%2==0?1:0);return Math.trunc(d)},t.getClosestDecodedValue=function(h){var d=t4.sum(h),y=Array(nz.BARS_IN_MODULE);if(d>1)for(var w=0;w<y.length;w++)y[w]=Math.fround(h[w]/d);var _=t6.MAX_VALUE,v=-1;this.bSymbolTableReady||t.initialize();for(var A=0;A<t.RATIOS_TABLE.length;A++){for(var C=0,m=t.RATIOS_TABLE[A],E=0;E<nz.BARS_IN_MODULE;E++){var I=Math.fround(m[E]-y[E]);if((C+=Math.fround(I*I))>=_)break}C<_&&(_=C,v=nz.SYMBOL_TABLE[A])}return v},t.bSymbolTableReady=!1,t.RATIOS_TABLE=Array(nz.SYMBOL_TABLE.length).map(function(h){return Array(nz.BARS_IN_MODULE)}),t}(),n9=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(h){this.segmentIndex=h},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(h){this.fileId=h},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(h){this.optionalData=h},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(h){this.lastSegment=h},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(h){this.segmentCount=h},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(h){this.sender=h},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(h){this.addressee=h},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(h){this.fileName=h},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(h){this.fileSize=h},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(h){this.checksum=h},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(h){this.timestamp=h},t}(),ot=function(){function t(){}return t.parseLong=function(h,d){return void 0===d&&(d=void 0),parseInt(h,d)},t}(),oe=(nO=function(h,d){return(nO=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nO(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),or=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return oe(e,h),e.kind="NullPointerException",e}(L),on=function(){function t(){}return t.prototype.writeBytes=function(h){this.writeBytesOffset(h,0,h.length)},t.prototype.writeBytesOffset=function(h,d,y){if(null==h)throw new or;if(d<0||d>h.length||y<0||d+y>h.length||d+y<0)throw new Z;if(0!==y)for(var w=0;w<y;w++)this.write(h[d+w])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),oo=(nb=function(h,d){return(nb=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nb(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),oi=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return oo(e,h),e}(L),oa=(nR=function(h,d){return(nR=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}nR(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),os=function(h){function e(d){void 0===d&&(d=32);var y=h.call(this)||this;if(y.count=0,d<0)throw new H("Negative initial size: "+d);return y.buf=new Uint8Array(d),y}return oa(e,h),e.prototype.ensureCapacity=function(h){h-this.buf.length>0&&this.grow(h)},e.prototype.grow=function(h){var d=this.buf.length<<1;if(d-h<0&&(d=h),d<0){if(h<0)throw new oi;d=J.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,d)},e.prototype.write=function(h){this.ensureCapacity(this.count+1),this.buf[this.count]=h,this.count+=1},e.prototype.writeBytesOffset=function(h,d,y){if(d<0||d>h.length||y<0||d+y-h.length>0)throw new Z;this.ensureCapacity(this.count+y),j.arraycopy(h,d,this.buf,this.count,y),this.count+=y},e.prototype.writeTo=function(h){h.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Q.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(h){return h?"string"==typeof h?this.toString_string(h):this.toString_number(h):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(h){return new String(this.buf).toString()},e.prototype.toString_number=function(h){return new String(this.buf).toString()},e.prototype.close=function(){},e}(on);function uo(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==y.g)return y.g.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw Error("Can't search globals for BigInt!")}function co(h){if(void 0===nD&&(nD=uo()),null===nD)throw Error("BigInt is not supported!");return nD(h)}(oO=nN||(nN={}))[oO.ALPHA=0]="ALPHA",oO[oO.LOWER=1]="LOWER",oO[oO.MIXED=2]="MIXED",oO[oO.PUNCT=3]="PUNCT",oO[oO.ALPHA_SHIFT=4]="ALPHA_SHIFT",oO[oO.PUNCT_SHIFT=5]="PUNCT_SHIFT";var ou=function(){function t(){}return t.decode=function(h,d){var y=new tA(""),w=tg.ISO8859_1;y.enableDecoding(w);for(var _=1,v=h[_++],A=new n9;_<h[0];){switch(v){case t.TEXT_COMPACTION_MODE_LATCH:_=t.textCompaction(h,_,y);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:_=t.byteCompaction(v,h,w,_,y);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[_++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:_=t.numericCompaction(h,_,y);break;case t.ECI_CHARSET:tg.getCharacterSetECIByValue(h[_++]);break;case t.ECI_GENERAL_PURPOSE:_+=2;break;case t.ECI_USER_DEFINED:_++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:_=t.decodeMacroBlock(h,_,A);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ta;default:_--,_=t.textCompaction(h,_,y)}if(!(_<h.length))throw ta.getFormatInstance();v=h[_++]}if(0===y.length())throw ta.getFormatInstance();var C=new tj(null,y.toString(),null,d);return C.setOther(A),C},t.decodeMacroBlock=function(h,d,y){if(d+t.NUMBER_OF_SEQUENCE_CODEWORDS>h[0])throw ta.getFormatInstance();for(var w=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),_=0;_<t.NUMBER_OF_SEQUENCE_CODEWORDS;_++,d++)w[_]=h[d];y.setSegmentIndex(J.parseInt(t.decodeBase900toBase10(w,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var v=new tA;d=t.textCompaction(h,d,v),y.setFileId(v.toString());var A=-1;for(h[d]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(A=d+1);d<h[0];)switch(h[d]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h[++d]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var C=new tA;d=t.textCompaction(h,d+1,C),y.setFileName(C.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var m=new tA;d=t.textCompaction(h,d+1,m),y.setSender(m.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var E=new tA;d=t.textCompaction(h,d+1,E),y.setAddressee(E.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var I=new tA;d=t.numericCompaction(h,d+1,I),y.setSegmentCount(J.parseInt(I.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var S=new tA;d=t.numericCompaction(h,d+1,S),y.setTimestamp(ot.parseLong(S.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var T=new tA;d=t.numericCompaction(h,d+1,T),y.setChecksum(J.parseInt(T.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var O=new tA;d=t.numericCompaction(h,d+1,O),y.setFileSize(ot.parseLong(O.toString()));break;default:throw ta.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:d++,y.setLastSegment(!0);break;default:throw ta.getFormatInstance()}if(-1!==A){var b=d-A;y.isLastSegment()&&b--,y.setOptionalData(Q.copyOfRange(h,A,A+b))}return d},t.textCompaction=function(h,d,y){for(var w=new Int32Array(2*(h[0]-d)),_=new Int32Array(2*(h[0]-d)),v=0,A=!1;d<h[0]&&!A;){var C=h[d++];if(C<t.TEXT_COMPACTION_MODE_LATCH)w[v]=C/30,w[v+1]=C%30,v+=2;else switch(C){case t.TEXT_COMPACTION_MODE_LATCH:w[v++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:d--,A=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w[v]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=h[d++],_[v]=C,v++}}return t.decodeTextCompaction(w,_,v,y),d},t.decodeTextCompaction=function(h,d,y,w){for(var _=nN.ALPHA,v=nN.ALPHA,A=0;A<y;){var C=h[A],m="";switch(_){case nN.ALPHA:if(C<26)m=String.fromCharCode(65+C);else switch(C){case 26:m=" ";break;case t.LL:_=nN.LOWER;break;case t.ML:_=nN.MIXED;break;case t.PS:v=_,_=nN.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(d[A]);break;case t.TEXT_COMPACTION_MODE_LATCH:_=nN.ALPHA}break;case nN.LOWER:if(C<26)m=String.fromCharCode(97+C);else switch(C){case 26:m=" ";break;case t.AS:v=_,_=nN.ALPHA_SHIFT;break;case t.ML:_=nN.MIXED;break;case t.PS:v=_,_=nN.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(d[A]);break;case t.TEXT_COMPACTION_MODE_LATCH:_=nN.ALPHA}break;case nN.MIXED:if(C<t.PL)m=t.MIXED_CHARS[C];else switch(C){case t.PL:_=nN.PUNCT;break;case 26:m=" ";break;case t.LL:_=nN.LOWER;break;case t.AL:_=nN.ALPHA;break;case t.PS:v=_,_=nN.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(d[A]);break;case t.TEXT_COMPACTION_MODE_LATCH:_=nN.ALPHA}break;case nN.PUNCT:if(C<t.PAL)m=t.PUNCT_CHARS[C];else switch(C){case t.PAL:_=nN.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(d[A]);break;case t.TEXT_COMPACTION_MODE_LATCH:_=nN.ALPHA}break;case nN.ALPHA_SHIFT:if(_=v,C<26)m=String.fromCharCode(65+C);else switch(C){case 26:m=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:_=nN.ALPHA}break;case nN.PUNCT_SHIFT:if(_=v,C<t.PAL)m=t.PUNCT_CHARS[C];else switch(C){case t.PAL:_=nN.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(d[A]);break;case t.TEXT_COMPACTION_MODE_LATCH:_=nN.ALPHA}}""!==m&&w.append(m),A++}},t.byteCompaction=function(h,d,y,w,_){var v=new os,A=0,C=0,m=!1;switch(h){case t.BYTE_COMPACTION_MODE_LATCH:for(var E=new Int32Array(6),I=d[w++];w<d[0]&&!m;)switch(E[A++]=I,C=900*C+I,I=d[w++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:w--,m=!0;break;default:if(A%5==0&&A>0){for(var S=0;S<6;++S)v.write(Number(co(C)>>co(8*(5-S))));C=0,A=0}}w===d[0]&&I<t.TEXT_COMPACTION_MODE_LATCH&&(E[A++]=I);for(var T=0;T<A;T++)v.write(E[T]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;w<d[0]&&!m;){var O=d[w++];if(O<t.TEXT_COMPACTION_MODE_LATCH)A++,C=900*C+O;else switch(O){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:w--,m=!0}if(A%5==0&&A>0){for(S=0;S<6;++S)v.write(Number(co(C)>>co(8*(5-S))));C=0,A=0}}}return _.append(t_.decode(v.toByteArray(),y)),w},t.numericCompaction=function(h,d,y){for(var w=0,_=!1,v=new Int32Array(t.MAX_NUMERIC_CODEWORDS);d<h[0]&&!_;){var A=h[d++];if(d===h[0]&&(_=!0),A<t.TEXT_COMPACTION_MODE_LATCH)v[w]=A,w++;else switch(A){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:d--,_=!0}(w%t.MAX_NUMERIC_CODEWORDS==0||A===t.NUMERIC_COMPACTION_MODE_LATCH||_)&&w>0&&(y.append(t.decodeBase900toBase10(v,w)),w=0)}return d},t.decodeBase900toBase10=function(h,d){for(var y=co(0),w=0;w<d;w++)y+=t.EXP900[d-w-1]*co(h[w]);var _=y.toString();if("1"!==_.charAt(0))throw new ta;return _.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=";<>@[\\]_`~!\r	,:\n-.$/\"|*()?{}'",t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=uo()?function(){var h=[];h[0]=co(1);var d=co(900);h[1]=d;for(var y=2;y<16;y++)h[y]=h[y-1]*d;return h}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),ho=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},oc=function(){function t(){}return t.decode=function(h,d,y,w,_,v,A){for(var C,m=new n$(h,d,y,w,_),E=null,I=null,S=!0;;S=!1){if(null!=d&&(E=t.getRowIndicatorColumn(h,m,d,!0,v,A)),null!=w&&(I=t.getRowIndicatorColumn(h,m,w,!1,v,A)),null==(C=t.merge(E,I)))throw tE.getNotFoundInstance();var T=C.getBoundingBox();if(!S||null==T||!(T.getMinY()<m.getMinY()||T.getMaxY()>m.getMaxY()))break;m=T}C.setBoundingBox(m);var O=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,E),C.setDetectionResultColumn(O,I);for(var b=null!=E,R=1;R<=O;R++){var N=b?R:O-R;if(void 0===C.getDetectionResultColumn(N)){var D=void 0;D=0===N||N===O?new n4(m,0===N):new n0(m),C.setDetectionResultColumn(N,D);for(var M=-1,P=M,B=m.getMinY();B<=m.getMaxY();B++){if((M=t.getStartColumn(C,N,B,b))<0||M>m.getMaxX()){if(-1===P)continue;M=P}var L=t.detectCodeword(h,m.getMinX(),m.getMaxX(),b,M,B,v,A);null!=L&&(D.setCodeword(B,L),P=M,v=Math.min(v,L.getWidth()),A=Math.max(A,L.getWidth()))}}}return t.createDecoderResult(C)},t.merge=function(h,d){if(null==h&&null==d)return null;var y=t.getBarcodeMetadata(h,d);if(null==y)return null;var w=n$.merge(t.adjustBoundingBox(h),t.adjustBoundingBox(d));return new n6(y,w)},t.adjustBoundingBox=function(h){if(null==h)return null;var d,y,w=h.getRowHeights();if(null==w)return null;var _=t.getMax(w),v=0;try{for(var A=ho(w),C=A.next();!C.done;C=A.next()){var m=C.value;if(v+=_-m,m>0)break}}catch(h){d={error:h}}finally{try{C&&!C.done&&(y=A.return)&&y.call(A)}finally{if(d)throw d.error}}for(var E=h.getCodewords(),I=0;v>0&&null==E[I];I++)v--;var S=0;for(I=w.length-1;I>=0&&(S+=_-w[I],!(w[I]>0));I--);for(I=E.length-1;S>0&&null==E[I];I--)S--;return h.getBoundingBox().addMissingRows(v,S,h.isLeft())},t.getMax=function(h){var d,y,w=-1;try{for(var _=ho(h),v=_.next();!v.done;v=_.next()){var A=v.value;w=Math.max(w,A)}}catch(h){d={error:h}}finally{try{v&&!v.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}return w},t.getBarcodeMetadata=function(h,d){var y,w;return null==h||null==(y=h.getBarcodeMetadata())?null==d?null:d.getBarcodeMetadata():null==d||null==(w=d.getBarcodeMetadata())?y:y.getColumnCount()!==w.getColumnCount()&&y.getErrorCorrectionLevel()!==w.getErrorCorrectionLevel()&&y.getRowCount()!==w.getRowCount()?null:y},t.getRowIndicatorColumn=function(h,d,y,w,_,v){for(var A=new n4(d,w),C=0;C<2;C++)for(var m=0===C?1:-1,E=Math.trunc(Math.trunc(y.getX())),I=Math.trunc(Math.trunc(y.getY()));I<=d.getMaxY()&&I>=d.getMinY();I+=m){var S=t.detectCodeword(h,0,h.getWidth(),w,E,I,_,v);null!=S&&(A.setCodeword(I,S),E=w?S.getStartX():S.getEndX())}return A},t.adjustCodewordCount=function(h,d){var y=d[0][1],w=y.getValue(),_=h.getBarcodeColumnCount()*h.getBarcodeRowCount()-t.getNumberOfECCodeWords(h.getBarcodeECLevel());if(0===w.length){if(_<1||_>nz.MAX_CODEWORDS_IN_BARCODE)throw tE.getNotFoundInstance();y.setValue(_)}else w[0]!==_&&y.setValue(_)},t.createDecoderResult=function(h){var d=t.createBarcodeMatrix(h);t.adjustCodewordCount(h,d);for(var y=[],w=new Int32Array(h.getBarcodeRowCount()*h.getBarcodeColumnCount()),_=[],v=[],A=0;A<h.getBarcodeRowCount();A++)for(var C=0;C<h.getBarcodeColumnCount();C++){var m=d[A][C+1].getValue(),E=A*h.getBarcodeColumnCount()+C;0===m.length?y.push(E):1===m.length?w[E]=m[0]:(v.push(E),_.push(m))}for(var I=Array(_.length),S=0;S<I.length;S++)I[S]=_[S];return t.createDecoderResultFromAmbiguousValues(h.getBarcodeECLevel(),w,nz.toIntArray(y),nz.toIntArray(v),I)},t.createDecoderResultFromAmbiguousValues=function(h,d,y,w,_){for(var v=new Int32Array(w.length),A=100;A-- >0;){for(var C=0;C<v.length;C++)d[w[C]]=_[C][v[C]];try{return t.decodeCodewords(d,h,y)}catch(h){if(!(h instanceof G))throw h}if(0===v.length)break;for(C=0;C<v.length;C++){if(v[C]<_[C].length-1){v[C]++;break}if(v[C]=0,C===v.length-1)throw G.getChecksumInstance()}}throw G.getChecksumInstance()},t.createBarcodeMatrix=function(h){for(var d,y,w,_,v=Array.from({length:h.getBarcodeRowCount()},function(){return Array(h.getBarcodeColumnCount()+2)}),A=0;A<v.length;A++)for(var C=0;C<v[A].length;C++)v[A][C]=new n3;var m=0;try{for(var E=ho(h.getDetectionResultColumns()),I=E.next();!I.done;I=E.next()){var S=I.value;if(null!=S)try{for(var T=(w=void 0,ho(S.getCodewords())),O=T.next();!O.done;O=T.next()){var b=O.value;if(null!=b){var R=b.getRowNumber();if(R>=0){if(R>=v.length)continue;v[R][m].setValue(b.getValue())}}}}catch(h){w={error:h}}finally{try{O&&!O.done&&(_=T.return)&&_.call(T)}finally{if(w)throw w.error}}m++}}catch(h){d={error:h}}finally{try{I&&!I.done&&(y=E.return)&&y.call(E)}finally{if(d)throw d.error}}return v},t.isValidBarcodeColumn=function(h,d){return d>=0&&d<=h.getBarcodeColumnCount()+1},t.getStartColumn=function(h,d,y,w){var _,v,A=w?1:-1,C=null;if(t.isValidBarcodeColumn(h,d-A)&&(C=h.getDetectionResultColumn(d-A).getCodeword(y)),null!=C)return w?C.getEndX():C.getStartX();if(null!=(C=h.getDetectionResultColumn(d).getCodewordNearby(y)))return w?C.getStartX():C.getEndX();if(t.isValidBarcodeColumn(h,d-A)&&(C=h.getDetectionResultColumn(d-A).getCodewordNearby(y)),null!=C)return w?C.getEndX():C.getStartX();for(var m=0;t.isValidBarcodeColumn(h,d-A);){d-=A;try{for(var E=(_=void 0,ho(h.getDetectionResultColumn(d).getCodewords())),I=E.next();!I.done;I=E.next()){var S=I.value;if(null!=S)return(w?S.getEndX():S.getStartX())+A*m*(S.getEndX()-S.getStartX())}}catch(h){_={error:h}}finally{try{I&&!I.done&&(v=E.return)&&v.call(E)}finally{if(_)throw _.error}}m++}return w?h.getBoundingBox().getMinX():h.getBoundingBox().getMaxX()},t.detectCodeword=function(h,d,y,w,_,v,A,C){_=t.adjustCodewordStartColumn(h,d,y,w,_,v);var m,E=t.getModuleBitCount(h,d,y,w,_,v);if(null==E)return null;var I=t4.sum(E);if(w)m=_+I;else{for(var S=0;S<E.length/2;S++){var T=E[S];E[S]=E[E.length-1-S],E[E.length-1-S]=T}_=(m=_)-I}if(!t.checkCodewordSkew(I,A,C))return null;var O=n7.getDecodedValue(E),b=nz.getCodeword(O);return -1===b?null:new n5(_,m,t.getCodewordBucketNumber(O),b)},t.getModuleBitCount=function(h,d,y,w,_,v){for(var A=_,C=new Int32Array(8),m=0,E=w?1:-1,I=w;(w?A<y:A>=d)&&m<C.length;)h.get(A,v)===I?(C[m]++,A+=E):(m++,I=!I);return m===C.length||A===(w?y:d)&&m===C.length-1?C:null},t.getNumberOfECCodeWords=function(h){return 2<<h},t.adjustCodewordStartColumn=function(h,d,y,w,_,v){for(var A=_,C=w?-1:1,m=0;m<2;m++){for(;(w?A>=d:A<y)&&w===h.get(A,v);){if(Math.abs(_-A)>t.CODEWORD_SKEW_SIZE)return _;A+=C}C=-C,w=!w}return A},t.checkCodewordSkew=function(h,d,y){return d-t.CODEWORD_SKEW_SIZE<=h&&h<=y+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(h,d,y){if(0===h.length)throw ta.getFormatInstance();var w=1<<d+1,_=t.correctErrors(h,y,w);t.verifyCodewordCount(h,w);var v=ou.decode(h,""+d);return v.setErrorsCorrected(_),v.setErasures(y.length),v},t.correctErrors=function(h,d,y){if(null!=d&&d.length>y/2+t.MAX_ERRORS||y<0||y>t.MAX_EC_CODEWORDS)throw G.getChecksumInstance();return t.errorCorrection.decode(h,y,d)},t.verifyCodewordCount=function(h,d){if(h.length<4)throw ta.getFormatInstance();var y=h[0];if(y>h.length)throw ta.getFormatInstance();if(0===y){if(!(d<h.length))throw ta.getFormatInstance();h[0]=h.length-d}},t.getBitCountForCodeword=function(h){for(var d=new Int32Array(8),y=0,w=d.length-1;!((1&h)!==y&&(y=1&h,--w<0));)d[w]++,h>>=1;return d},t.getCodewordBucketNumber=function(h){return h instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(h):this.getCodewordBucketNumber_number(h)},t.getCodewordBucketNumber_number=function(h){return t.getCodewordBucketNumber(t.getBitCountForCodeword(h))},t.getCodewordBucketNumber_Int32Array=function(h){return(h[0]-h[2]+h[4]-h[6]+9)%9},t.toString=function(h){for(var d=new n2,y=0;y<h.length;y++){d.format("Row %2d: ",y);for(var w=0;w<h[y].length;w++){var _=h[y][w];0===_.getValue().length?d.format("        ",null):d.format("%4d(%2d)",_.getValue()[0],_.getConfidence(_.getValue()[0]))}d.format("%n")}return d.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new nJ,t}(),po=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},of=function(){function t(){}return t.prototype.decode=function(h,d){void 0===d&&(d=null);var y=t.decode(h,d,!1);if(null==y||0===y.length||null==y[0])throw tE.getNotFoundInstance();return y[0]},t.prototype.decodeMultiple=function(h,d){void 0===d&&(d=null);try{return t.decode(h,d,!0)}catch(h){if(h instanceof ta||h instanceof G)throw tE.getNotFoundInstance();throw h}},t.decode=function(h,d,y){var w,_,v=[],A=nY.detectMultiple(h,d,y);try{for(var C=po(A.getPoints()),m=C.next();!m.done;m=C.next()){var E=m.value,I=oc.decode(A.getBits(),E[4],E[5],E[6],E[7],t.getMinCodewordWidth(E),t.getMaxCodewordWidth(E)),S=new tL(I.getText(),I.getRawBytes(),void 0,E,tk.PDF_417);S.putMetadata(tz.ERROR_CORRECTION_LEVEL,I.getECLevel());var T=I.getOther();null!=T&&S.putMetadata(tz.PDF417_EXTRA_METADATA,T),v.push(S)}}catch(h){w={error:h}}finally{try{m&&!m.done&&(_=C.return)&&_.call(C)}finally{if(w)throw w.error}}return v.map(function(h){return h})},t.getMaxWidth=function(h,d){return null==h||null==d?0:Math.trunc(Math.abs(h.getX()-d.getX()))},t.getMinWidth=function(h,d){return null==h||null==d?J.MAX_VALUE:Math.trunc(Math.abs(h.getX()-d.getX()))},t.getMaxCodewordWidth=function(h){return Math.floor(Math.max(Math.max(t.getMaxWidth(h[0],h[4]),t.getMaxWidth(h[6],h[2])*nz.MODULES_IN_CODEWORD/nz.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(h[1],h[5]),t.getMaxWidth(h[7],h[3])*nz.MODULES_IN_CODEWORD/nz.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(h){return Math.floor(Math.min(Math.min(t.getMinWidth(h[0],h[4]),t.getMinWidth(h[6],h[2])*nz.MODULES_IN_CODEWORD/nz.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(h[1],h[5]),t.getMinWidth(h[7],h[3])*nz.MODULES_IN_CODEWORD/nz.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),oh=(ob=function(h,d){return(ob=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}ob(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ol=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return oh(e,h),e.kind="ReaderException",e}(L),vo=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},od=function(){function t(){}return t.prototype.decode=function(h,d){return this.setHints(d),this.decodeInternal(h)},t.prototype.decodeWithState=function(h){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(h)},t.prototype.setHints=function(h){this.hints=h;var d=null!=h&&void 0!==h.get(to.TRY_HARDER),y=null==h?null:h.get(to.POSSIBLE_FORMATS),w=[];if(null!=y){var _=y.some(function(h){return h===tk.UPC_A||h===tk.UPC_E||h===tk.EAN_13||h===tk.EAN_8||h===tk.CODABAR||h===tk.CODE_39||h===tk.CODE_93||h===tk.CODE_128||h===tk.ITF||h===tk.RSS_14||h===tk.RSS_EXPANDED});_&&!d&&w.push(new rC(h)),y.includes(tk.QR_CODE)&&w.push(new nW),y.includes(tk.DATA_MATRIX)&&w.push(new nu),y.includes(tk.AZTEC)&&w.push(new ec),y.includes(tk.PDF_417)&&w.push(new of),_&&d&&w.push(new rC(h))}0===w.length&&(d||w.push(new rC(h)),w.push(new nW),w.push(new nu),w.push(new ec),w.push(new of),d&&w.push(new rC(h))),this.readers=w},t.prototype.reset=function(){var h,d;if(null!==this.readers)try{for(var y=vo(this.readers),w=y.next();!w.done;w=y.next())w.value.reset()}catch(d){h={error:d}}finally{try{w&&!w.done&&(d=y.return)&&d.call(y)}finally{if(h)throw h.error}}},t.prototype.decodeInternal=function(h){var d,y;if(null===this.readers)throw new ol("No readers where selected, nothing can be read.");try{for(var w=vo(this.readers),_=w.next();!_.done;_=w.next()){var v=_.value;try{return v.decode(h,this.hints)}catch(h){if(h instanceof ol)continue}}}catch(h){d={error:h}}finally{try{_&&!_.done&&(y=w.return)&&y.call(w)}finally{if(d)throw d.error}}throw new tE("No MultiFormat Readers were able to detect the code.")},t}(),op=(oR=function(h,d){return(oR=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oR(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),og=function(h){function e(d,y){void 0===d&&(d=null),void 0===y&&(y=500);var w=new od;return w.setHints(d),h.call(this,w,y)||this}return op(e,h),e.prototype.decodeBitmap=function(h){return this.reader.decodeWithState(h)},e}(tB);(oN=function(h,d){return(oN=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oN(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)})(function(h){return void 0===h&&(h=500),oD.call(this,new of,h)||this},oD=tB),(oM=function(h,d){return(oM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oM(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)})(function(h){return void 0===h&&(h=500),oB.call(this,new nW,h)||this},oB=tB),(oL=oP||(oP={}))[oL.ERROR_CORRECTION=0]="ERROR_CORRECTION",oL[oL.CHARACTER_SET=1]="CHARACTER_SET",oL[oL.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",oL[oL.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",oL[oL.MIN_SIZE=4]="MIN_SIZE",oL[oL.MAX_SIZE=5]="MAX_SIZE",oL[oL.MARGIN=6]="MARGIN",oL[oL.PDF417_COMPACT=7]="PDF417_COMPACT",oL[oL.PDF417_COMPACTION=8]="PDF417_COMPACTION",oL[oL.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",oL[oL.AZTEC_LAYERS=10]="AZTEC_LAYERS",oL[oL.QR_VERSION=11]="QR_VERSION",oL[oL.GS1_FORMAT=12]="GS1_FORMAT",oL[oL.FORCE_C40=13]="FORCE_C40";var oy=oP,ow=function(){function t(h){this.field=h,this.cachedGenerators=[],this.cachedGenerators.push(new tZ(h,Int32Array.from([1])))}return t.prototype.buildGenerator=function(h){var d=this.cachedGenerators;if(h>=d.length)for(var y=d[d.length-1],w=this.field,_=d.length;_<=h;_++){var v=y.multiply(new tZ(w,Int32Array.from([1,w.exp(_-1+w.getGeneratorBase())])));d.push(v),y=v}return d[h]},t.prototype.encode=function(h,d){if(0===d)throw new H("No error correction bytes");var y=h.length-d;if(y<=0)throw new H("No data bytes provided");var w=this.buildGenerator(d),_=new Int32Array(y);j.arraycopy(h,0,_,0,y);for(var v=new tZ(this.field,_),A=(v=v.multiplyByMonomial(d,1)).divide(w)[1].getCoefficients(),C=d-A.length,m=0;m<C;m++)h[y+m]=0;j.arraycopy(A,0,h,y+C,A.length)},t}(),o_=function(){function t(){}return t.applyMaskPenaltyRule1=function(h){return t.applyMaskPenaltyRule1Internal(h,!0)+t.applyMaskPenaltyRule1Internal(h,!1)},t.applyMaskPenaltyRule2=function(h){for(var d=0,y=h.getArray(),w=h.getWidth(),_=h.getHeight(),v=0;v<_-1;v++)for(var A=y[v],C=0;C<w-1;C++){var m=A[C];m===A[C+1]&&m===y[v+1][C]&&m===y[v+1][C+1]&&d++}return t.N2*d},t.applyMaskPenaltyRule3=function(h){for(var d=0,y=h.getArray(),w=h.getWidth(),_=h.getHeight(),v=0;v<_;v++)for(var A=0;A<w;A++){var C=y[v];A+6<w&&1===C[A]&&0===C[A+1]&&1===C[A+2]&&1===C[A+3]&&1===C[A+4]&&0===C[A+5]&&1===C[A+6]&&(t.isWhiteHorizontal(C,A-4,A)||t.isWhiteHorizontal(C,A+7,A+11))&&d++,v+6<_&&1===y[v][A]&&0===y[v+1][A]&&1===y[v+2][A]&&1===y[v+3][A]&&1===y[v+4][A]&&0===y[v+5][A]&&1===y[v+6][A]&&(t.isWhiteVertical(y,A,v-4,v)||t.isWhiteVertical(y,A,v+7,v+11))&&d++}return d*t.N3},t.isWhiteHorizontal=function(h,d,y){d=Math.max(d,0),y=Math.min(y,h.length);for(var w=d;w<y;w++)if(1===h[w])return!1;return!0},t.isWhiteVertical=function(h,d,y,w){y=Math.max(y,0),w=Math.min(w,h.length);for(var _=y;_<w;_++)if(1===h[_][d])return!1;return!0},t.applyMaskPenaltyRule4=function(h){for(var d=0,y=h.getArray(),w=h.getWidth(),_=h.getHeight(),v=0;v<_;v++)for(var A=y[v],C=0;C<w;C++)1===A[C]&&d++;var m=h.getHeight()*h.getWidth();return Math.floor(10*Math.abs(2*d-m)/m)*t.N4},t.getDataMaskBit=function(h,d,y){var w,_;switch(h){case 0:w=y+d&1;break;case 1:w=1&y;break;case 2:w=d%3;break;case 3:w=(y+d)%3;break;case 4:w=Math.floor(y/2)+Math.floor(d/3)&1;break;case 5:w=(1&(_=y*d))+_%3;break;case 6:w=(1&(_=y*d))+_%3&1;break;case 7:w=(_=y*d)%3+(y+d&1)&1;break;default:throw new H("Invalid mask pattern: "+h)}return 0===w},t.applyMaskPenaltyRule1Internal=function(h,d){for(var y=0,w=d?h.getHeight():h.getWidth(),_=d?h.getWidth():h.getHeight(),v=h.getArray(),A=0;A<w;A++){for(var C=0,m=-1,E=0;E<_;E++){var I=d?v[A][E]:v[E][A];I===m?C++:(C>=5&&(y+=t.N1+(C-5)),C=1,m=I)}C>=5&&(y+=t.N1+(C-5))}return y},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),bo=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},ov=function(){function t(h,d){this.width=h,this.height=d;for(var y=Array(d),w=0;w!==d;w++)y[w]=new Uint8Array(h);this.bytes=y}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(h,d){return this.bytes[d][h]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(h,d,y){this.bytes[d][h]=y},t.prototype.setBoolean=function(h,d,y){this.bytes[d][h]=y?1:0},t.prototype.clear=function(h){var d,y;try{for(var w=bo(this.bytes),_=w.next();!_.done;_=w.next()){var v=_.value;Q.fill(v,h)}}catch(h){d={error:h}}finally{try{_&&!_.done&&(y=w.return)&&y.call(w)}finally{if(d)throw d.error}}},t.prototype.equals=function(h){if(!(h instanceof t)||this.width!==h.width||this.height!==h.height)return!1;for(var d=0,y=this.height;d<y;++d)for(var w=this.bytes[d],_=h.bytes[d],v=0,A=this.width;v<A;++v)if(w[v]!==_[v])return!1;return!0},t.prototype.toString=function(){for(var h=new tA,d=0,y=this.height;d<y;++d){for(var w=this.bytes[d],_=0,v=this.width;_<v;++_)switch(w[_]){case 0:h.append(" 0");break;case 1:h.append(" 1");break;default:h.append("  ")}h.append("\n")}return h.toString()},t}(),oA=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var h=new tA;return h.append("<<\n"),h.append(" mode: "),h.append(this.mode?this.mode.toString():"null"),h.append("\n ecLevel: "),h.append(this.ecLevel?this.ecLevel.toString():"null"),h.append("\n version: "),h.append(this.version?this.version.toString():"null"),h.append("\n maskPattern: "),h.append(this.maskPattern.toString()),this.matrix?(h.append("\n matrix:\n"),h.append(this.matrix.toString())):h.append("\n matrix: null\n"),h.append(">>\n"),h.toString()},t.prototype.setMode=function(h){this.mode=h},t.prototype.setECLevel=function(h){this.ecLevel=h},t.prototype.setVersion=function(h){this.version=h},t.prototype.setMaskPattern=function(h){this.maskPattern=h},t.prototype.setMatrix=function(h){this.matrix=h},t.isValidMaskPattern=function(h){return h>=0&&h<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),oC=(ox=function(h,d){return(ox=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}ox(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),om=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return oC(e,h),e.kind="WriterException",e}(L),oE=function(){function t(){}return t.clearMatrix=function(h){h.clear(255)},t.buildMatrix=function(h,d,y,w,_){t.clearMatrix(_),t.embedBasicPatterns(y,_),t.embedTypeInfo(d,w,_),t.maybeEmbedVersionInfo(y,_),t.embedDataBits(h,w,_)},t.embedBasicPatterns=function(h,d){t.embedPositionDetectionPatternsAndSeparators(d),t.embedDarkDotAtLeftBottomCorner(d),t.maybeEmbedPositionAdjustmentPatterns(h,d),t.embedTimingPatterns(d)},t.embedTypeInfo=function(h,d,y){var w=new $;t.makeTypeInfoBits(h,d,w);for(var _=0,v=w.getSize();_<v;++_){var A=w.get(w.getSize()-1-_),C=t.TYPE_INFO_COORDINATES[_],m=C[0],E=C[1];if(y.setBoolean(m,E,A),_<8){var I=y.getWidth()-_-1,S=8;y.setBoolean(I,S,A)}else I=8,S=y.getHeight()-7+(_-8),y.setBoolean(I,S,A)}},t.maybeEmbedVersionInfo=function(h,d){if(!(7>h.getVersionNumber())){var y=new $;t.makeVersionInfoBits(h,y);for(var w=17,_=0;_<6;++_)for(var v=0;v<3;++v){var A=y.get(w);w--,d.setBoolean(_,d.getHeight()-11+v,A),d.setBoolean(d.getHeight()-11+v,_,A)}}},t.embedDataBits=function(h,d,y){for(var w=0,_=-1,v=y.getWidth()-1,A=y.getHeight()-1;v>0;){for(6===v&&(v-=1);A>=0&&A<y.getHeight();){for(var C=0;C<2;++C){var m=v-C;if(t.isEmpty(y.get(m,A))){var E=void 0;w<h.getSize()?(E=h.get(w),++w):E=!1,255!==d&&o_.getDataMaskBit(d,m,A)&&(E=!E),y.setBoolean(m,A,E)}}A+=_}A+=_=-_,v-=2}if(w!==h.getSize())throw new om("Not all bits consumed: "+w+"/"+h.getSize())},t.findMSBSet=function(h){return 32-J.numberOfLeadingZeros(h)},t.calculateBCHCode=function(h,d){if(0===d)throw new H("0 polynomial");var y=t.findMSBSet(d);for(h<<=y-1;t.findMSBSet(h)>=y;)h^=d<<t.findMSBSet(h)-y;return h},t.makeTypeInfoBits=function(h,d,y){if(!oA.isValidMaskPattern(d))throw new om("Invalid mask pattern");var w=h.getBits()<<3|d;y.appendBits(w,5);var _=t.calculateBCHCode(w,t.TYPE_INFO_POLY);y.appendBits(_,10);var v=new $;if(v.appendBits(t.TYPE_INFO_MASK_PATTERN,15),y.xor(v),15!==y.getSize())throw new om("should not happen but we got: "+y.getSize())},t.makeVersionInfoBits=function(h,d){d.appendBits(h.getVersionNumber(),6);var y=t.calculateBCHCode(h.getVersionNumber(),t.VERSION_INFO_POLY);if(d.appendBits(y,12),18!==d.getSize())throw new om("should not happen but we got: "+d.getSize())},t.isEmpty=function(h){return 255===h},t.embedTimingPatterns=function(h){for(var d=8;d<h.getWidth()-8;++d){var y=(d+1)%2;t.isEmpty(h.get(d,6))&&h.setNumber(d,6,y),t.isEmpty(h.get(6,d))&&h.setNumber(6,d,y)}},t.embedDarkDotAtLeftBottomCorner=function(h){if(0===h.get(8,h.getHeight()-8))throw new om;h.setNumber(8,h.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(h,d,y){for(var w=0;w<8;++w){if(!t.isEmpty(y.get(h+w,d)))throw new om;y.setNumber(h+w,d,0)}},t.embedVerticalSeparationPattern=function(h,d,y){for(var w=0;w<7;++w){if(!t.isEmpty(y.get(h,d+w)))throw new om;y.setNumber(h,d+w,0)}},t.embedPositionAdjustmentPattern=function(h,d,y){for(var w=0;w<5;++w)for(var _=t.POSITION_ADJUSTMENT_PATTERN[w],v=0;v<5;++v)y.setNumber(h+v,d+w,_[v])},t.embedPositionDetectionPattern=function(h,d,y){for(var w=0;w<7;++w)for(var _=t.POSITION_DETECTION_PATTERN[w],v=0;v<7;++v)y.setNumber(h+v,d+w,_[v])},t.embedPositionDetectionPatternsAndSeparators=function(h){var d=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,h),t.embedPositionDetectionPattern(h.getWidth()-d,0,h),t.embedPositionDetectionPattern(0,h.getWidth()-d,h),t.embedHorizontalSeparationPattern(0,7,h),t.embedHorizontalSeparationPattern(h.getWidth()-8,7,h),t.embedHorizontalSeparationPattern(0,h.getWidth()-8,h),t.embedVerticalSeparationPattern(7,0,h),t.embedVerticalSeparationPattern(h.getHeight()-7-1,0,h),t.embedVerticalSeparationPattern(7,h.getHeight()-7,h)},t.maybeEmbedPositionAdjustmentPatterns=function(h,d){if(!(2>h.getVersionNumber()))for(var y=h.getVersionNumber()-1,w=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[y],_=0,v=w.length;_!==v;_++){var A=w[_];if(A>=0)for(var C=0;C!==v;C++){var m=w[C];m>=0&&t.isEmpty(d.get(m,A))&&t.embedPositionAdjustmentPattern(m-2,A-2,d)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),oI=function(){function t(h,d){this.dataBytes=h,this.errorCorrectionBytes=d}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Lo=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(){function t(){}t.calculateMaskPenalty=function(h){return o_.applyMaskPenaltyRule1(h)+o_.applyMaskPenaltyRule2(h)+o_.applyMaskPenaltyRule3(h)+o_.applyMaskPenaltyRule4(h)},t.encode=function(h,d,y){void 0===y&&(y=null);var w=t.DEFAULT_BYTE_MODE_ENCODING,_=null!==y&&void 0!==y.get(oy.CHARACTER_SET);_&&(w=y.get(oy.CHARACTER_SET).toString());var v=this.chooseMode(h,w),A=new $;if(v===nM.BYTE&&(_||t.DEFAULT_BYTE_MODE_ENCODING!==w)){var C=tg.getCharacterSetECIByName(w);void 0!==C&&this.appendECI(C,A)}this.appendModeInfo(v,A);var m,E=new $;if(this.appendBytes(h,v,E,w),null!==y&&void 0!==y.get(oy.QR_VERSION)){var I=Number.parseInt(y.get(oy.QR_VERSION).toString(),10);m=ny.getVersionForNumber(I);var S=this.calculateBitsNeeded(v,A,E,m);if(!this.willFit(S,m,d))throw new om("Data too big for requested version")}else m=this.recommendVersion(d,v,A,E);var T=new $;T.appendBitArray(A);var O=v===nM.BYTE?E.getSizeInBytes():h.length;this.appendLengthInfo(O,m,v,T),T.appendBitArray(E);var b=m.getECBlocksForLevel(d),R=m.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(R,T);var N=this.interleaveWithECBytes(T,m.getTotalCodewords(),R,b.getNumBlocks()),D=new oA;D.setECLevel(d),D.setMode(v),D.setVersion(m);var M=m.getDimensionForVersion(),P=new ov(M,M),B=this.chooseMaskPattern(N,d,m,P);return D.setMaskPattern(B),oE.buildMatrix(N,d,m,B,P),D.setMatrix(P),D},t.recommendVersion=function(h,d,y,w){var _=this.calculateBitsNeeded(d,y,w,ny.getVersionForNumber(1)),v=this.chooseVersion(_,h),A=this.calculateBitsNeeded(d,y,w,v);return this.chooseVersion(A,h)},t.calculateBitsNeeded=function(h,d,y,w){return d.getSize()+h.getCharacterCountBits(w)+y.getSize()},t.getAlphanumericCode=function(h){return h<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[h]:-1},t.chooseMode=function(h,d){if(void 0===d&&(d=null),tg.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(h))return nM.KANJI;for(var y=!1,w=!1,_=0,v=h.length;_<v;++_){var A=h.charAt(_);if(t.isDigit(A))y=!0;else{if(-1===this.getAlphanumericCode(A.charCodeAt(0)))return nM.BYTE;w=!0}}return w?nM.ALPHANUMERIC:y?nM.NUMERIC:nM.BYTE},t.isOnlyDoubleByteKanji=function(h){try{d=t_.encode(h,tg.SJIS)}catch(h){return!1}var d,y=d.length;if(y%2!=0)return!1;for(var w=0;w<y;w+=2){var _=255&d[w];if((_<129||_>159)&&(_<224||_>235))return!1}return!0},t.chooseMaskPattern=function(h,d,y,w){for(var _=Number.MAX_SAFE_INTEGER,v=-1,A=0;A<oA.NUM_MASK_PATTERNS;A++){oE.buildMatrix(h,d,y,A,w);var C=this.calculateMaskPenalty(w);C<_&&(_=C,v=A)}return v},t.chooseVersion=function(h,d){for(var y=1;y<=40;y++){var w=ny.getVersionForNumber(y);if(t.willFit(h,w,d))return w}throw new om("Data too big")},t.willFit=function(h,d,y){return d.getTotalCodewords()-d.getECBlocksForLevel(y).getTotalECCodewords()>=(h+7)/8},t.terminateBits=function(h,d){var y=8*h;if(d.getSize()>y)throw new om("data bits cannot fit in the QR Code"+d.getSize()+" > "+y);for(var w=0;w<4&&d.getSize()<y;++w)d.appendBit(!1);var _=7&d.getSize();if(_>0)for(w=_;w<8;w++)d.appendBit(!1);var v=h-d.getSizeInBytes();for(w=0;w<v;++w)d.appendBits(0==(1&w)?236:17,8);if(d.getSize()!==y)throw new om("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(h,d,y,w,_,v){if(w>=y)throw new om("Block ID too large");var A=h%y,C=y-A,m=Math.floor(h/y),E=Math.floor(d/y),I=E+1,S=m-E,T=m+1-I;if(S!==T)throw new om("EC bytes mismatch");if(y!==C+A)throw new om("RS blocks mismatch");if(h!==(E+S)*C+(I+T)*A)throw new om("Total bytes mismatch");w<C?(_[0]=E,v[0]=S):(_[0]=I,v[0]=T)},t.interleaveWithECBytes=function(h,d,y,w){if(h.getSizeInBytes()!==y)throw new om("Number of bits and data bytes does not match");for(var _,v,A,C,m=0,E=0,I=0,S=[],T=0;T<w;++T){var O=new Int32Array(1),b=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(d,y,w,T,O,b);var R=O[0],N=new Uint8Array(R);h.toBytes(8*m,N,0,R);var D=t.generateECBytes(N,b[0]);S.push(new oI(N,D)),E=Math.max(E,R),I=Math.max(I,D.length),m+=O[0]}if(y!==m)throw new om("Data bytes does not match offset");var M=new $;for(T=0;T<E;++T)try{for(var P=(_=void 0,Lo(S)),B=P.next();!B.done;B=P.next())T<(N=B.value.getDataBytes()).length&&M.appendBits(N[T],8)}catch(h){_={error:h}}finally{try{B&&!B.done&&(v=P.return)&&v.call(P)}finally{if(_)throw _.error}}for(T=0;T<I;++T)try{for(var L=(A=void 0,Lo(S)),x=L.next();!x.done;x=L.next())T<(D=x.value.getErrorCorrectionBytes()).length&&M.appendBits(D[T],8)}catch(h){A={error:h}}finally{try{x&&!x.done&&(C=L.return)&&C.call(L)}finally{if(A)throw A.error}}if(d!==M.getSizeInBytes())throw new om("Interleaving error: "+d+" and "+M.getSizeInBytes()+" differ.");return M},t.generateECBytes=function(h,d){for(var y=h.length,w=new Int32Array(y+d),_=0;_<y;_++)w[_]=255&h[_];new ow(tJ.QR_CODE_FIELD_256).encode(w,d);var v=new Uint8Array(d);for(_=0;_<d;_++)v[_]=w[y+_];return v},t.appendModeInfo=function(h,d){d.appendBits(h.getBits(),4)},t.appendLengthInfo=function(h,d,y,w){var _=y.getCharacterCountBits(d);if(h>=1<<_)throw new om(h+" is bigger than "+((1<<_)-1));w.appendBits(h,_)},t.appendBytes=function(h,d,y,w){switch(d){case nM.NUMERIC:t.appendNumericBytes(h,y);break;case nM.ALPHANUMERIC:t.appendAlphanumericBytes(h,y);break;case nM.BYTE:t.append8BitBytes(h,y,w);break;case nM.KANJI:t.appendKanjiBytes(h,y);break;default:throw new om("Invalid mode: "+d)}},t.getDigit=function(h){return h.charCodeAt(0)-48},t.isDigit=function(h){var d=t.getDigit(h);return d>=0&&d<=9},t.appendNumericBytes=function(h,d){for(var y=h.length,w=0;w<y;){var _=t.getDigit(h.charAt(w));if(w+2<y){var v=t.getDigit(h.charAt(w+1)),A=t.getDigit(h.charAt(w+2));d.appendBits(100*_+10*v+A,10),w+=3}else w+1<y?(v=t.getDigit(h.charAt(w+1)),d.appendBits(10*_+v,7),w+=2):(d.appendBits(_,4),w++)}},t.appendAlphanumericBytes=function(h,d){for(var y=h.length,w=0;w<y;){var _=t.getAlphanumericCode(h.charCodeAt(w));if(-1===_)throw new om;if(w+1<y){var v=t.getAlphanumericCode(h.charCodeAt(w+1));if(-1===v)throw new om;d.appendBits(45*_+v,11),w+=2}else d.appendBits(_,6),w++}},t.append8BitBytes=function(h,d,y){var w;try{w=t_.encode(h,y)}catch(h){throw new om(h)}for(var _=0,v=w.length;_!==v;_++){var A=w[_];d.appendBits(A,8)}},t.appendKanjiBytes=function(h,d){var y;try{y=t_.encode(h,tg.SJIS)}catch(h){throw new om(h)}for(var w=y.length,_=0;_<w;_+=2){var v=(255&y[_])<<8&4294967295|255&y[_+1],A=-1;if(v>=33088&&v<=40956?A=v-33088:v>=57408&&v<=60351&&(A=v-49472),-1===A)throw new om("Invalid byte sequence");var C=192*(A>>8)+(255&A);d.appendBits(C,13)}},t.appendECI=function(h,d){d.appendBits(nM.ECI.getBits(),4),d.appendBits(h.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=tg.UTF8.getName()}();var oS=(oF=function(h,d){return(oF=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oF(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)});!function(h){function e(d,y,w,_,v,A,C,m){var E=h.call(this,A,C)||this;if(E.yuvData=d,E.dataWidth=y,E.dataHeight=w,E.left=_,E.top=v,_+A>y||v+C>w)throw new H("Crop rectangle does not fit within image data.");return m&&E.reverseHorizontal(A,C),E}oS(e,h),e.prototype.getRow=function(h,d){if(h<0||h>=this.getHeight())throw new H("Requested row is outside the image: "+h);var y=this.getWidth();(null==d||d.length<y)&&(d=new Uint8ClampedArray(y));var w=(h+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,w,d,0,y),d},e.prototype.getMatrix=function(){var h=this.getWidth(),d=this.getHeight();if(h===this.dataWidth&&d===this.dataHeight)return this.yuvData;var y=h*d,w=new Uint8ClampedArray(y),_=this.top*this.dataWidth+this.left;if(h===this.dataWidth)return j.arraycopy(this.yuvData,_,w,0,y),w;for(var v=0;v<d;v++){var A=v*h;j.arraycopy(this.yuvData,_,w,A,h),_+=this.dataWidth}return w},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(h,d,y,w){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+h,this.top+d,y,w,!1)},e.prototype.renderThumbnail=function(){for(var h=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,y=new Int32Array(h*d),w=this.yuvData,_=this.top*this.dataWidth+this.left,v=0;v<d;v++){for(var A=v*h,C=0;C<h;C++){var m=255&w[_+C*e.THUMBNAIL_SCALE_FACTOR];y[A+C]=4278190080|65793*m}_+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return y},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(h,d){for(var y=this.yuvData,w=0,_=this.top*this.dataWidth+this.left;w<d;w++,_+=this.dataWidth)for(var v=_+h/2,A=_,C=_+h-1;A<v;A++,C--){var m=y[A];y[A]=y[C],y[C]=m}},e.prototype.invert=function(){return new tN(this)},e.THUMBNAIL_SCALE_FACTOR=2}(tb);var oT=(ok=function(h,d){return(ok=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}ok(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)});!function(h){function e(d,y,w,_,v,A,C){var m=h.call(this,y,w)||this;if(m.dataWidth=_,m.dataHeight=v,m.left=A,m.top=C,4===d.BYTES_PER_ELEMENT){for(var E=y*w,I=new Uint8ClampedArray(E),S=0;S<E;S++){var T=d[S],O=T>>16&255,b=T>>7&510,R=255&T;I[S]=(O+b+R)/4&255}m.luminances=I}else m.luminances=d;if(void 0===_&&(m.dataWidth=y),void 0===v&&(m.dataHeight=w),void 0===A&&(m.left=0),void 0===C&&(m.top=0),m.left+y>m.dataWidth||m.top+w>m.dataHeight)throw new H("Crop rectangle does not fit within image data.");return m}oT(e,h),e.prototype.getRow=function(h,d){if(h<0||h>=this.getHeight())throw new H("Requested row is outside the image: "+h);var y=this.getWidth();(null==d||d.length<y)&&(d=new Uint8ClampedArray(y));var w=(h+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,w,d,0,y),d},e.prototype.getMatrix=function(){var h=this.getWidth(),d=this.getHeight();if(h===this.dataWidth&&d===this.dataHeight)return this.luminances;var y=h*d,w=new Uint8ClampedArray(y),_=this.top*this.dataWidth+this.left;if(h===this.dataWidth)return j.arraycopy(this.luminances,_,w,0,y),w;for(var v=0;v<d;v++){var A=v*h;j.arraycopy(this.luminances,_,w,A,h),_+=this.dataWidth}return w},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(h,d,y,w){return new e(this.luminances,y,w,this.dataWidth,this.dataHeight,this.left+h,this.top+d)},e.prototype.invert=function(){return new tN(this)}}(tb);var oO,ob,oR,oN,oD,oM,oP,oB,oL,ox,oF,ok,oV,oH,oU,oX=(oV=function(h,d){return(oV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oV(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),oG=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return oX(e,h),e.forName=function(h){return this.getCharacterSetECIByName(h)},e}(tg),oW=function(){function t(){}return t.ISO_8859_1=tg.ISO8859_1,t}();(oH=function(h,d){for(var y=1,w=0;w<255;w++)d[w]=y,h[y]=w,(y*=2)>=256&&(y^=301);return{LOG:h,ALOG:d}}([],[])).LOG,oH.ALOG,(oz=oU||(oU={}))[oz.FORCE_NONE=0]="FORCE_NONE",oz[oz.FORCE_SQUARE=1]="FORCE_SQUARE",oz[oz.FORCE_RECTANGLE=2]="FORCE_RECTANGLE";var oz,oj,oY,oZ,oK,oq,oQ="[)>\x1e05\x1d",oJ="[)>\x1e06\x1d",o$=function(){function t(){}return t.prototype.getEncodingMode=function(){return 0},t.prototype.encode=function(h){if(io.determineConsecutiveDigitCount(h.getMessage(),h.pos)>=2)h.writeCodeword(this.encodeASCIIDigits(h.getMessage().charCodeAt(h.pos),h.getMessage().charCodeAt(h.pos+1))),h.pos+=2;else{var d=h.getCurrentChar(),y=io.lookAheadTest(h.getMessage(),h.pos,this.getEncodingMode());if(y!==this.getEncodingMode())switch(y){case 5:return h.writeCodeword(231),void h.signalEncoderChange(5);case 1:return h.writeCodeword(230),void h.signalEncoderChange(1);case 3:h.writeCodeword(238),h.signalEncoderChange(3);break;case 2:h.writeCodeword(239),h.signalEncoderChange(2);break;case 4:h.writeCodeword(240),h.signalEncoderChange(4);break;default:throw Error("Illegal mode: "+y)}else io.isExtendedASCII(d)?(h.writeCodeword(235),h.writeCodeword(d-128+1)):h.writeCodeword(d+1),h.pos++}},t.prototype.encodeASCIIDigits=function(h,d){if(io.isDigit(h)&&io.isDigit(d))return 10*(h-48)+(d-48)+130;throw Error("not digits: "+h+d)},t}(),o1=function(){function t(){}return t.prototype.getEncodingMode=function(){return 5},t.prototype.encode=function(h){var d=new tA;for(d.append(0);h.hasMoreCharacters();){var y=h.getCurrentChar();if(d.append(y),h.pos++,io.lookAheadTest(h.getMessage(),h.pos,this.getEncodingMode())!==this.getEncodingMode()){h.signalEncoderChange(0);break}}var w=d.length()-1,_=h.getCodewordCount()+w+1;h.updateSymbolInfo(_);var v=h.getSymbolInfo().getDataCapacity()-_>0;if(h.hasMoreCharacters()||v){if(w<=249)d.setCharAt(0,tv.getCharAt(w));else{if(!(w<=1555))throw Error("Message length not in valid ranges: "+w);d.setCharAt(0,tv.getCharAt(Math.floor(w/250)+249)),d.insert(1,tv.getCharAt(w%250))}}var A=0;for(y=d.length();A<y;A++)h.writeCodeword(this.randomize255State(d.charAt(A).charCodeAt(0),h.getCodewordCount()+1))},t.prototype.randomize255State=function(h,d){var y=h+(149*d%255+1);return y<=255?y:y-256},t}(),o2=function(){function t(){}return t.prototype.getEncodingMode=function(){return 1},t.prototype.encodeMaximal=function(h){for(var d=new tA,y=0,w=h.pos,_=0;h.hasMoreCharacters();){var v=h.getCurrentChar();h.pos++,y=this.encodeChar(v,d),d.length()%3==0&&(w=h.pos,_=d.length())}if(_!==d.length()){var A=Math.floor(d.length()/3*2),C=Math.floor(h.getCodewordCount()+A+1);h.updateSymbolInfo(C);var m=h.getSymbolInfo().getDataCapacity()-C,E=Math.floor(d.length()%3);(2===E&&2!==m||1===E&&(y>3||1!==m))&&(h.pos=w)}d.length()>0&&h.writeCodeword(230),this.handleEOD(h,d)},t.prototype.encode=function(h){for(var d=new tA;h.hasMoreCharacters();){var y=h.getCurrentChar();h.pos++;var w=this.encodeChar(y,d),_=2*Math.floor(d.length()/3),v=h.getCodewordCount()+_;h.updateSymbolInfo(v);var A=h.getSymbolInfo().getDataCapacity()-v;if(!h.hasMoreCharacters()){var C=new tA;for(d.length()%3==2&&2!==A&&(w=this.backtrackOneCharacter(h,d,C,w));d.length()%3==1&&(w>3||1!==A);)w=this.backtrackOneCharacter(h,d,C,w);break}if(d.length()%3==0&&io.lookAheadTest(h.getMessage(),h.pos,this.getEncodingMode())!==this.getEncodingMode()){h.signalEncoderChange(0);break}}this.handleEOD(h,d)},t.prototype.backtrackOneCharacter=function(h,d,y,w){var _=d.length(),v=d.toString().substring(0,_-w);d.setLengthToZero(),d.append(v),h.pos--;var A=h.getCurrentChar();return w=this.encodeChar(A,y),h.resetSymbolInfo(),w},t.prototype.writeNextTriplet=function(h,d){h.writeCodewords(this.encodeToCodewords(d.toString()));var y=d.toString().substring(3);d.setLengthToZero(),d.append(y)},t.prototype.handleEOD=function(h,d){var y=Math.floor(d.length()/3*2),w=d.length()%3,_=h.getCodewordCount()+y;h.updateSymbolInfo(_);var v=h.getSymbolInfo().getDataCapacity()-_;if(2===w){for(d.append("\x00");d.length()>=3;)this.writeNextTriplet(h,d);h.hasMoreCharacters()&&h.writeCodeword(254)}else if(1===v&&1===w){for(;d.length()>=3;)this.writeNextTriplet(h,d);h.hasMoreCharacters()&&h.writeCodeword(254),h.pos--}else{if(0!==w)throw Error("Unexpected case. Please report!");for(;d.length()>=3;)this.writeNextTriplet(h,d);(v>0||h.hasMoreCharacters())&&h.writeCodeword(254)}h.signalEncoderChange(0)},t.prototype.encodeChar=function(h,d){return 32===h?(d.append(3),1):h>=48&&h<=57?(d.append(h-48+4),1):h>=65&&h<=90?(d.append(h-65+14),1):h<32?(d.append(0),d.append(h),2):h<=47?(d.append(1),d.append(h-33),2):h<=64?(d.append(1),d.append(h-58+15),2):h<=95?(d.append(1),d.append(h-91+22),2):h<=127?(d.append(2),d.append(h-96),2):(d.append("1\x1e"),2+this.encodeChar(h-128,d))},t.prototype.encodeToCodewords=function(h){var d=1600*h.charCodeAt(0)+40*h.charCodeAt(1)+h.charCodeAt(2)+1,y=new tA;return y.append(d/256),y.append(d%256),y.toString()},t}(),o0=function(){function t(){}return t.prototype.getEncodingMode=function(){return 4},t.prototype.encode=function(h){for(var d=new tA;h.hasMoreCharacters();){var y=h.getCurrentChar();if(this.encodeChar(y,d),h.pos++,d.length()>=4){h.writeCodewords(this.encodeToCodewords(d.toString()));var w=d.toString().substring(4);if(d.setLengthToZero(),d.append(w),io.lookAheadTest(h.getMessage(),h.pos,this.getEncodingMode())!==this.getEncodingMode()){h.signalEncoderChange(0);break}}}d.append(tv.getCharAt(31)),this.handleEOD(h,d)},t.prototype.handleEOD=function(h,d){try{var y=d.length();if(0===y)return;if(1===y){h.updateSymbolInfo();var w=h.getSymbolInfo().getDataCapacity()-h.getCodewordCount(),_=h.getRemainingCharacters();if(_>w&&(h.updateSymbolInfo(h.getCodewordCount()+1),w=h.getSymbolInfo().getDataCapacity()-h.getCodewordCount()),_<=w&&w<=2)return}if(y>4)throw Error("Count must not exceed 4");var v=y-1,A=this.encodeToCodewords(d.toString()),C=!h.hasMoreCharacters()&&v<=2;v<=2&&(h.updateSymbolInfo(h.getCodewordCount()+v),(w=h.getSymbolInfo().getDataCapacity()-h.getCodewordCount())>=3&&(C=!1,h.updateSymbolInfo(h.getCodewordCount()+A.length))),C?(h.resetSymbolInfo(),h.pos-=v):h.writeCodewords(A)}finally{h.signalEncoderChange(0)}},t.prototype.encodeChar=function(h,d){h>=32&&h<=63?d.append(h):h>=64&&h<=94?d.append(tv.getCharAt(h-64)):io.illegalCharacter(tv.getCharAt(h))},t.prototype.encodeToCodewords=function(h){var d=h.length;if(0===d)throw Error("StringBuilder must not be empty");var y=(h.charAt(0).charCodeAt(0)<<18)+((d>=2?h.charAt(1).charCodeAt(0):0)<<12)+((d>=3?h.charAt(2).charCodeAt(0):0)<<6)+(d>=4?h.charAt(3).charCodeAt(0):0),w=new tA;return w.append(y>>16&255),d>=2&&w.append(y>>8&255),d>=3&&w.append(255&y),w.toString()},t}(),o3=(oj=function(h,d){return(oj=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oj(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),Qo=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},o8=function(){function t(h,d,y,w,_,v,A,C){void 0===A&&(A=0),void 0===C&&(C=0),this.rectangular=h,this.dataCapacity=d,this.errorCodewords=y,this.matrixWidth=w,this.matrixHeight=_,this.dataRegions=v,this.rsBlockData=A,this.rsBlockError=C}return t.lookup=function(h,d,y,w,_){var v,A;void 0===d&&(d=0),void 0===y&&(y=null),void 0===w&&(w=null),void 0===_&&(_=!0);try{for(var C=Qo(o6),m=C.next();!m.done;m=C.next()){var E=m.value;if((1!==d||!E.rectangular)&&(2!==d||E.rectangular)&&(null==y||!(E.getSymbolWidth()<y.getWidth()||E.getSymbolHeight()<y.getHeight()))&&(null==w||!(E.getSymbolWidth()>w.getWidth()||E.getSymbolHeight()>w.getHeight()))&&h<=E.dataCapacity)return E}}catch(h){v={error:h}}finally{try{m&&!m.done&&(A=C.return)&&A.call(C)}finally{if(v)throw v.error}}if(_)throw Error("Can't find a symbol arrangement that matches the message. Data codewords: "+h);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(h){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(h){return this.rsBlockError},t}(),o4=function(h){function e(){return h.call(this,!1,1558,620,22,22,36,-1,62)||this}return o3(e,h),e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(h){return h<=8?156:155},e}(o8),o6=[new o8(!1,3,5,8,8,1),new o8(!1,5,7,10,10,1),new o8(!0,5,7,16,6,1),new o8(!1,8,10,12,12,1),new o8(!0,10,11,14,6,2),new o8(!1,12,12,14,14,1),new o8(!0,16,14,24,10,1),new o8(!1,18,14,16,16,1),new o8(!1,22,18,18,18,1),new o8(!0,22,18,16,10,2),new o8(!1,30,20,20,20,1),new o8(!0,32,24,16,14,2),new o8(!1,36,24,22,22,1),new o8(!1,44,28,24,24,1),new o8(!0,49,28,22,14,2),new o8(!1,62,36,14,14,4),new o8(!1,86,42,16,16,4),new o8(!1,114,48,18,18,4),new o8(!1,144,56,20,20,4),new o8(!1,174,68,22,22,4),new o8(!1,204,84,24,24,4,102,42),new o8(!1,280,112,14,14,16,140,56),new o8(!1,368,144,16,16,16,92,36),new o8(!1,456,192,18,18,16,114,48),new o8(!1,576,224,20,20,16,144,56),new o8(!1,696,272,22,22,16,174,68),new o8(!1,816,336,24,24,16,136,56),new o8(!1,1050,408,18,18,36,175,68),new o8(!1,1304,496,20,20,36,163,62),new o4],o5=function(){function t(h){this.msg=h,this.pos=0,this.skipAtEnd=0;for(var d=h.split("").map(function(h){return h.charCodeAt(0)}),y=new tA,w=0,_=d.length;w<_;w++){var v=String.fromCharCode(255&d[w]);if("?"===v&&"?"!==h.charAt(w))throw Error("Message contains characters outside ISO-8859-1 encoding.");y.append(v)}this.msg=y.toString(),this.shape=0,this.codewords=new tA,this.newEncoding=-1}return t.prototype.setSymbolShape=function(h){this.shape=h},t.prototype.setSizeConstraints=function(h,d){this.minSize=h,this.maxSize=d},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(h){this.skipAtEnd=h},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(h){this.codewords.append(h)},t.prototype.writeCodeword=function(h){this.codewords.append(h)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(h){this.newEncoding=h},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(h){void 0===h&&(h=this.getCodewordCount()),(null==this.symbolInfo||h>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=o8.lookup(h,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),o7=(oY=function(h,d){return(oY=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oY(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),o9=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return o7(e,h),e.prototype.getEncodingMode=function(){return 3},e.prototype.encode=function(h){for(var d=new tA;h.hasMoreCharacters();){var y=h.getCurrentChar();if(h.pos++,this.encodeChar(y,d),d.length()%3==0&&(this.writeNextTriplet(h,d),io.lookAheadTest(h.getMessage(),h.pos,this.getEncodingMode())!==this.getEncodingMode())){h.signalEncoderChange(0);break}}this.handleEOD(h,d)},e.prototype.encodeChar=function(h,d){switch(h){case 13:d.append(0);break;case 42:d.append(1);break;case 62:d.append(2);break;case 32:d.append(3);break;default:h>=48&&h<=57?d.append(h-48+4):h>=65&&h<=90?d.append(h-65+14):io.illegalCharacter(tv.getCharAt(h))}return 1},e.prototype.handleEOD=function(h,d){h.updateSymbolInfo();var y=h.getSymbolInfo().getDataCapacity()-h.getCodewordCount(),w=d.length();h.pos-=w,(h.getRemainingCharacters()>1||y>1||h.getRemainingCharacters()!==y)&&h.writeCodeword(254),0>h.getNewEncoding()&&h.signalEncoderChange(0)},e}(o2),it=(oZ=function(h,d){return(oZ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oZ(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ir=function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return it(e,h),e.prototype.getEncodingMode=function(){return 2},e.prototype.encodeChar=function(h,d){return 32===h?(d.append(3),1):h>=48&&h<=57?(d.append(h-48+4),1):h>=97&&h<=122?(d.append(h-97+14),1):h<32?(d.append(0),d.append(h),2):h<=47?(d.append(1),d.append(h-33),2):h<=64?(d.append(1),d.append(h-58+15),2):h>=91&&h<=95?(d.append(1),d.append(h-91+22),2):96===h?(d.append(2),d.append(0),2):h<=90?(d.append(2),d.append(h-65+1),2):h<=127?(d.append(2),d.append(h-123+27),2):(d.append("1\x1e"),2+this.encodeChar(h-128,d))},e}(o2),io=function(){function t(){}return t.randomize253State=function(h){var d=129+(149*h%253+1);return d<=254?d:d-254},t.encodeHighLevel=function(h,d,y,w,_){void 0===d&&(d=0),void 0===y&&(y=null),void 0===w&&(w=null),void 0===_&&(_=!1);var v=new o2,A=[new o$,v,new ir,new o9,new o0,new o1],C=new o5(h);C.setSymbolShape(d),C.setSizeConstraints(y,w),h.startsWith(oQ)&&h.endsWith("\x1e\x04")?(C.writeCodeword(236),C.setSkipAtEnd(2),C.pos+=oQ.length):h.startsWith(oJ)&&h.endsWith("\x1e\x04")&&(C.writeCodeword(237),C.setSkipAtEnd(2),C.pos+=oJ.length);var m=0;for(_&&(v.encodeMaximal(C),m=C.getNewEncoding(),C.resetEncoderSignal());C.hasMoreCharacters();)A[m].encode(C),C.getNewEncoding()>=0&&(m=C.getNewEncoding(),C.resetEncoderSignal());var E=C.getCodewordCount();C.updateSymbolInfo();var I=C.getSymbolInfo().getDataCapacity();E<I&&0!==m&&5!==m&&4!==m&&C.writeCodeword("\xfe");var S=C.getCodewords();for(S.length()<I&&S.append(129);S.length()<I;)S.append(this.randomize253State(S.length()+1));return C.getCodewords().toString()},t.lookAheadTest=function(h,d,y){var w=this.lookAheadTestIntern(h,d,y);if(3===y&&3===w){for(var _=Math.min(d+3,h.length),v=d;v<_;v++)if(!this.isNativeX12(h.charCodeAt(v)))return 0}else if(4===y&&4===w){for(_=Math.min(d+4,h.length),v=d;v<_;v++)if(!this.isNativeEDIFACT(h.charCodeAt(v)))return 0}return w},t.lookAheadTestIntern=function(h,d,y){if(d>=h.length)return y;0===y?w=[0,1,1,1,1,1.25]:(w=[1,2,2,2,2,2.25])[y]=0;for(var w,_=0,v=new Uint8Array(6),A=[];;){if(d+_===h.length){Q.fill(v,0),Q.fill(A,0);var C=this.findMinimums(w,A,J.MAX_VALUE,v),m=this.getMinimumCount(v);if(A[0]===C)return 0;if(1===m){if(v[5]>0)return 5;if(v[4]>0)return 4;if(v[2]>0)return 2;if(v[3]>0)return 3}return 1}var E=h.charCodeAt(d+_);if(_++,this.isDigit(E)?w[0]+=.5:this.isExtendedASCII(E)?(w[0]=Math.ceil(w[0]),w[0]+=2):(w[0]=Math.ceil(w[0]),w[0]++),this.isNativeC40(E)?w[1]+=2/3:this.isExtendedASCII(E)?w[1]+=8/3:w[1]+=4/3,this.isNativeText(E)?w[2]+=2/3:this.isExtendedASCII(E)?w[2]+=8/3:w[2]+=4/3,this.isNativeX12(E)?w[3]+=2/3:this.isExtendedASCII(E)?w[3]+=13/3:w[3]+=10/3,this.isNativeEDIFACT(E)?w[4]+=3/4:this.isExtendedASCII(E)?w[4]+=4.25:w[4]+=3.25,this.isSpecialB256(E)?w[5]+=4:w[5]++,_>=4){if(Q.fill(v,0),Q.fill(A,0),this.findMinimums(w,A,J.MAX_VALUE,v),A[0]<this.min(A[5],A[1],A[2],A[3],A[4]))return 0;if(A[5]<A[0]||A[5]+1<this.min(A[1],A[2],A[3],A[4]))return 5;if(A[4]+1<this.min(A[5],A[1],A[2],A[3],A[0]))return 4;if(A[2]+1<this.min(A[5],A[1],A[4],A[3],A[0]))return 2;if(A[3]+1<this.min(A[5],A[1],A[4],A[2],A[0]))return 3;if(A[1]+1<this.min(A[0],A[5],A[4],A[2])){if(A[1]<A[3])return 1;if(A[1]===A[3]){for(var I=d+_+1;I<h.length;){var S=h.charCodeAt(I);if(this.isX12TermSep(S))return 3;if(!this.isNativeX12(S))break;I++}return 1}}}}},t.min=function(h,d,y,w,_){var v=Math.min(h,Math.min(d,Math.min(y,w)));return void 0===_?v:Math.min(v,_)},t.findMinimums=function(h,d,y,w){for(var _=0;_<6;_++){var v=d[_]=Math.ceil(h[_]);y>v&&(y=v,Q.fill(w,0)),y===v&&(w[_]=w[_]+1)}return y},t.getMinimumCount=function(h){for(var d=0,y=0;y<6;y++)d+=h[y];return d||0},t.isDigit=function(h){return h>=48&&h<=57},t.isExtendedASCII=function(h){return h>=128&&h<=255},t.isNativeC40=function(h){return 32===h||h>=48&&h<=57||h>=65&&h<=90},t.isNativeText=function(h){return 32===h||h>=48&&h<=57||h>=97&&h<=122},t.isNativeX12=function(h){return this.isX12TermSep(h)||32===h||h>=48&&h<=57||h>=65&&h<=90},t.isX12TermSep=function(h){return 13===h||42===h||62===h},t.isNativeEDIFACT=function(h){return h>=32&&h<=94},t.isSpecialB256=function(h){return!1},t.determineConsecutiveDigitCount=function(h,d){void 0===d&&(d=0);for(var y=h.length,w=d;w<y&&this.isDigit(h.charCodeAt(w));)w++;return w-d},t.illegalCharacter=function(h){var d=J.toHexString(h.charCodeAt(0));throw Error("Illegal character: "+h+" (0x"+(d="0000".substring(0,4-d.length)+d)+")")},t}(),ui=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},ii=function(){function t(h){this.charset=h,this.name=h.name}return t.prototype.canEncode=function(h){try{return null!=t_.encode(h,this.charset)}catch(h){return!1}},t}(),ia=function(){function t(h,d,y){this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(h){return new ii(oG.forName(h))}),this.encoders=[];var w,_,v,A,C,m,E=[];E.push(new ii(oW.ISO_8859_1));for(var I=null!=d&&d.name.startsWith("UTF"),S=0;S<h.length;S++){var T=!1;try{for(var O=(w=void 0,ui(E)),b=O.next();!b.done;b=O.next()){var R=b.value,N=h.charAt(S);if(N.charCodeAt(0)===y||R.canEncode(N)){T=!0;break}}}catch(h){w={error:h}}finally{try{b&&!b.done&&(_=O.return)&&_.call(O)}finally{if(w)throw w.error}}if(!T)try{for(var D=(v=void 0,ui(this.ENCODERS)),M=D.next();!M.done;M=D.next())if((R=M.value).canEncode(h.charAt(S))){E.push(R),T=!0;break}}catch(h){v={error:h}}finally{try{M&&!M.done&&(A=D.return)&&A.call(D)}finally{if(v)throw v.error}}T||(I=!0)}if(1!==E.length||I){this.encoders=[];var P=0;try{for(var B=ui(E),L=B.next();!L.done;L=B.next())R=L.value,this.encoders[P++]=R}catch(h){C={error:h}}finally{try{L&&!L.done&&(m=B.return)&&m.call(B)}finally{if(C)throw C.error}}}else this.encoders=[E[0]];var x=-1;if(null!=d){for(S=0;S<this.encoders.length;S++)if(null!=this.encoders[S]&&d.name===this.encoders[S].name){x=S;break}}this.priorityEncoderIndex=x}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(h){if(!(h<this.length()))throw Error("index must be less than length");return this.encoders[h].name},t.prototype.getCharset=function(h){if(!(h<this.length()))throw Error("index must be less than length");return this.encoders[h].charset},t.prototype.getECIValue=function(h){return this.encoders[h].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(h,d){if(!(d<this.length()))throw Error("index must be less than length");return!0},t.prototype.encode=function(h,d){if(!(d<this.length()))throw Error("index must be less than length");return t_.encode(tv.getCharAt(h),this.encoders[d].name)},t}(),is=function(){function t(h,d,y){this.fnc1=y;var w=new ia(h,d,y);if(1===w.length())for(var _=0;_<this.bytes.length;_++){var v=h.charAt(_).charCodeAt(0);this.bytes[_]=v===y?1e3:v}else this.bytes=this.encodeMinimally(h,w,y)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(h,d){if(h+d-1>=this.bytes.length)return!1;for(var y=0;y<d;y++)if(this.isECI(h+y))return!1;return!0},t.prototype.charAt=function(h){if(h<0||h>=this.length())throw Error(""+h);if(this.isECI(h))throw Error("value at "+h+" is not a character but an ECI");return this.isFNC1(h)?this.fnc1:this.bytes[h]},t.prototype.subSequence=function(h,d){if(h<0||h>d||d>this.length())throw Error(""+h);for(var y=new tA,w=h;w<d;w++){if(this.isECI(w))throw Error("value at "+w+" is not a character but an ECI");y.append(this.charAt(w))}return y.toString()},t.prototype.isECI=function(h){if(h<0||h>=this.length())throw Error(""+h);return this.bytes[h]>255&&this.bytes[h]<=999},t.prototype.isFNC1=function(h){if(h<0||h>=this.length())throw Error(""+h);return 1e3===this.bytes[h]},t.prototype.getECIValue=function(h){if(h<0||h>=this.length())throw Error(""+h);if(!this.isECI(h))throw Error("value at "+h+" is not an ECI but a character");return this.bytes[h]-256},t.prototype.addEdge=function(h,d,y){(null==h[d][y.encoderIndex]||h[d][y.encoderIndex].cachedTotalSize>y.cachedTotalSize)&&(h[d][y.encoderIndex]=y)},t.prototype.addEdges=function(h,d,y,w,_,v){var A=h.charAt(w).charCodeAt(0),C=0,m=d.length();d.getPriorityEncoderIndex()>=0&&(A===v||d.canEncode(A,d.getPriorityEncoderIndex()))&&(m=(C=d.getPriorityEncoderIndex())+1);for(var E=C;E<m;E++)(A===v||d.canEncode(A,E))&&this.addEdge(y,w+1,new iu(A,d,E,_,v))},t.prototype.encodeMinimally=function(h,d,y){var w=h.length,_=new iu[w+1][d.length()];this.addEdges(h,d,_,0,null,y);for(var v=1;v<=w;v++){for(var A=0;A<d.length();A++)null!=_[v][A]&&v<w&&this.addEdges(h,d,_,v,_[v][A],y);for(A=0;A<d.length();A++)_[v-1][A]=null}var C=-1,m=J.MAX_VALUE;for(A=0;A<d.length();A++)if(null!=_[w][A]){var E=_[w][A];E.cachedTotalSize<m&&(m=E.cachedTotalSize,C=A)}if(C<0)throw Error('Failed to encode "'+h+'"');for(var I=[],S=_[w][C];null!=S;){if(S.isFNC1())I.unshift(1e3);else{var T=d.encode(S.c,S.encoderIndex);for(v=T.length-1;v>=0;v--)I.unshift(255&T[v])}(null===S.previous?0:S.previous.encoderIndex)!==S.encoderIndex&&I.unshift(256+d.getECIValue(S.encoderIndex)),S=S.previous}var O=[];for(v=0;v<O.length;v++)O[v]=I[v];return O},t}(),iu=function(){function t(h,d,y,w,_){this.c=h,this.encoderSet=d,this.encoderIndex=y,this.previous=w,this.fnc1=_,this.c=h===_?1e3:h;var v=this.isFNC1()?1:d.encode(h,y).length;(null===w?0:w.encoderIndex)!==y&&(v+=3),null!=w&&(v+=w.cachedTotalSize),this.cachedTotalSize=v}return t.prototype.isFNC1=function(){return 1e3===this.c},t}(),ic=(oK=function(h,d){return(oK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}oK(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)});(w=oq||(oq={}))[w.ASCII=0]="ASCII",w[w.C40=1]="C40",w[w.TEXT=2]="TEXT",w[w.X12=3]="X12",w[w.EDF=4]="EDF",w[w.B256=5]="B256",function(h){function e(d,y,w,_,v){var A=h.call(this,d,y,w)||this;return A.shape=_,A.macroId=v,A}ic(e,h),e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape}}(is);var ih=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(h){this.compact=h},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(h){this.size=h},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(h){this.layers=h},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(h){this.codeWords=h},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(h){this.matrix=h},t}(),il=function(){function t(){}return t.singletonList=function(h){return[h]},t.min=function(h,d){return h.sort(d)[0]},t}(),id=function(){function t(h){this.previous=h}return t.prototype.getPrevious=function(){return this.previous},t}(),ip=(_=function(h,d){return(_=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}_(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),ig=function(h){function e(d,y,w){var _=h.call(this,d)||this;return _.value=y,_.bitCount=w,_}return ip(e,h),e.prototype.appendTo=function(h,d){h.appendBits(this.value,this.bitCount)},e.prototype.add=function(h,d){return new e(this,h,d)},e.prototype.addBinaryShift=function(h,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,h,d)},e.prototype.toString=function(){var h=this.value&(1<<this.bitCount)-1;return h|=1<<this.bitCount,"<"+J.toBinaryString(h|1<<this.bitCount).substring(1)+">"},e}(id),iy=(v=function(h,d){return(v=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var y in d)d.hasOwnProperty(y)&&(h[y]=d[y])})(h,d)},function(h,d){function n(){this.constructor=h}v(h,d),h.prototype=null===d?Object.create(d):(n.prototype=d.prototype,new n)}),iw=function(h){function e(d,y,w){var _=h.call(this,d,0,0)||this;return _.binaryShiftStart=y,_.binaryShiftByteCount=w,_}return iy(e,h),e.prototype.appendTo=function(h,d){for(var y=0;y<this.binaryShiftByteCount;y++)(0===y||31===y&&this.binaryShiftByteCount<=62)&&(h.appendBits(31,5),this.binaryShiftByteCount>62?h.appendBits(this.binaryShiftByteCount-31,16):0===y?h.appendBits(Math.min(this.binaryShiftByteCount,31),5):h.appendBits(this.binaryShiftByteCount-31,5)),h.appendBits(d[this.binaryShiftStart+y],8)},e.prototype.addBinaryShift=function(h,d){return new e(this,h,d)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(ig);function Ci(h,d,y){return new ig(h,d,y)}var i_=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],iv=new ig(null,0,0),iA=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],Si=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},iC=function(h){var d,y;try{for(var w=Si(h),_=w.next();!_.done;_=w.next()){var v=_.value;Q.fill(v,-1)}}catch(h){d={error:h}}finally{try{_&&!_.done&&(y=w.return)&&y.call(w)}finally{if(d)throw d.error}}return h[0][4]=0,h[1][4]=0,h[1][0]=28,h[3][4]=0,h[2][4]=0,h[2][0]=15,h}(Q.createInt32Array(6,6)),Oi=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},im=function(){function t(h,d,y,w){this.token=h,this.mode=d,this.binaryShiftByteCount=y,this.bitCount=w}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(h,d){var y=this.bitCount,w=this.token;if(h!==this.mode){var _=iA[this.mode][h];w=Ci(w,65535&_,_>>16),y+=_>>16}var v=2===h?4:5;return new t(w=Ci(w,d,v),h,0,y+v)},t.prototype.shiftAndAppend=function(h,d){var y=this.token,w=2===this.mode?4:5;return y=Ci(y,iC[this.mode][h],w),new t(y=Ci(y,d,5),this.mode,0,this.bitCount+w+5)},t.prototype.addBinaryShiftChar=function(h){var d=this.token,y=this.mode,w=this.bitCount;if(4===this.mode||2===this.mode){var _=iA[y][0];d=Ci(d,65535&_,_>>16),w+=_>>16,y=0}var v=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,A=new t(d,y,this.binaryShiftByteCount+1,w+v);return 2078===A.binaryShiftByteCount&&(A=A.endBinaryShift(h+1)),A},t.prototype.endBinaryShift=function(h){if(0===this.binaryShiftByteCount)return this;var d,y,w,_=this.token;return new t((d=_,y=h-this.binaryShiftByteCount,w=this.binaryShiftByteCount,_=new iw(d,y,w)),this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(h){var d=this.bitCount+(iA[this.mode][h.mode]>>16);return this.binaryShiftByteCount<h.binaryShiftByteCount?d+=t.calculateBinaryShiftCost(h)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>h.binaryShiftByteCount&&h.binaryShiftByteCount>0&&(d+=10),d<=h.bitCount},t.prototype.toBitArray=function(h){for(var d,y,w=[],_=this.endBinaryShift(h.length).token;null!==_;_=_.getPrevious())w.unshift(_);var v=new $;try{for(var A=Oi(w),C=A.next();!C.done;C=A.next())C.value.appendTo(v,h)}catch(h){d={error:h}}finally{try{C&&!C.done&&(y=A.return)&&y.call(A)}finally{if(d)throw d.error}}return v},t.prototype.toString=function(){return tv.format("%s bits=%d bytes=%d",i_[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(h){return h.binaryShiftByteCount>62?21:h.binaryShiftByteCount>31?20:h.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(iv,0,0,0),t}(),iE=function(h){var d=tv.getCharCode(" "),y=tv.getCharCode("."),w=tv.getCharCode(",");h[0][d]=1;for(var _=tv.getCharCode("Z"),v=tv.getCharCode("A"),A=v;A<=_;A++)h[0][A]=A-v+2;h[1][d]=1;var C=tv.getCharCode("z"),m=tv.getCharCode("a");for(A=m;A<=C;A++)h[1][A]=A-m+2;h[2][d]=1;var E=tv.getCharCode("9"),I=tv.getCharCode("0");for(A=I;A<=E;A++)h[2][A]=A-I+2;h[2][w]=12,h[2][y]=13;for(var S=["\x00"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","	","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],T=0;T<S.length;T++)h[3][tv.getCharCode(S[T])]=T;var O=["\x00","\r","\x00","\x00","\x00","\x00","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(T=0;T<O.length;T++)tv.getCharCode(O[T])>0&&(h[4][tv.getCharCode(O[T])]=T);return h}(Q.createInt32Array(5,256)),Ni=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},iI=function(){function t(h){this.text=h}return t.prototype.encode=function(){for(var h=tv.getCharCode(" "),d=tv.getCharCode("\n"),y=il.singletonList(im.INITIAL_STATE),w=0;w<this.text.length;w++){var _=void 0,v=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case tv.getCharCode("\r"):_=v===d?2:0;break;case tv.getCharCode("."):_=v===h?3:0;break;case tv.getCharCode(","):_=v===h?4:0;break;case tv.getCharCode(":"):_=v===h?5:0;break;default:_=0}_>0?(y=t.updateStateListForPair(y,w,_),w++):y=this.updateStateListForChar(y,w)}return il.min(y,function(h,d){return h.getBitCount()-d.getBitCount()}).toBitArray(this.text)},t.prototype.updateStateListForChar=function(h,d){var y,w,_=[];try{for(var v=Ni(h),A=v.next();!A.done;A=v.next()){var C=A.value;this.updateStateForChar(C,d,_)}}catch(h){y={error:h}}finally{try{A&&!A.done&&(w=v.return)&&w.call(v)}finally{if(y)throw y.error}}return t.simplifyStates(_)},t.prototype.updateStateForChar=function(h,d,y){for(var w=255&this.text[d],_=iE[h.getMode()][w]>0,v=null,A=0;A<=4;A++){var C=iE[A][w];if(C>0){if(null==v&&(v=h.endBinaryShift(d)),!_||A===h.getMode()||2===A){var m=v.latchAndAppend(A,C);y.push(m)}if(!_&&iC[h.getMode()][A]>=0){var E=v.shiftAndAppend(A,C);y.push(E)}}}if(h.getBinaryShiftByteCount()>0||0===iE[h.getMode()][w]){var I=h.addBinaryShiftChar(d);y.push(I)}},t.updateStateListForPair=function(h,d,y){var w,_,v=[];try{for(var A=Ni(h),C=A.next();!C.done;C=A.next()){var m=C.value;this.updateStateForPair(m,d,y,v)}}catch(h){w={error:h}}finally{try{C&&!C.done&&(_=A.return)&&_.call(A)}finally{if(w)throw w.error}}return this.simplifyStates(v)},t.updateStateForPair=function(h,d,y,w){var _=h.endBinaryShift(d);if(w.push(_.latchAndAppend(4,y)),4!==h.getMode()&&w.push(_.shiftAndAppend(4,y)),3===y||4===y){var v=_.latchAndAppend(2,16-y).latchAndAppend(2,1);w.push(v)}if(h.getBinaryShiftByteCount()>0){var A=h.addBinaryShiftChar(d).addBinaryShiftChar(d+1);w.push(A)}},t.simplifyStates=function(h){var d,y,w,_,v=[];try{for(var A=Ni(h),C=A.next();!C.done;C=A.next()){var m=C.value,E=!0,f=function(h){if(h.isBetterThanOrEqualTo(m))return E=!1,"break";m.isBetterThanOrEqualTo(h)&&(v=v.filter(function(d){return d!==h}))};try{for(var I=(w=void 0,Ni(v)),S=I.next();!S.done&&"break"!==f(S.value);S=I.next());}catch(h){w={error:h}}finally{try{S&&!S.done&&(_=I.return)&&_.call(I)}finally{if(w)throw w.error}}E&&v.push(m)}}catch(h){d={error:h}}finally{try{C&&!C.done&&(y=A.return)&&y.call(A)}finally{if(d)throw d.error}}return v},t}(),Mi=function(h){var d="function"==typeof Symbol&&Symbol.iterator,y=d&&h[d],w=0;if(y)return y.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&w>=h.length&&(h=void 0),{value:h&&h[w++],done:!h}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(){function t(){}t.encodeBytes=function(h){return t.encode(h,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(h,d,y){var w,_,v,A,C,m=new iI(h).encode(),E=J.truncDivision(m.getSize()*d,100)+11,I=m.getSize()+E;if(y!==t.DEFAULT_AZTEC_LAYERS){if(w=y<0,(_=Math.abs(y))>(w?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new H(tv.format("Illegal value %s for layers",y));var S=(v=t.totalBitsInLayer(_,w))-v%(A=t.WORD_SIZE[_]);if((C=t.stuffBits(m,A)).getSize()+E>S||w&&C.getSize()>64*A)throw new H("Data to large for user specified layer")}else{A=0,C=null;for(var T=0;;T++){if(T>t.MAX_NB_BITS)throw new H("Data too large for an Aztec code");if(_=(w=T<=3)?T+1:T,!(I>(v=t.totalBitsInLayer(_,w)))&&(null!=C&&A===t.WORD_SIZE[_]||(A=t.WORD_SIZE[_],C=t.stuffBits(m,A)),S=v-v%A,!(w&&C.getSize()>64*A)&&C.getSize()+E<=S))break}}var O,b=t.generateCheckWords(C,v,A),R=C.getSize()/A,N=t.generateModeMessage(w,_,R),D=(w?11:14)+4*_,M=new Int32Array(D);if(w)for(T=0,O=D;T<M.length;T++)M[T]=T;else{O=D+1+2*J.truncDivision(J.truncDivision(D,2)-1,15);var P=J.truncDivision(D,2),B=J.truncDivision(O,2);for(T=0;T<P;T++){var L=T+J.truncDivision(T,15);M[P-T-1]=B-L-1,M[P+T]=B+L+1}}for(var x=new tC(O),k=(T=0,0);T<_;T++){for(var V=4*(_-T)+(w?9:12),U=0;U<V;U++)for(var X=2*U,G=0;G<2;G++)b.get(k+X+G)&&x.set(M[2*T+G],M[2*T+U]),b.get(k+2*V+X+G)&&x.set(M[2*T+U],M[D-1-2*T-G]),b.get(k+4*V+X+G)&&x.set(M[D-1-2*T-G],M[D-1-2*T-U]),b.get(k+6*V+X+G)&&x.set(M[D-1-2*T-U],M[2*T+G]);k+=8*V}if(t.drawModeMessage(x,w,O,N),w)t.drawBullsEye(x,J.truncDivision(O,2),5);else for(t.drawBullsEye(x,J.truncDivision(O,2),7),T=0,U=0;T<J.truncDivision(D,2)-1;T+=15,U+=16)for(G=1&J.truncDivision(O,2);G<O;G+=2)x.set(J.truncDivision(O,2)-U,G),x.set(J.truncDivision(O,2)+U,G),x.set(G,J.truncDivision(O,2)-U),x.set(G,J.truncDivision(O,2)+U);var z=new ih;return z.setCompact(w),z.setSize(O),z.setLayers(_),z.setCodeWords(R),z.setMatrix(x),z},t.drawBullsEye=function(h,d,y){for(var w=0;w<y;w+=2)for(var _=d-w;_<=d+w;_++)h.set(_,d-w),h.set(_,d+w),h.set(d-w,_),h.set(d+w,_);h.set(d-y,d-y),h.set(d-y+1,d-y),h.set(d-y,d-y+1),h.set(d+y,d-y),h.set(d+y,d-y+1),h.set(d+y,d+y-1)},t.generateModeMessage=function(h,d,y){var w=new $;return h?(w.appendBits(d-1,2),w.appendBits(y-1,6),w=t.generateCheckWords(w,28,4)):(w.appendBits(d-1,5),w.appendBits(y-1,11),w=t.generateCheckWords(w,40,4)),w},t.drawModeMessage=function(h,d,y,w){var _=J.truncDivision(y,2);if(d)for(var v=0;v<7;v++){var A=_-3+v;w.get(v)&&h.set(A,_-5),w.get(v+7)&&h.set(_+5,A),w.get(20-v)&&h.set(A,_+5),w.get(27-v)&&h.set(_-5,A)}else for(v=0;v<10;v++)A=_-5+v+J.truncDivision(v,5),w.get(v)&&h.set(A,_-7),w.get(v+10)&&h.set(_+7,A),w.get(29-v)&&h.set(A,_+7),w.get(39-v)&&h.set(_-7,A)},t.generateCheckWords=function(h,d,y){var w,_,v=h.getSize()/y,A=new ow(t.getGF(y)),C=J.truncDivision(d,y),m=t.bitsToWords(h,y,C);A.encode(m,C-v);var E=d%y,I=new $;I.appendBits(0,E);try{for(var S=Mi(Array.from(m)),T=S.next();!T.done;T=S.next()){var O=T.value;I.appendBits(O,y)}}catch(h){w={error:h}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}return I},t.bitsToWords=function(h,d,y){var w,_,v=new Int32Array(y);for(w=0,_=h.getSize()/d;w<_;w++){for(var A=0,C=0;C<d;C++)A|=h.get(w*d+C)?1<<d-C-1:0;v[w]=A}return v},t.getGF=function(h){switch(h){case 4:return tJ.AZTEC_PARAM;case 6:return tJ.AZTEC_DATA_6;case 8:return tJ.AZTEC_DATA_8;case 10:return tJ.AZTEC_DATA_10;case 12:return tJ.AZTEC_DATA_12;default:throw new H("Unsupported word size "+h)}},t.stuffBits=function(h,d){for(var y=new $,w=h.getSize(),_=(1<<d)-2,v=0;v<w;v+=d){for(var A=0,C=0;C<d;C++)(v+C>=w||h.get(v+C))&&(A|=1<<d-1-C);(A&_)===_?(y.appendBits(A&_,d),v--):0==(A&_)?(y.appendBits(1|A,d),v--):y.appendBits(A,d)}return y},t.totalBitsInLayer=function(h,d){return((d?88:112)+16*h)*h},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12])}();var Pi=function(h){return h instanceof Date},Bi=function(h){return null==h},Li=function(h){return"object"==typeof h},Fi=function(h){return!Bi(h)&&!Array.isArray(h)&&Li(h)&&!Pi(h)},ki=function(h){return Bi(h)||!Li(h)},Vi=function(h){var d=h.onResult,y=h.onError,w=h.scanDelay,_=h.hints,v=h.deviceId,C=(0,A.useRef)(d),m=(0,A.useRef)(y),E=(0,A.useRef)(null),I=(0,A.useState)(h.constraints),S=I[0],T=I[1],O=(0,A.useMemo)(function(){return new og(_,w)},[]),b=(0,A.useCallback)(function(h,d){h&&C.current(h),!d||d instanceof tE||m.current(d)},[]),R=(0,A.useCallback)(function(){return u(void 0,void 0,void 0,function(){var h,d;return c(this,function(y){switch(y.label){case 0:if(!E.current)return[2];y.label=1;case 1:return y.trys.push([1,6,,7]),v?[4,O.decodeFromVideoDevice(v,E.current,b)]:[3,3];case 2:return y.sent(),[3,5];case 3:return h={audio:!1,video:S},[4,O.decodeFromConstraints(h,E.current,b)];case 4:y.sent(),y.label=5;case 5:return[3,7];case 6:return d=y.sent(),m.current(d),[3,7];case 7:return[2]}})})},[O,v,S,b]),N=(0,A.useCallback)(function(){O.reset()},[O]);return(0,A.useEffect)(function(){(function xi(h,d){if(ki(h)||ki(d))return h===d;if(Pi(h)&&Pi(d))return h.getTime()===d.getTime();var y=Object.keys(h),w=Object.keys(d);if(y.length!==w.length)return!1;for(var _=0;_<y.length;_++){var v=y[_],A=h[v];if(!w.includes(v))return!1;if("ref"!==v){var C=d[v];if(Pi(A)&&Pi(C)||Fi(A)&&Fi(C)||Array.isArray(A)&&Array.isArray(C)?!xi(A,C):A!==C)return!1}}return!0})(h.constraints,S)||T(h.constraints)},[h.constraints]),(0,A.useEffect)(function(){C.current=d},[d]),(0,A.useEffect)(function(){m.current=y},[y]),(0,A.useEffect)(function(){return u(void 0,void 0,void 0,function(){return c(this,function(h){switch(h.label){case 0:return[4,R()];case 1:return h.sent(),[2]}})}),function(){N()}},[R,N]),{ref:E,start:R,stop:N}},iS={width:"100%",paddingTop:"100%",overflow:"hidden",position:"relative"},iT={top:0,left:0,width:"100%",height:"100%",display:"block",overflow:"hidden",position:"absolute"},Xi=function(h){var d=h.containerStyle,y=h.videoStyle,w=h.constraints,_=void 0===w?R:w,v=h.onResult,C=h.onDecode,m=h.viewFinder,E=h.hideCount,I=h.tracker,S=h.viewFinderBorder,T=h.deviceId,O=h.scanDelay,b=void 0===O?100:O,N=function(h,d){var y={};for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&0>d.indexOf(w)&&(y[w]=h[w]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(w=Object.getOwnPropertySymbols(h);_<w.length;_++)0>d.indexOf(w[_])&&Object.prototype.propertyIsEnumerable.call(h,w[_])&&(y[w[_]]=h[w[_]])}return y}(h,["containerStyle","videoStyle","constraints","onResult","onDecode","viewFinder","hideCount","tracker","viewFinderBorder","deviceId","scanDelay"]),D=(0,A.useState)(0),M=D[0],P=D[1],B=(0,A.useState)(),L=B[0],x=B[1],k=Vi(s({onResult:function(h){x(h),v&&v(h),C&&C(h.getText()),P(function(h){return h+1})},constraints:_,deviceId:T,scanDelay:b},N)).ref;return A.createElement("div",{style:s(s({},iS),d)},m?A.createElement(m,null):A.createElement(g,{video:k.current,result:L,scanCount:M,hideCount:void 0===E||E,tracker:void 0!==I&&I,border:S,constraints:_,deviceId:T,scanDelay:b}),A.createElement("video",{ref:k,muted:!0,style:s(s({},iT),y)}))}}}]);